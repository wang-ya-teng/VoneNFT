{"version":3,"sources":["Connections/web3Modal.js","Assets/icons/eth.png","Assets/icons/binance-smart-chain-icon.png","Utils/getContractAddress.js","Store/actions.js","Assets/logo-mochi.png","Assets/avatar-profile.png","Utils/getWeb3List.js","Utils/orbit.js","Components/NavBar/LeftMenu.js","Assets/avatar-logout.png","Components/Logout/index.js","Components/NavBar/RightMenu.js","Components/UnmatchedChainModal/index.js","Components/NavBar/index.js","Components/StatusActivity/index.js","Components/Notification/index.js","Components/CreateModal/index.js","Components/ConnectWallet/index.js","Views/Create/ERC721/collections.js","Assets/icons/addIcon.png","Views/Create/UploadIpfs.js","Views/Create/ERC721/index.js","Assets/icons/add.png","Assets/icons/delete.png","App.js","index.js","Assets/logo.png","Utils/ipfs.js","Assets/icons/dui.png","Utils/getUrlsSubgraph.js","Utils/helper.js","Assets/notfound.png","Components/IconLoading/index.js","Assets/avatar-default.png","Store/reducer.js","Store/index.js","Utils/getRootExplorer.js","Components/SupportMode/index.js","Components/CreateColModal/index.js"],"names":["CONNECTID","rpcSupport","providerOptions","walletconnect","options","rpc","paramsSwitchNetwork","chainId","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","selectChain","walletAddress","a","injectNetworkNoEthereum","store","dispatch","setChainId","setWeb3","getWeb3List","web3Default","localStorage","window","ethereum","request","method","params","web3Modal","Web3Modal","cacheProvider","disconnectWeb3Modal","removeItem","clearCachedProvider","connectWeb3Modal","getState","connect","provider","web3","Web3","eth","net","getId","chainID","getAccounts","accounts","setBalance","setUnmatchedModal","length","setAddress","setAcceptedNfts","isLogin","on","location","href","parseInt","utils","hexToNumber","contractAddress","AddressesProvider","CreativeStudio","ExchangeOrderList","Market","NftList","SellOrderList","Vault","DidiERC721NFT","DidiERC1155NFT","infoChains","icon","bnb","listChainsSupport","getContractAddress","_chainId","getInfoChain","NULL_ADDRESS","VALUE_MAX","SET_WEB3","type","addressesProvider","Contract","abi","market","nftList","NFTList","sellOrderList","vault","creativeStudio","setAddressesProvider","setMarket","setNftList","setSellOrderList","setVault","setCreativeStudio","setAdminAddress","setAvailableSellOrder","LOGOUT","logout","SET_CHAINID","SET_ADMIN_ADDRESS","methods","getAdmin","call","adminAddress","SET_ADDRESS","toLowerCase","shortAddress","slice","getUser","infoUserLogin","user","SET_INFO_USER_LOGIN","setCollectionByUser","SET_BALANCE","getBalance","balance","parseBalance","toString","SET_STR_SEARCH","SET_INFO_COLLECTIONS","setInfoCollections","infoCollections","SET_INFO_USERS","setInfoUsers","infoUsers","INIT_ERC721","initERC721","acceptedNftsAddress","erc721Instances","i","isERC1155","push","ERC721","getNFTsOfOwner","GET_NFTS_BY_COLLECTION_ADDRESS","getNftsByCollectionAddress","collectionAddress","SampleERC721","instance","nftsOfCollectionAddress","totalSupply","console","log","token","tokenByIndex","index","is1155","tokenURI","GET_OWNED_ERC721","SET_LIST_NTTS_OWNER","address","setLoadingErc721","getERC721","Promise","resolve","ERC721token","balanceOf","addressToken","_address","attributes","collections","tokenOfOwnerByIndex","nameCollection","all","map","erc721Tokens","concat","filter","el","IS_LOADING_ERC721","isLoadingErc721","TRANSFER_ERROR","transferNft","to","tokenId","amount","activity","key","Date","now","status","title","duration","txHash","nftInstance","ERC1155","safeTransferFrom","send","from","setStatusActivity","receipt","transferError","error","SET_ADDRESSESPROVIDER","SET_NFTLIST","SET_VAULT","SET_SELLORDERLIST","SET_MARKET","SET_CREATIVESTUDIO","SET_ACCEPTED_NFTS","getAcceptedNFTs","value","SET_CONVERT_ERC721","SET_AVAILABLE_SELL_ORDER_721","SET_LIST_NTTS_ONSALE","listNFTsOnsale","collectionsInfo","pushErc721","listNftContract","avatarToken","tokens","getCollection","nftAddress","resCollection","collection","logo","order","id","price","symbolCollections","sortIndex","tokenPayment","seller","sellId","getAvailableSellOrdersIdList","availableSellOrderIdList","getSellOrdersByIdList","resultERC721","availableSellOrderERC721","convertErc721Tokens","listNftContracts721","sellOrder","nftindex","findIndex","nft","listNftcontract","availableSellOrder721","SET_MY_SELL_ORDER","APPROVE_ERROR","SELL_ERROR","createSellOrder","erc1155Instance","isApprovedForAll","setApprovalForAll","erc721Instance","addressApproved","approveError","sellError","getAvailableSellOrdersIdListByUser","orders","resultERC1155","SET_ALLOWANCE","approveToken","orderDetail","instaneErc20","ERC20","allowance","approve","allowanceToken","BUY_ERROR","buyNft","link","buyError","buy","explorer","transactionHash","UPDATE_ERROR","updatePrice","newPrice","updateError","CANCEL_ERROR","cancelSellOrder","cancelError","MINT_ERROR","generateERC721NFT","collectionId","tokenUri","mintError","tokenIdForSell","mint","events","Transfer","returnValues","SET_USER_COLLECTIONS","getCollectionsByUser","userCollections","JSON","stringify","parse","formatUserCollections","userCollection","creator","COL_ERROR","createERC721Collection","colError","NOTI","ACTIVITY","_collections","SampleERC1155","erc1155Instances","uri","axios","get","req","data","logoCollectionDefault","_users","users","username","avatar","avatarDefault","SET_ORBITDB","setOrbitdb","orbitdb","SET_USER_INFO","setUserInfo","userInfo","SET_COLLECTION_INFO","setCollectionInfo","collectionInfo","colObj","forEach","item","setCollectionObj","SET_COLLECTION_OBJ","collectionObj","UNMATCHED_MODAL","unmatchedModal","providers","HttpProvider","networkDefault","getItem","ipfsConfig","preload","enabled","EXPERIMENTAL","pubsub","config","Addresses","Swarm","initOrbitDB","IPFS","create","ipfs","OrbitDB","createInstance","getDB","orbit","open","db","load","useBreakpoint","Grid","LeftNar","history","useHistory","matchRouteToken","useRouteMatch","matchRouteCollection","matchRouteProfile","useSelector","state","useState","infoChain","setInfoChain","useEffect","setWeb3Default","switchNetworks","md","span","placement","overlay","className","ItemGroup","info","Item","onClick","src","alt","trigger","imgNotFound","CaretDownOutlined","LogoutWallet","isModalVisible","setIsModalVisible","useDispatch","router","cancelModal","centered","visible","onOk","onCancel","footer","style","width","size","shape","SubMenu","Menu","RightMenu","onClose","useLocation","userData","setUserData","setTimeout","generateMenuItemForRouteKey","routeKey","pathName","pathname","linkClassName","menuClassName","walletProfilePath","toPage","url","Url","selectable","mode","triggerSubMenuAction","paddingLeft","display","UnmatchedChainModal","props","isChainModalVisible","setIsChainModalVisible","maskClosable","closable","wrapClassName","NavBar","fetchDB","process","then","StatusActivity","openNotification","useCallback","notification","close","message","description","getRootExplorer","target","rel","TypeStaus","marginRight","LoadingOutlined","fontSize","CheckCircleTwoTone","twoToneColor","CloseCircleOutlined","Notification","noti","success","openSuccess","fn","btn","openSuccessRedirect","showNotification","CreateModal","handleClean","first","uploading","setCreate","setApprove","pinataUri","inputOpen","selling","setTokenId","setCollection","mintAgain","result","toWei","sellAgain","Dui","loading","margin","ConnectWallet","okText","setOkText","cancelText","setCancelText","content","setContent","setTitle","isMetaMask","navigator","userAgent","indexOf","SupportMode","setVisible","TextArea","Input","NFTinfo","height","borderRadius","ERC721Collections","setCollectionId","setNftAddress","isDeploying","setIsDeploying","setLoading","files","setFiles","colArr","setColArr","collectionData","setCollectionData","Form","useForm","form","dbAddress","useDropzone","accept","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","getRootProps","getInputProps","onSubmit","values","formData","FormData","append","uploadFileToIpfs","ipfsHash","image","warn","res","col","set","catch","e","handleCancel","resetFields","handleOk","submit","CreateColModal","padding","Logo","EditOutlined","onFinish","layout","alignItems","maxWidth","objectFit","marginLeft","textAlign","marginBottom","rules","required","placeholder","autoSize","minRows","maxLength","generateURI","reject","draw","uploadJsonToIpfs","uploadIPFS","CreateERC721","setPrice","setFirst","setUploading","setSelling","isLoading","setIsLoading","setBTN","setInputOpen","setAttributes","setPinataUri","profile","useRef","receivedPrice","setReceivedPrice","onFinishing","attrs","addAttributes","attr","attrName","trait_type","attrValue","metaData","parseFloat","ref","colon","label","cursor","List","fields","add","remove","justifyContent","fieldKey","restField","position","align","border","right","top","marginTop","disabled","htmlType","valuePropName","onChange","Group","min","controls","formatter","replace","addonAfter","val","toFixed","max","step","justify","Create","lazy","Profile","EditProfile","Login","Collection","CreateCollection","CollectionStandard","EditCollection","CollectionDetail","DetailNFT","App","document","querySelector","setAttribute","fetchDataInit","fallback","IconLoading","background","exact","path","component","ReactDOM","render","getElementById","post","maxBodyLength","headers","pinata_api_key","pinata_secret_api_key","uploadedData","IpfsHash","urlsSubgraph","url1155","url721","getUrlSubgraph","require","_balanceWei","_decimals","afterDecimal","weiString","beforeDecimal","repeat","tokenAddress","erc20","getAllOwnersOf1155","addressMarket","query","ownersOf1155Raw","balances","owner","account","ownersOf1155","addressOwnersOf1155","getPriceBNB","ethusd","countPrice","getPriceETH","initialState","strSearch","listNFTsOwner","verifiedContracts","erc1155Tokens","availableSellOrder1155","convertErc1155Tokens","mySellOrder","rootReducer","action","actions","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","REACT_APP_ENVIRONMENT","createStore","applyMiddleware","thunk","rootExplorer","Cancel","tryAgain","color","flexDirection"],"mappings":"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","file":"static/js/main.518e74e7.chunk.js","sourcesContent":["import Web3 from 'web3';\r\nimport Web3Modal from 'web3modal';\r\n// import WalletConnectProvider from '@walletconnect/web3-provider';\r\nimport {\r\n    setChainId,\r\n    setWeb3,\r\n    setAddress,\r\n    setAcceptedNfts,\r\n    setBalance,\r\n    setUnmatchedModal\r\n} from 'Store/actions';\r\nimport store from 'Store/index';\r\nimport { getWeb3List } from 'Utils/getWeb3List';\r\n\r\nexport const CONNECTID = 'WEB3_CONNECT_CACHED_PROVIDER';\r\n\r\n// 平台支持的链类型RPC\r\nconst rpcSupport = {\r\n    4: 'https://rinkeby.infura.io/v3/2457d7b074194e61a49947a293acf117',\r\n    97: 'https://data-seed-prebsc-1-s1.binance.org:8545/',\r\n};\r\nconst providerOptions = {\r\n    walletconnect: {\r\n        // package: WalletConnectProvider, // web3modal自带的登录弹框\r\n        options: {\r\n            rpc: rpcSupport,\r\n        },\r\n    },\r\n};\r\n// 平台支持链的配置参数 切换链类型时用\r\nconst paramsSwitchNetwork = {\r\n    4: [\r\n        {\r\n            chainId: '0x4',\r\n            chainName: 'Rinkeby',\r\n            nativeCurrency: {\r\n                name: 'ETH',\r\n                symbol: 'ETH',\r\n                decimals: 18,\r\n            },\r\n            rpcUrls: ['https://rinkeby.infura.io/v3/2457d7b074194e61a49947a293acf117/'],\r\n            blockExplorerUrls: ['https://rinkeby.etherscan.io/'],\r\n        },\r\n    ],\r\n    97: [\r\n        {\r\n            chainId: '0x61',\r\n            chainName: 'BSC-Testnet',\r\n            nativeCurrency: {\r\n                name: 'BNB',\r\n                symbol: 'BNB',\r\n                decimals: 18,\r\n            },\r\n            rpcUrls: ['https://data-seed-prebsc-1-s1.binance.org:8545/'],\r\n            blockExplorerUrls: ['https://testnet.bscscan.com/'],\r\n        },\r\n    ]\r\n};\r\n// 选择链类型\r\nexport const selectChain = async (chainId, walletAddress) => {\r\n    if (!!rpcSupport[chainId]) {\r\n        if (!!walletAddress) {\r\n            injectNetworkNoEthereum(chainId);\r\n        } else {\r\n            store.dispatch(setChainId(chainId));\r\n            await store.dispatch(setWeb3(getWeb3List(chainId).web3Default));\r\n            localStorage.chainId = chainId\r\n        }\r\n    }\r\n};\r\n\r\n// Switch for chains is not ETH\r\nexport const injectNetworkNoEthereum = async (chainId) => {\r\n    //wallet_switchEthereumChain：在以太坊的生态系统中切换链的方法,wallet_addEthereumChain:切换非以太坊链的方法\r\n    await window.ethereum?.request({\r\n        method: chainId === 4 ? 'wallet_switchEthereumChain' : 'wallet_addEthereumChain',\r\n        params: chainId === 4 ? [\r\n            {\r\n                chainId: '0x4',\r\n            },\r\n        ] : paramsSwitchNetwork[chainId],\r\n    });\r\n};\r\n\r\n// 在以太坊的生态系统中切换链\r\nexport const injectNetworkEthereum = async (chainId, web3) => {\r\n    await window.ethereum?.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [\r\n            {\r\n                chainId: web3.utils.numberToHex(chainId),\r\n            },\r\n        ],\r\n    });\r\n};\r\n\r\nconst web3Modal = new Web3Modal({\r\n    cacheProvider: true, // optional\r\n    providerOptions, // required\r\n});\r\n// 断开钱包连接\r\nexport const disconnectWeb3Modal = async () => {\r\n    localStorage.removeItem(CONNECTID);\r\n    localStorage.removeItem('chainId');\r\n    web3Modal.clearCachedProvider();\r\n};\r\n// 连接钱包\r\nexport const connectWeb3Modal = async () => {\r\n    const { chainId } = store.getState();\r\n    if (!!chainId) {\r\n        injectNetworkNoEthereum(chainId);\r\n    }\r\n\r\n    const provider = await web3Modal.connect();\r\n\r\n    const web3 = new Web3(provider);\r\n\r\n    let chainID = await web3.eth.net.getId();\r\n    if (!!rpcSupport[chainID]) {\r\n        let accounts = await web3.eth.getAccounts();\r\n        store.dispatch(setChainId(chainID));\r\n        store.dispatch(setWeb3(web3));\r\n        store.dispatch(setBalance(accounts[0]));\r\n        store.dispatch(setUnmatchedModal(false));\r\n        if (accounts.length > 0) {\r\n            store.dispatch(setAddress(accounts[0]));\r\n            // Init ERC721\r\n            store.dispatch(setAcceptedNfts());\r\n            // 设置登录状态\r\n            localStorage.isLogin = true;\r\n            localStorage.chainId = !!chainID ? chainID : 97;\r\n        }\r\n    } else {\r\n        store.dispatch(setUnmatchedModal(true));// 打开链类型不匹配弹框\r\n        localStorage.removeItem(CONNECTID);\r\n        localStorage.removeItem('chainId');\r\n        localStorage.isLogin = false;\r\n    }\r\n\r\n    // 监听账户切换\r\n    provider.on('accountsChanged', async (accounts) => {\r\n        if (accounts.length > 0) {\r\n            store.dispatch(setAddress(accounts[0]));\r\n            store.dispatch(setAcceptedNfts());\r\n            store.dispatch(setBalance(accounts[0]));\r\n        } else {\r\n            window.location.href = '/login'\r\n        }\r\n    });\r\n\r\n    // 监听链类型切换\r\n    provider.on('chainChanged', async (chainID) => {\r\n        chainID = parseInt(web3.utils.hexToNumber(chainID));\r\n        if (!!rpcSupport[chainID]) {\r\n            let accounts = await web3.eth.getAccounts();\r\n            store.dispatch(setChainId(chainID));\r\n            store.dispatch(setAcceptedNfts());\r\n            store.dispatch(setWeb3(web3));\r\n            store.dispatch(setAddress(accounts[0]));\r\n            store.dispatch(setBalance(accounts[0]));\r\n            localStorage.isLogin = true\r\n            localStorage.chainId = chainID\r\n            store.dispatch(setUnmatchedModal(false));\r\n        } else {\r\n            store.dispatch(setUnmatchedModal(true));// 打开链类型不匹配弹框\r\n        }\r\n    });\r\n\r\n    // Subscribe to provider connection\r\n    // provider.on('connect', (info) => {\r\n    //     console.log(info);\r\n    // });\r\n\r\n    // Subscribe to provider disconnection 切换链类型走到这里\r\n    // provider.on('disconnect', (error) => {\r\n    //     console.log(error);\r\n    // });\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAMAAABgZ9sFAAAAAXNSR0IArs4c6QAAAfhQTFRFAAAA////39/f7+/v6enp6Ojo6urq5eXl5ubm5ubm5+fn5ubm5+fn5ubm5ubm5+fn5ubm5+fn5+fn5+fn5ubm5ubmRUp1SE13SE14UFR9VVmAV1yCWFyDWF2EWV6FWl+EXGKJYmiPY2mPZGqQZWuRZmuQZmuRZ2yRZ22RZ22SaG2TaG6TaW+Tam+UanCUa2+PbHKWbnOXcnaVdHmbdXqcdXucd3yed32deH2eeH6geX6efYOkgoakhoqmh46tiIyoiY2pipGvipGwipGxipKyi5KyjJOzjJSzjZW0jpKrjpa0j5Gpj5Otj5a0j5a1kJOtkJStkZm2kpm2k5avk5ewlZy4l5qvmJ+6maC7mp60mqC7mqG7m560oaS5oqjApKnAparBpqm8pqzCp6q8qay+qq/Eq629q66/q6/ErK6/ra/ArrHBr7LCsLTHsbXIs7jJtLbDtrvLvMDOvb7KvcHPvsDMvsHPwMLNwMPQwsTOw8XOxMbQxcbQxsfRx8jRyMrVysrSys3Wy83WzM7VzM7Xzc7Uzc/Xzs/WztDZz9HZ0NLY09PZ09TZ1tfd19jc19jd2Njc2Nnd2Nne2dnd2drf2tre29ve3d3g3d7h3t7g3t7h3t/h4OHi4eHi4eLj4uLj4uPk4+Pk4+Tk5OTk5OTl5eXl5eXm5ubm3oEaQgAAABZ0Uk5TAAcIEBchSU9bcouXs7S4zNnc5ev4/LUBg4EAAAJTSURBVEjHlZb3VxNBEMeXBEghCSHlYtcVRPHEXmNBZQUUexd7wd57BwUFVLAL1oBJ3H/T26wnO7N3eS/z487n7c13dsoRgszrC4ai8UQiHg0FfV5S1Mr8kSRXLBnxl7nCnkCMaxYLeJzpyhruaDWVTldXcVer0j5QXs2LWHU5pCtQIP09KKAKcDeiswfW5BCv3O/Bkdxk5iUcz3j8WOXwFmY2fsZ6/2cQK+tkzKR78Om/fHpwvgeYwOlTnH8ZTgAd5zokns4iR6BQJzFNp8TpOVwPon786HBkm43P+4hcfguPoLPzzMbpTuSKWPWd1HXaOH0EfUkv8SGdh1V8xRj0+kgQHtyW9Kb5BZyegd4gCUOd2wXcvLpx4ox6gZtDwB0iUfyebOOqWkpTxoRpcyx+M3BHSRzp3LB8prg2ZVg2dTalD1R/nCRUnQfXLZMxS9wwpsxKZxQgAfCXSymFuGFMfghwEMybJowv6IbBqFK/Z/mdJSo+6Ww+Nwykqon83dnLMycbbDzV/pU/2TsKEgme6W3bqU98aKvEF7/g73Y0vILPBIvgPmu9keGP0zQ1/TrPnJ5LL6MiQCV2grF9XTx7cf/Pgoz1f1CJoQL+ttt612MfOH8tkrToCy5g3B7PRdG0XDtaJwTf09sDN9/V8QI+5NB8uLXHOmx85S+H1tYGx2CrxOv7HAeHNpbuSvyC81jShl7+uMDX5l2GnjZSR3Yxc+F715GqDexnzLzlPrD1dXDlSLF1oC2b0R9Fl02pq6zURVnyGi51ydu/EGH5CxF2+IX4Cz00YUOTAaCNAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAbJJREFUSEu9VsFOwkAQnSkxREITvPkTpChw0qPgh+BRL3rQm3jTg170qP6HxaOeQKXhJ7xJKIEQQ9fMtlvbsnRXktpDk7I7772ZNzsLguIZP1vHjEEbGJixrQguIrSLe85NGgQuW3Rt6wMAKioBwXrfbDpbsr0LBBO7sjMH9qIJHNuWA9wtNPuv0R9jBG7HOgQGt6uAhzEIR2bDuRPfIYGO8nz5isfNBqepGqKZhASubbG0KAJf29znW74/n5QkZtPh2PylMjQKLkRokHDjBcFS9TJwXRLKAnmfe3AtK08SfNzxO7HYoA72n7RM0IATdG3LpRgZgVHahkL9kS/54CJRDEkm3RZ4wze5fXQYZeaS8tngjAMSiTckxQxyGzUONP/qcfv8NQJHyJcvpcYvEETLElVN4Ou1e04w7R0EJH6fiJLJyrUaQbcF87AsfyQgTfESVcEbvv+WiLEAXLdEHWu0MCkDy4xSFQr1h1STp7FsEl6TyZm3aXCSszto/zIqVFkI41cedgSQ+bjmWWR54YgG08lEPngAlFdmNFB1RyRI9C/9pLrgnFxIJu4YDThX/W35AfhfD9TUtUbsAAAAAElFTkSuQmCC\"","import eth from 'Assets/icons/eth.png';\r\nimport bnb from 'Assets/icons/binance-smart-chain-icon.png';\r\nimport bscTag from 'Assets/logo/bsc.png';\r\n\r\nconst contractAddress = {\r\n  //Rinkeby\r\n  4: {\r\n    AddressesProvider: '0x67E3aEC73ca5128BF7e82D09d642d9d9f2236685',\r\n    CreativeStudio: '0xfcAf84199DFbF1f66CA7D07d57B512048D58AC6F',\r\n    ExchangeOrderList: '0xfD49D4eF3bB6d01c25ef08B691Ee0EB53Ec27F7D',\r\n    Market: '0xe9C52AB39eC14046bc6BE8cFad34F2f26e7BF9Cd',\r\n    NftList: '0xB20A05E93ECd87C51b702e176A0c441b59422230',\r\n    SellOrderList: '0xa4F90dfcDbf90e04BafDe30a9718c135604FB262',\r\n    Vault: '0x0543C57361efa2dEA496b937d7654F770D6281df',\r\n    DidiERC721NFT: '0x8538498c69DAB74B1Bb64B788526Df2dEe3D453E',\r\n    DidiERC1155NFT: '0xa7852F76C9170B514586c9E9431A358baDA3486b'\r\n  },\r\n  //BSC Testnet\r\n  97: {\r\n    AddressesProvider: '0xe0eA5Df111f885c342443de620a765Df386B41f8',\r\n    CreativeStudio: '0x52582cbCF53C9037Cb895E54D0d79D5CC6e3F4EA',\r\n    ExchangeOrderList: '0xF5B4871c65FBE4271C7134DF515E59dD5AC0b371',\r\n    Market: '0x6B055f2E3a0a689039A3f2002e21387A6Ca25fdb',\r\n    NftList: '0x35E233042080d602c76Ad33b047d5854C3d306a1',\r\n    SellOrderList: '0x41073997CC394BB03D5b478B152512754bB6bb3e',\r\n    Vault: '0xFe55D0944DE065BaAcc07310f9efc51e2dD6705F',\r\n    DidiERC721NFT: '0xf069D480589895e63669581de964Cd1f64527fAD',\r\n    DidiERC1155NFT: '0xC494fC2F216De8446E20617b9dC4aea763881CdB',\r\n  }\r\n};\r\n\r\n// const tokensPayment = {\r\n//   //BSC Testnet\r\n//   97: [\r\n//     // { address: '0x777d20e16C6Bc508d5989e81a6c9B5034a32C6DD', icon: moma, symbol: 'MOMA' },\r\n//     { address: '0x0000000000000000000000000000000000000000', icon: bnb, symbol: 'BNB' },\r\n//   ],\r\n//   // RINKEBY\r\n//   4: [\r\n//     // { address: '0x777d20e16C6Bc508d5989e81a6c9B5034a32C6DD', icon: moma, symbol: 'MOMA' },\r\n//     { address: '0x0000000000000000000000000000000000000000', icon: eth, symbol: 'ETH' },\r\n//   ]\r\n// };\r\n\r\n// const symbolToken = {\r\n//   //BSC Testnet\r\n//   97: {\r\n//     '0x777d20e16C6Bc508d5989e81a6c9B5034a32C6DD': 'MOMA',\r\n//     '0x0000000000000000000000000000000000000000': 'BNB',\r\n//   },\r\n//   // RINKEBY\r\n//   4: {\r\n//     '0x777d20e16C6Bc508d5989e81a6c9B5034a32C6DD': 'MOMA',\r\n//     '0x0000000000000000000000000000000000000000': 'ETH',\r\n//   }\r\n// };\r\n\r\nconst infoChains = {\r\n  4: { name: 'Rinkeby', icon: eth },\r\n  97: { name: 'BSC-Testnet', icon: bnb }\r\n};\r\n\r\nexport const listChainsSupport = [\r\n  { chainId: 4, name: 'Rinkeby', icon: eth /*RINKEBY*/ },\r\n  { chainId: 97, name: 'BSC-Testnet', icon: bnb /*BSC Testnet*/ }\r\n];\r\n\r\nconst logoChainsTags = {\r\n  4: { name: 'Rinkeby', logo: eth },\r\n  97: { name: 'BSC-Testnet', logo: bscTag }\r\n};\r\n\r\nexport const getContractAddress = (_chainId) => {\r\n  return contractAddress[_chainId];\r\n};\r\n// export const getTokensPayment = (_chainId) => {\r\n//   return tokensPayment[_chainId];\r\n// };\r\n// export const getSymbol = (_chainId) => {\r\n//   return symbolToken[_chainId];\r\n// };\r\nexport const getInfoChain = (_chainId) => {\r\n  return infoChains[_chainId];\r\n};\r\nexport const getLogoChainsTags = (_chainId) => {\r\n  return logoChainsTags[_chainId];\r\n};\r\n","import {\r\n  parseBalance\r\n} from 'Utils/helper';\r\nimport ERC721 from 'Contracts/ERC721.json';\r\nimport ERC1155 from 'Contracts/ERC1155.json';\r\nimport SampleERC721 from 'Contracts/SampleERC721.json';\r\nimport SampleERC1155 from 'Contracts/SampleERC1155.json';\r\nimport DidiERC721NFT from 'Contracts/DidiERC721NFT.json';\r\nimport DidiERC1155NFT from 'Contracts/DidiERC1155NFT.json';\r\nimport AddressesProvider from 'Contracts/AddressesProvider.json';\r\nimport Market from 'Contracts/Market.json';\r\nimport NFTList from 'Contracts/NFTList.json';\r\nimport SellOrderList from 'Contracts/SellOrderList.json';\r\nimport Vault from 'Contracts/Vault.json';\r\nimport CreativeStudio from 'Contracts/CreativeStudio.json';\r\nimport ERC20 from 'Contracts/ERC20.json';\r\nimport axios from 'axios';\r\nimport { getContractAddress } from 'Utils/getContractAddress';\r\nimport { getWeb3List } from 'Utils/getWeb3List';\r\nimport logoCollectionDefault from 'Assets/logo-mochi.png';\r\nimport avatarDefault from 'Assets/avatar-profile.png';\r\n\r\nvar contractAddress;\r\nconst NULL_ADDRESS = '0x0000000000000000000000000000000000000000';\r\nconst VALUE_MAX = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff';\r\n\r\n////////////////////\r\n// Common\r\n////////////////////\r\n\r\nexport const SET_WEB3 = 'SET_WEB3';\r\nexport const setWeb3 = (web3) => async (dispatch, getState) => {\r\n  dispatch({ type: SET_WEB3, web3 });\r\n\r\n  let chainId = getState().chainId ? getState().chainId : await web3.eth.net.getId();\r\n  contractAddress = getContractAddress(chainId);\r\n\r\n  const addressesProvider = new web3.eth.Contract(\r\n    AddressesProvider.abi,\r\n    contractAddress.AddressesProvider\r\n  );\r\n  const market = new web3.eth.Contract(Market.abi, contractAddress.Market);\r\n  const nftList = new web3.eth.Contract(NFTList.abi, contractAddress.NftList);\r\n  const sellOrderList = new web3.eth.Contract(SellOrderList.abi, contractAddress.SellOrderList);\r\n  const vault = new web3.eth.Contract(Vault.abi, contractAddress.Vault);\r\n  const creativeStudio = new web3.eth.Contract(CreativeStudio.abi, contractAddress.CreativeStudio);\r\n\r\n  dispatch(setAddressesProvider(addressesProvider));\r\n  dispatch(setMarket(market));\r\n  dispatch(setNftList(nftList));\r\n  // dispatch(setAcceptedNftsUser());\r\n  dispatch(setSellOrderList(sellOrderList));\r\n  dispatch(setVault(vault));\r\n  dispatch(setCreativeStudio(creativeStudio));\r\n  dispatch(setAdminAddress(addressesProvider));\r\n\r\n  dispatch(setAvailableSellOrder());\r\n};\r\n\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const logout = () => (dispatch) => {\r\n  dispatch({ type: LOGOUT });\r\n};\r\n\r\nexport const SET_CHAINID = 'SET_CHAINID';\r\nexport const setChainId = (chainId) => (dispatch) => {\r\n  dispatch({ type: SET_CHAINID, chainId });\r\n};\r\n\r\nexport const SET_ADMIN_ADDRESS = 'SET_ADMIN_ADDRESS';\r\nexport const setAdminAddress = (addressesProvider) => async (dispatch) => {\r\n  let adminAddress = await addressesProvider.methods.getAdmin().call();\r\n  dispatch({\r\n    type: SET_ADMIN_ADDRESS,\r\n    adminAddress,\r\n  });\r\n};\r\n\r\nexport const SET_ADDRESS = 'SET_ADDRESS';\r\nexport const setAddress = (walletAddress) => async (dispatch) => {\r\n  walletAddress = walletAddress?.toLowerCase()\r\n  if (walletAddress) {\r\n    var shortAddress = `${walletAddress?.slice(0, 6)}...${walletAddress?.slice(\r\n      walletAddress?.length - 4,\r\n      walletAddress?.length\r\n    )}`;\r\n\r\n    let infoUserLogin = (await dispatch(getUser(walletAddress))).user;\r\n\r\n    dispatch({\r\n      type: SET_ADDRESS,\r\n      walletAddress,\r\n      shortAddress,\r\n    });\r\n\r\n    dispatch({\r\n      type: SET_INFO_USER_LOGIN,\r\n      infoUserLogin,\r\n    });\r\n    dispatch(setBalance());\r\n\r\n    dispatch(setCollectionByUser());\r\n  }\r\n};\r\n\r\nexport const SET_BALANCE = 'SET_BALANCE';\r\nexport const setBalance = (walletAddress) => async (dispatch, getState) => {\r\n  let { web3 } = getState();\r\n  let balance;\r\n  if (!!walletAddress) {\r\n    balance = await web3.eth.getBalance(walletAddress);\r\n    if (!!balance) {\r\n      balance = parseBalance(balance.toString(), 18);\r\n      dispatch({\r\n        type: SET_BALANCE,\r\n        balance,\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const SET_STR_SEARCH = 'SET_STR_SEARCH';\r\nexport const setStrSearch = (strSearch) => (dispatch) => {\r\n  dispatch({ type: SET_STR_SEARCH, strSearch });\r\n};\r\n\r\nexport const SET_INFO_COLLECTIONS = 'SET_INFO_COLLECTIONS';\r\nexport const setInfoCollections = (infoCollections) => (dispatch) => {\r\n  dispatch({ type: SET_INFO_COLLECTIONS, infoCollections });\r\n};\r\n\r\nexport const SET_INFO_USERS = 'SET_INFO_USERS';\r\nexport const setInfoUsers = (infoUsers) => (dispatch) => {\r\n  dispatch({ type: SET_INFO_USERS, infoUsers });\r\n};\r\n\r\nexport const SET_INFO_USER_LOGIN = 'SET_INFO_USER_LOGIN';\r\nexport const setInfoUserLogin = (infoUserLogin) => (dispatch) => {\r\n  dispatch({ type: SET_INFO_USER_LOGIN, infoUserLogin });\r\n};\r\n\r\n////////////////////\r\n// ERC721\r\n////////////////////\r\nexport const INIT_ERC721 = 'INIT_ERC721';\r\nexport const initERC721 = (acceptedNftsAddress) => async (dispatch, getState) => {\r\n  const { web3, nftList } = getState();\r\n  let erc721Instances = [];\r\n  // let erc1155Instances = [];\r\n  if (!!acceptedNftsAddress) {\r\n    for (let i = 0; i < acceptedNftsAddress.length; i++) {\r\n      let is1155 = await nftList.methods.isERC1155(acceptedNftsAddress[i]).call();\r\n      if (is1155) {\r\n        // erc1155Instances.push(new web3.eth.Contract(ERC1155.abi, acceptedNftsAddress[i]));\r\n      } else {\r\n        erc721Instances.push(new web3.eth.Contract(ERC721.abi, acceptedNftsAddress[i]));\r\n      }\r\n    }\r\n\r\n    dispatch({ type: INIT_ERC721, erc721Instances });\r\n    dispatch(getNFTsOfOwner(erc721Instances));\r\n  }\r\n};\r\n\r\nexport const GET_NFTS_BY_COLLECTION_ADDRESS = 'GET_NFTS_BY_COLLECTION_ADDRESS';\r\nexport const getNftsByCollectionAddress = (collectionAddress) => async (dispatch, getState) => {\r\n  const { web3 } = getState();\r\n  let instance = await new web3.eth.Contract(\r\n    SampleERC721.abi,\r\n    collectionAddress\r\n  );\r\n  // let nftsArr = [];\r\n  let balance\r\n  let nftsOfCollectionAddress = [];\r\n\r\n  balance = await instance.methods.totalSupply().call();\r\n  console.log(collectionAddress)\r\n  console.log(balance)\r\n\r\n  if (balance > 0) {\r\n    for (let i = 0; i < balance; i++) {\r\n      let token = {};\r\n      token.index = await instance.methods.tokenByIndex(i).call();\r\n      token.is1155 = false;\r\n      token.tokenURI = await instance.methods.tokenURI(token.index).call();\r\n      nftsOfCollectionAddress.push(token)\r\n    }\r\n    dispatch({ type: GET_NFTS_BY_COLLECTION_ADDRESS, nftsOfCollectionAddress });\r\n  } else {\r\n    dispatch({ type: GET_NFTS_BY_COLLECTION_ADDRESS, nftsOfCollectionAddress });\r\n  }\r\n\r\n}\r\n\r\nexport const GET_OWNED_ERC721 = 'GET_OWNED_ERC721';\r\nexport const SET_LIST_NTTS_OWNER = 'SET_LIST_NTTS_OWNER';\r\nexport const getNFTsOfOwner = (erc721Instances, address) => async (dispatch, getState) => {\r\n  // const walletAddress = address;\r\n\r\n  dispatch(setLoadingErc721(true));\r\n\r\n  var getERC721 = (instance) => {\r\n    return new Promise(async (resolve) => {\r\n      let ERC721token = [];\r\n      let balance;\r\n      if (address) {\r\n        balance = await instance.methods.balanceOf(address).call();\r\n      }\r\n      if (balance > 0) {\r\n        for (let i = 0; i < balance; i++) {\r\n          let token = {};\r\n          token.addressToken = instance._address;\r\n          token.attributes = null;\r\n          token.collections = await instance.methods.name().call();\r\n          token.index = await instance.methods.tokenOfOwnerByIndex(address, i).call();\r\n          token.is1155 = false;\r\n          token.nameCollection = await instance.methods.name().call();\r\n          token.symbol = await instance.methods.symbol().call();\r\n          token.tokenURI = await instance.methods.tokenURI(token.index).call();\r\n          // console.log(await instance.methods.totalSupply().call());\r\n          ERC721token.push(token);\r\n        }\r\n        resolve(ERC721token);\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n  };\r\n\r\n  let erc721Tokens = await Promise.all(\r\n    erc721Instances.map(async (instance) => {\r\n      return await getERC721(instance);\r\n    })\r\n  );\r\n  erc721Tokens = [].concat(...erc721Tokens);\r\n  \r\n  erc721Tokens = erc721Tokens.filter(function (el) {\r\n    return el != null;\r\n  });\r\n\r\n  dispatch({ type: GET_OWNED_ERC721, erc721Tokens });\r\n  await dispatch({ type: SET_LIST_NTTS_OWNER, erc721Tokens });\r\n\r\n  // Loading done\r\n  dispatch(setLoadingErc721(false));\r\n};\r\n\r\nexport const setAcceptedNftsUser = () => async (dispatch, getState) => {\r\n  const { nftList } = getState();\r\n  try {\r\n    let acceptedNftsAddress = await nftList.methods.getAcceptedNFTs().call();\r\n    console.log(acceptedNftsAddress);\r\n    acceptedNftsAddress = acceptedNftsAddress.map((value) => value.toLowerCase());\r\n    dispatch({ type: SET_ACCEPTED_NFTS, acceptedNftsAddress });\r\n    dispatch(initERC721(acceptedNftsAddress));\r\n  } catch (e) {\r\n    console.log(e);\r\n    return e;\r\n  }\r\n};\r\n\r\nexport const IS_LOADING_ERC721 = 'IS_LOADING_ERC721';\r\nexport const setLoadingErc721 = (isLoadingErc721) => async (dispatch) => {\r\n  dispatch({\r\n    type: IS_LOADING_ERC721,\r\n    isLoadingErc721,\r\n  });\r\n};\r\n\r\nexport const TRANSFER_ERROR = 'TRANSFER_ERROR';\r\nexport const transferError = (transferError) => async (dispatch) => {\r\n  dispatch({\r\n    type: TRANSFER_ERROR,\r\n    transferError,\r\n  });\r\n};\r\nexport const transferNft = (contractAddress, to, tokenId, amount, is1155) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  let { walletAddress, web3, erc721Instances } = getState();\r\n  let activity = {\r\n    key: `transfer-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '赠送物品',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  if (is1155) {\r\n    let nftInstance = new web3.eth.Contract(ERC1155.abi, contractAddress);\r\n    try {\r\n      await nftInstance.methods\r\n        .safeTransferFrom(walletAddress, to, tokenId, amount, '0x')\r\n        .send({ from: walletAddress })\r\n        .on('transactionHash', function (txHash) {\r\n          activity = { ...activity, txHash };\r\n          dispatch(setStatusActivity(activity));\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          activity = { ...activity, status: 'success', duration: 15000 };\r\n          dispatch(setStatusActivity(activity));\r\n        });\r\n    } catch (error) {\r\n      error.type = 'error';\r\n      dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n    }\r\n  } else {\r\n    dispatch({ type: TRANSFER_ERROR, transferError: '0' });\r\n    let nftInstance = new web3.eth.Contract(ERC721.abi, contractAddress);\r\n    try {\r\n      await nftInstance.methods\r\n        .safeTransferFrom(walletAddress, to, tokenId)\r\n        .send({ from: walletAddress })\r\n        .on('error', function (error) {\r\n          dispatch({ type: TRANSFER_ERROR, transferError: '4001' });\r\n        })\r\n        .on('transactionHash', (txHash) => {\r\n          dispatch({ type: TRANSFER_ERROR, transferError: '4000' });\r\n          activity = { ...activity, txHash };\r\n          dispatch(setStatusActivity(activity));\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          dispatch({ type: TRANSFER_ERROR, transferError: '1' });\r\n          dispatch(setStatusActivity({ ...activity, status: 'success', duration: 15000 }));\r\n        });\r\n    } catch (error) {\r\n      error.type = 'error';\r\n      dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n      dispatch({ type: TRANSFER_ERROR, transferError: '0' });\r\n    }\r\n  }\r\n  // get own nft\r\n  dispatch({ type: TRANSFER_ERROR, transferError: '0' });\r\n  dispatch(setAvailableSellOrder());\r\n  dispatch(getNFTsOfOwner(erc721Instances));\r\n};\r\n\r\n////////////////////\r\n// CONTRACT ADDRESS\r\n////////////////////\r\nexport const SET_ADDRESSESPROVIDER = 'SET_ADDRESSESPROVIDER';\r\nexport const setAddressesProvider = (addressesProvider) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_ADDRESSESPROVIDER,\r\n    addressesProvider,\r\n  });\r\n};\r\n\r\nexport const SET_NFTLIST = 'SET_NFTLIST';\r\nexport const setNftList = (nftList) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_NFTLIST,\r\n    nftList,\r\n  });\r\n};\r\n\r\nexport const SET_VAULT = 'SET_VAULT';\r\nexport const setVault = (vault) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_VAULT,\r\n    vault,\r\n  });\r\n};\r\n\r\nexport const SET_SELLORDERLIST = 'SET_SELLORDERLIST';\r\nexport const setSellOrderList = (sellOrderList) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_SELLORDERLIST,\r\n    sellOrderList,\r\n  });\r\n};\r\n\r\nexport const SET_MARKET = 'SET_MARKET';\r\nexport const setMarket = (market) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_MARKET,\r\n    market,\r\n  });\r\n};\r\n\r\nexport const SET_CREATIVESTUDIO = 'SET_CREATIVESTUDIO';\r\nexport const setCreativeStudio = (creativeStudio) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_CREATIVESTUDIO,\r\n    creativeStudio,\r\n  });\r\n};\r\n\r\n////////////////////\r\n// NFTs List\r\n////////////////////\r\n\r\nexport const registerNft = (contractAddress, isERC1155) => async (dispatch, getState) => {\r\n  const { nftList, walletAddress } = getState();\r\n\r\n  try {\r\n    // is contract address\r\n    // let ERC721token = new web3.eth.Contract(ERC721.abi, contractAddress);\r\n    // await ERC721token.methods.name().call();\r\n    await nftList.methods\r\n      .registerNFT(contractAddress, isERC1155)\r\n      .send({ from: walletAddress })\r\n      .on('receipt', (receipt) => {\r\n        let noti = {};\r\n        noti.type = 'success';\r\n        noti.message = 'Register Successfully';\r\n        dispatch(showNotification(noti));\r\n      });\r\n    return true;\r\n  } catch (error) {\r\n    error.message = 'Sorry, but this is not contract address or this address has been accepted';\r\n    error.type = 'error';\r\n    dispatch(showNotification(error));\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const acceptNft = (contractAddress) => async (dispatch, getState) => {\r\n  const { nftList, walletAddress, web3 } = getState();\r\n\r\n  try {\r\n    // is contract address\r\n    let ERC721token = new web3.eth.Contract(ERC721.abi, contractAddress);\r\n    await ERC721token.methods.name().call();\r\n    nftList.methods\r\n      .acceptNFT(contractAddress)\r\n      .send({ from: walletAddress })\r\n      .on('receipt', (receipt) => {\r\n        let noti = {};\r\n        noti.type = 'success';\r\n        noti.message = 'Accept Successfully';\r\n        dispatch(showNotification(noti));\r\n      });\r\n  } catch (error) {\r\n    error.message = 'Sorry, but this is not contract address or this address has been accepted';\r\n    error.type = 'error';\r\n    dispatch(showNotification(error));\r\n  }\r\n};\r\n\r\nexport const SET_ACCEPTED_NFTS = 'SET_ACCEPTED_NFTS';\r\nexport const setAcceptedNfts = () => async (dispatch, getState) => {\r\n  const { nftList } = getState();\r\n  try {\r\n    let acceptedNftsAddress = await nftList.methods.getAcceptedNFTs().call();\r\n    //   console.log('acceptedNftsAddress 1', acceptedNftsAddress);\r\n    acceptedNftsAddress = acceptedNftsAddress.map((value) => value.toLowerCase());\r\n    dispatch({ type: SET_ACCEPTED_NFTS, acceptedNftsAddress });\r\n    dispatch(initERC721(acceptedNftsAddress));\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    // dispatch(showNotification(error));\r\n    return error;\r\n  }\r\n};\r\n\r\n////////////////////\r\n// SellOrders List\r\n////////////////////\r\n\r\nexport const SET_CONVERT_ERC721 = 'SET_CONVERT_ERC721';\r\nexport const SET_AVAILABLE_SELL_ORDER_721 = 'SET_AVAILABLE_SELL_ORDER_721';\r\nexport const SET_LIST_NTTS_ONSALE = 'SET_LIST_NTTS_ONSALE';\r\nexport const setAvailableSellOrder = (walletAddress) => async (dispatch, getState) => {\r\n  const { sellOrderList, web3, infoCollections } = getState();\r\n  let listNFTsOnsale = [];\r\n  let collectionsInfo = infoCollections;\r\n  const pushErc721 = async (listNftContract) => {\r\n    let ERC721token = { name: '', symbol: '', avatarToken: '', tokens: [] };\r\n    let resCollection = await dispatch(getCollection(listNftContract.nftAddress, collectionsInfo));\r\n    collectionsInfo = resCollection.infoCollections;\r\n    ERC721token.addressToken = listNftContract.nftAddress;\r\n    ERC721token.name = resCollection.collection.name;\r\n    ERC721token.symbol = await listNftContract.instance.methods.symbol().call();\r\n    ERC721token.avatarToken = resCollection.collection.logo;\r\n    // console.log('listNftContract 2', listNftContract);\r\n    ERC721token.tokens = await Promise.all(\r\n      listNftContract.tokenId.map(async (order, index) => {\r\n        let token = {};\r\n        token.index = order.id;\r\n        token.tokenURI = await listNftContract.instance.methods.tokenURI(order.id).call();\r\n        token.addressToken = listNftContract.instance._address;\r\n        token.price = listNftContract.price[index];\r\n        token.nameCollection = ERC721token.name;\r\n        token.symbolCollections = ERC721token.symbol;\r\n        token.sortIndex = order.sortIndex;\r\n        token.tokenPayment = listNftContract.tokenPayment[index];\r\n        token.seller = listNftContract.seller[index];\r\n        token.sellId = listNftContract.sellId[index];\r\n        token.is1155 = false;\r\n        if (\r\n          !!walletAddress &&\r\n          listNftContract.seller[index].toLowerCase() === walletAddress.toLowerCase()\r\n        ) {\r\n          listNFTsOnsale.push(token);\r\n        }\r\n\r\n        return token;\r\n      })\r\n    );\r\n    return ERC721token;\r\n  };\r\n\r\n  // Loading done\r\n  if (sellOrderList) {\r\n    dispatch(setLoadingErc721(true));\r\n    try {\r\n      let availableSellOrderIdList = await sellOrderList.methods\r\n        .getAvailableSellOrdersIdList()\r\n        .call();\r\n      let availableSellOrderERC721 = await sellOrderList.methods\r\n        .getSellOrdersByIdList(availableSellOrderIdList.resultERC721)\r\n        .call();\r\n\r\n      var convertErc721Tokens = [];\r\n      var listNftContracts721 = [];\r\n\r\n      if (!!availableSellOrderERC721) {\r\n        availableSellOrderERC721.map(async (sellOrder, i) => {\r\n          let token = {\r\n            sellId: [],\r\n            tokenId: [],\r\n            price: [],\r\n            tokenPayment: [],\r\n            seller: [],\r\n            amount: [],\r\n          };\r\n          let nftindex = listNftContracts721.findIndex(\r\n            (nft) => nft.nftAddress === sellOrder.nftAddress\r\n          );\r\n          if (nftindex === -1) {\r\n            //cant fine nft in list => nft in a new collection\r\n            token.nftAddress = sellOrder.nftAddress;\r\n            token.instance = new web3.eth.Contract(ERC721.abi, sellOrder.nftAddress);\r\n            token.tokenId.push({ sortIndex: i, id: sellOrder.tokenId });\r\n            token.price.push(sellOrder.price);\r\n            token.tokenPayment.push(sellOrder.token);\r\n            token.seller.push(sellOrder.seller);\r\n            token.amount.push(sellOrder.amount);\r\n            token.sellId.push(sellOrder.sellId);\r\n            listNftContracts721.push(token);\r\n          } else {\r\n            // push nft to existing collection\r\n            listNftContracts721[nftindex].tokenId.push({ sortIndex: i, id: sellOrder.tokenId });\r\n            listNftContracts721[nftindex].price.push(sellOrder.price);\r\n            listNftContracts721[nftindex].tokenPayment.push(sellOrder.token);\r\n            listNftContracts721[nftindex].seller.push(sellOrder.seller);\r\n            listNftContracts721[nftindex].amount.push(sellOrder.amount);\r\n            listNftContracts721[nftindex].sellId.push(sellOrder.sellId);\r\n          }\r\n        });\r\n      }\r\n      // console.log('listNftContracts721 4', availableSellOrderERC721);\r\n      convertErc721Tokens = await Promise.all(\r\n        listNftContracts721.map(async (listNftcontract) => {\r\n          return await pushErc721(listNftcontract);\r\n        })\r\n      );\r\n      dispatch({\r\n        type: SET_LIST_NTTS_ONSALE,\r\n        listNFTsOnsale,\r\n      });\r\n\r\n      dispatch({\r\n        type: SET_AVAILABLE_SELL_ORDER_721,\r\n        availableSellOrder721: availableSellOrderERC721,\r\n      });\r\n      dispatch({\r\n        type: SET_CONVERT_ERC721,\r\n        convertErc721Tokens,\r\n      });\r\n      dispatch(setLoadingErc721(false));\r\n    } catch (e) {\r\n      console.log(e);\r\n      dispatch({\r\n        type: SET_AVAILABLE_SELL_ORDER_721,\r\n        availableSellOrder721: [],\r\n      });\r\n      dispatch({\r\n        type: SET_CONVERT_ERC721,\r\n        convertErc721Tokens: [],\r\n      });\r\n      return null;\r\n    }\r\n  }\r\n};\r\n\r\nexport const SET_MY_SELL_ORDER = 'SET_MY_SELL_ORDER';\r\nexport const setMySellOrder = () => async (dispatch, getState) => {\r\n  const { sellOrderList, walletAddress } = getState();\r\n  try {\r\n    let mySellOrder = await sellOrderList.methods.getAllSellOrderIdListByUser(walletAddress).call();\r\n    dispatch({ type: SET_MY_SELL_ORDER, mySellOrder });\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n\r\nexport const APPROVE_ERROR = 'APPROVE_ERROR';\r\nexport const approveError = (approveError) => async (dispatch) => {\r\n  dispatch({\r\n    type: APPROVE_ERROR,\r\n    approveError,\r\n  });\r\n};\r\nexport const SELL_ERROR = 'SELL_ERROR';\r\nexport const sellError = (sellError) => async (dispatch) => {\r\n  dispatch({\r\n    type: SELL_ERROR,\r\n    sellError,\r\n  });\r\n};\r\nexport const createSellOrder = (nftAddress, tokenId, price, tokenPayment, amount, is1155) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const { market, walletAddress, web3, sellOrderList, erc721Instances } = getState();\r\n  let activity = {\r\n    key: `cancel-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '上架物品',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  try {\r\n    if (is1155) {\r\n      const erc1155Instance = await new web3.eth.Contract(ERC1155.abi, nftAddress);\r\n      // Check to see if nft have accepted\r\n      let isApprovedForAll = await erc1155Instance.methods\r\n        .isApprovedForAll(walletAddress, market._address)\r\n        .call();\r\n\r\n      if (!isApprovedForAll) {\r\n        // Approve ERC1155\r\n        try {\r\n          await erc1155Instance.methods\r\n            .setApprovalForAll(market._address, true)\r\n            .send({ from: walletAddress })\r\n            .on('transactionHash', function (txHash) {\r\n\r\n            });\r\n        } catch (error) {\r\n          return false;\r\n        }\r\n      }\r\n    } else {\r\n      const erc721Instance = await new web3.eth.Contract(ERC721.abi, nftAddress);\r\n\r\n      // 查看是否已授权\r\n      let addressApproved = await erc721Instance.methods\r\n        .isApprovedForAll(walletAddress, market._address)\r\n        .call();\r\n\r\n      dispatch({ type: APPROVE_ERROR, approveError: '0' });\r\n      if (!addressApproved) {\r\n        // 如果没有授权\r\n        // Approve All ERC721\r\n        let activity = {\r\n          key: `cancel-${Date.now()}`,\r\n          status: 'pending',\r\n          title: '授权',\r\n          duration: 0,\r\n          txHash: null,\r\n        };\r\n        try {\r\n          await erc721Instance.methods\r\n            .setApprovalForAll(market._address, true)\r\n            .send({ from: walletAddress })\r\n            .on('error', function (error) {\r\n              // 4001用户拒绝交易   4000用户接受接受     1交易成功\r\n              dispatch({ type: APPROVE_ERROR, approveError: '4001' });\r\n            })\r\n            .on('transactionHash', function (txHash) {\r\n              dispatch({ type: APPROVE_ERROR, approveError: '4000' });\r\n              activity = { ...activity, txHash };\r\n              dispatch(setStatusActivity(activity));\r\n            })\r\n            .on('receipt', (receipt) => {\r\n              dispatch({ type: APPROVE_ERROR, approveError: '1' });\r\n              activity = { ...activity, status: 'success', duration: 15000 };\r\n              dispatch(setStatusActivity(activity));\r\n            });\r\n        } catch (error) {\r\n          return false;\r\n        }\r\n      }\r\n      dispatch({ type: APPROVE_ERROR, approveError: '1' });\r\n    }\r\n    // Create Sell Order\r\n    dispatch({ type: SELL_ERROR, sellError: '0' });\r\n    if (!!walletAddress) {\r\n      await market.methods\r\n        // TODO : can sale with other tokenPayment\r\n        .createSellOrder(nftAddress, tokenId, amount, price, tokenPayment)\r\n        .send({ from: walletAddress })\r\n        .on('error', function (error) {\r\n          dispatch({ type: SELL_ERROR, sellError: '4001' });\r\n        })\r\n        .on('transactionHash', function (txHash) {\r\n          dispatch({ type: SELL_ERROR, sellError: '4000' });\r\n          activity = { ...activity, txHash };\r\n          dispatch(setStatusActivity(activity));\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          dispatch({ type: SELL_ERROR, sellError: '1' });\r\n          activity = { ...activity, status: 'success', duration: 15000 };\r\n          dispatch(setStatusActivity(activity));\r\n        });\r\n    }\r\n    // Fetch new availableOrderList\r\n    dispatch(setAvailableSellOrder());\r\n    // get own nft\r\n    dispatch(getNFTsOfOwner(erc721Instances));\r\n    dispatch({ type: APPROVE_ERROR, approveError: '0' });\r\n    dispatch({ type: SELL_ERROR, sellError: '0' });\r\n    activity = { ...activity, status: 'success', duration: 15000 };\r\n    dispatch(setStatusActivity(activity));\r\n    let orders = await sellOrderList.methods\r\n      .getAvailableSellOrdersIdListByUser(walletAddress)\r\n      .call();\r\n    return {\r\n      status: true,\r\n      sellId: is1155 ? orders.resultERC1155.slice(-1) : orders.resultERC721.slice(-1),\r\n    };\r\n  } catch (error) {\r\n    dispatch({ type: APPROVE_ERROR, approveError: '0' });\r\n    dispatch({ type: SELL_ERROR, sellError: '0' });\r\n    console.log({ error });\r\n    error.type = 'error';\r\n    return { status: false, sellId: null };\r\n  }\r\n};\r\n\r\nexport const SET_ALLOWANCE = 'SET_ALLOWANCE';\r\nexport const approveToken = (orderDetail) => async (dispatch, getState) => {\r\n  const { market, walletAddress, web3 } = getState();\r\n  if (orderDetail.tokenPayment !== NULL_ADDRESS) {\r\n    const instaneErc20 = new web3.eth.Contract(ERC20.abi, orderDetail.tokenPayment);\r\n    const allowance = await instaneErc20.methods.allowance(walletAddress, market._address).call();\r\n    if (parseInt(allowance) <= 0) {\r\n      await instaneErc20.methods\r\n        .approve(market._address, VALUE_MAX)\r\n        .send({ from: walletAddress })\r\n        .on('transactionHash', function (txHash) {\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          dispatch({ type: SET_ALLOWANCE, allowanceToken: VALUE_MAX });\r\n          return true;\r\n        })\r\n        .on('error', (error, receipt) => {\r\n          console.log('approveERC20: ', error);\r\n          return false;\r\n        });\r\n    }\r\n  }\r\n};\r\n\r\nexport const BUY_ERROR = 'BUY_ERROR';\r\nexport const buyError = (buyError) => async (dispatch) => {\r\n  dispatch({\r\n    type: BUY_ERROR,\r\n    buyError,\r\n  });\r\n};\r\nexport const buyNft = (orderDetail, is1155) => async (dispatch, getState) => {\r\n  const { market, walletAddress, chainId, web3, erc721Instances } = getState();\r\n  let link = null;\r\n  let value = 0;\r\n  if (orderDetail.tokenPayment !== NULL_ADDRESS) {\r\n    const instaneErc20 = new web3.eth.Contract(ERC20.abi, orderDetail.tokenPayment);\r\n    const allowance = await instaneErc20.methods.allowance(walletAddress, market._address).call();\r\n    if (parseInt(allowance) <= 0) {\r\n      let activity = {\r\n        key: `approve-${Date.now()}`,\r\n        status: 'pending',\r\n        title: 'Approve',\r\n        duration: 0,\r\n        txHash: null,\r\n      };\r\n\r\n      dispatch(setStatusActivity(activity));\r\n      await instaneErc20.methods\r\n        .approve(market._address, VALUE_MAX)\r\n        .send({ from: walletAddress })\r\n        .on('transactionHash', function (txHash) {\r\n          activity = { ...activity, txHash };\r\n          dispatch(setStatusActivity(activity));\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          activity = { ...activity, status: 'success', duration: 15000 };\r\n          dispatch(setStatusActivity(activity));\r\n          return true;\r\n        })\r\n        .on('error', (error, receipt) => {\r\n          console.log('approveERC20: ', error);\r\n          dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n          return false;\r\n        });\r\n    }\r\n  } else {\r\n    value = orderDetail.price;\r\n  }\r\n\r\n  let activity = {\r\n    key: `buy-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '购买物品',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  dispatch({ type: BUY_ERROR, buyError: '0' });\r\n  try {\r\n    await market.methods\r\n      .buy(orderDetail.sellId, is1155 ? orderDetail.amount : 1, walletAddress, '0x')\r\n      .send({ from: walletAddress, value: value })\r\n      .on('error', function (error) {\r\n        dispatch({ type: BUY_ERROR, buyError: '4001' });\r\n      })\r\n      .on('transactionHash', function (txHash) {\r\n        dispatch({ type: BUY_ERROR, buyError: '4000' });\r\n        activity = { ...activity, txHash };\r\n        dispatch(setStatusActivity(activity));\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        dispatch({ type: BUY_ERROR, buyError: '1' });\r\n        activity = { ...activity, status: 'success', duration: 15000 };\r\n        dispatch(setStatusActivity(activity));\r\n        dispatch(setAvailableSellOrder());\r\n        link = getWeb3List(chainId).explorer + receipt.transactionHash;\r\n      });\r\n    // Fetch new availableOrderList\r\n    dispatch(setAvailableSellOrder());\r\n    // get own nft\r\n    dispatch(getNFTsOfOwner(erc721Instances));\r\n    dispatch({ type: BUY_ERROR, buyError: '0' });\r\n    return { status: true, link };\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    console.log(error);\r\n    dispatch({ type: BUY_ERROR, buyError: '0' });\r\n    dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n    return { status: false, link: null };\r\n  }\r\n};\r\n\r\nexport const UPDATE_ERROR = 'UPDATE_ERROR';\r\nexport const updateError = (updateError) => async (dispatch) => {\r\n  dispatch({\r\n    type: UPDATE_ERROR,\r\n    updateError,\r\n  });\r\n};\r\nexport const updatePrice = (sellId, newPrice) => async (dispatch, getState) => {\r\n  const { market, walletAddress, erc721Instances } = getState();\r\n  let activity = {\r\n    key: `update-price-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '更改价格',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  dispatch({ type: UPDATE_ERROR, updateError: '0' });\r\n  try {\r\n    await market.methods\r\n      .updatePrice(sellId, newPrice)\r\n      .send({ from: walletAddress }, function (error, transactionHash) { console.log(error, transactionHash) })\r\n      .on('error', function (error) {\r\n        dispatch({ type: UPDATE_ERROR, updateError: '4001' });\r\n      })\r\n      .on('transactionHash', (txHash) => {\r\n        dispatch({ type: UPDATE_ERROR, updateError: '4000' });\r\n        activity = { ...activity, txHash };\r\n        dispatch(setStatusActivity(activity));\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        dispatch({ type: UPDATE_ERROR, updateError: '1' });\r\n      });\r\n\r\n    // Fetch new availableOrderList\r\n    dispatch(setAvailableSellOrder());\r\n    // get own nft\r\n    dispatch(getNFTsOfOwner(erc721Instances));\r\n    activity = { ...activity, status: 'success', duration: 15000 };\r\n    dispatch(setStatusActivity(activity));\r\n    dispatch({ type: UPDATE_ERROR, updateError: '0' });\r\n    return true;\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const CANCEL_ERROR = 'CANCEL_ERROR';\r\nexport const cancelError = (cancelError) => async (dispatch) => {\r\n  dispatch({\r\n    type: CANCEL_ERROR,\r\n    cancelError,\r\n  });\r\n};\r\nexport const cancelSellOrder = (orderDetail) => async (dispatch, getState) => {\r\n  const { market, walletAddress, erc721Instances } = getState();\r\n  let activity = {\r\n    key: `cancel-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '下架物品',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  dispatch({ type: CANCEL_ERROR, cancelError: '0' });\r\n  try {\r\n    await market.methods\r\n      .cancelSellOrder(orderDetail.sellId)\r\n      .send({ from: walletAddress })\r\n      .on('error', function (error) {\r\n        console.log(error);\r\n        dispatch({ type: CANCEL_ERROR, cancelError: '4001' });\r\n      })\r\n      .on('transactionHash', (txHash) => {\r\n        dispatch({ type: CANCEL_ERROR, cancelError: '4000' });\r\n        activity = { ...activity, txHash };\r\n        dispatch(setStatusActivity(activity));\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        console.log(receipt);\r\n        dispatch({ type: CANCEL_ERROR, cancelError: '1' });\r\n      });\r\n\r\n    // Fetch new availableOrderList\r\n    dispatch(setAvailableSellOrder());\r\n    // get own nft\r\n    dispatch(getNFTsOfOwner(erc721Instances));\r\n    activity = { ...activity, status: 'success', duration: 15000 };\r\n    dispatch(setStatusActivity(activity));\r\n    dispatch({ type: CANCEL_ERROR, cancelError: '0' });\r\n    return true;\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n    return false;\r\n  }\r\n};\r\n\r\n////////////////////\r\n// Create New NFT\r\n////////////////////\r\n\r\n// TODO\r\nexport const MINT_ERROR = 'MINT_ERROR';\r\nexport const mintError = (mintError) => async (dispatch) => {\r\n  dispatch({\r\n    type: MINT_ERROR,\r\n    mintError,\r\n  });\r\n};\r\nexport const generateERC721NFT = (collectionId, tokenUri, nftAddress) => async (dispatch, getState) => {\r\n  const { web3, chainId, walletAddress, erc721Instances } = getState();\r\n  let activity = {\r\n    key: `cancel-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '创建物品',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  contractAddress = getContractAddress(chainId);\r\n  let erc721Instance;\r\n  if (collectionId !== -1 && nftAddress) {\r\n    erc721Instance = await new web3.eth.Contract(\r\n      SampleERC721.abi,\r\n      nftAddress\r\n    );\r\n    dispatch({ type: MINT_ERROR, mintError: '0' });\r\n    let tokenIdForSell = '';\r\n    try {\r\n      await erc721Instance.methods\r\n        .mint(walletAddress, tokenUri, NULL_ADDRESS)\r\n        .send({ from: walletAddress })\r\n        .on('error', function (error) {\r\n          dispatch({ type: MINT_ERROR, mintError: '4001' });\r\n        })\r\n        .on('transactionHash', (txHash) => {\r\n          dispatch({ type: MINT_ERROR, mintError: '4000' });\r\n          activity = { ...activity, txHash };\r\n          dispatch(setStatusActivity(activity));\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          tokenIdForSell = receipt.events.Transfer.returnValues.tokenId;\r\n          dispatch({ type: MINT_ERROR, mintError: '1' });\r\n        });\r\n      dispatch({ type: MINT_ERROR, mintError: '0' });\r\n      activity = { ...activity, status: 'success', duration: 15000 };\r\n      dispatch(setStatusActivity(activity));\r\n      return {\r\n        status: true,\r\n        tokenId: tokenIdForSell\r\n      };\r\n    } catch (error) {\r\n      error.type = 'error';\r\n      // dispatch(showNotification(error));\r\n      console.log(error);\r\n    }\r\n    dispatch({ type: MINT_ERROR, mintError: '0' });\r\n  } else {\r\n    erc721Instance = await new web3.eth.Contract(\r\n      DidiERC721NFT.abi,\r\n      contractAddress.DidiERC721NFT\r\n    );\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    dispatch({ type: MINT_ERROR, mintError: '0' });\r\n    let tokenIdForSell = '';\r\n    try {\r\n      await erc721Instance.methods\r\n        .mint(tokenUri)\r\n        .send({ from: walletAddress })\r\n        .on('error', function (error) {\r\n          dispatch({ type: MINT_ERROR, mintError: '4001' });\r\n        })\r\n        .on('transactionHash', (txHash) => {\r\n          dispatch({ type: MINT_ERROR, mintError: '4000' });\r\n          activity = { ...activity, txHash };\r\n          dispatch(setStatusActivity(activity));\r\n        })\r\n        .on('receipt', (receipt) => {\r\n          tokenIdForSell = receipt.events.Transfer.returnValues.tokenId;\r\n          dispatch({ type: MINT_ERROR, mintError: '1' });\r\n        });\r\n      dispatch({ type: MINT_ERROR, mintError: '0' });\r\n      activity = { ...activity, status: 'success', duration: 15000 };\r\n      dispatch(setStatusActivity(activity));\r\n      return {\r\n        status: true,\r\n        tokenId: tokenIdForSell\r\n      };\r\n    } catch (error) {\r\n      error.type = 'error';\r\n    }\r\n  }\r\n\r\n  // get own nft\r\n  dispatch(getNFTsOfOwner(erc721Instances));\r\n};\r\n\r\n// TODO\r\nexport const generateERC1155NFT = (collectionId, id, amount, tokenUri) => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const { web3, chainId, walletAddress, userCollections, erc721Instances } = getState();\r\n  contractAddress = getContractAddress(chainId);\r\n  let erc1155Instance;\r\n  if (collectionId !== -1) {\r\n    erc1155Instance = await new web3.eth.Contract(\r\n      SampleERC1155.abi,\r\n      userCollections[collectionId].contractAddress\r\n    );\r\n\r\n    try {\r\n      await erc1155Instance.methods\r\n        .mint(walletAddress, id, amount, tokenUri, NULL_ADDRESS)\r\n        .send({ from: walletAddress })\r\n        .on('receipt', (receipt) => {\r\n\r\n        });\r\n    } catch (error) {\r\n      error.type = 'error';\r\n      // dispatch(showNotification(error));\r\n      console.log(error);\r\n    }\r\n  } else {\r\n    erc1155Instance = await new web3.eth.Contract(\r\n      DidiERC1155NFT.abi,\r\n      contractAddress.DidiERC1155NFT\r\n    );\r\n\r\n    try {\r\n      await erc1155Instance.methods\r\n        .mint(amount, tokenUri, NULL_ADDRESS)\r\n        .send({ from: walletAddress })\r\n        .on('receipt', (receipt) => {\r\n\r\n        });\r\n    } catch (error) {\r\n      error.type = 'error';\r\n      // dispatch(showNotification(error));\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  // get own nft\r\n  dispatch(getNFTsOfOwner(erc721Instances));\r\n};\r\n\r\n////////////////////\r\n// Create Collection\r\n////////////////////\r\n\r\nexport const SET_USER_COLLECTIONS = 'SET_USER_COLLECTIONS';\r\nexport const setCollectionByUser = () => async (dispatch, getState) => {\r\n  let { walletAddress, creativeStudio } = getState();\r\n  try {\r\n    if (!walletAddress) return;\r\n    let userCollections = await creativeStudio.methods.getCollectionsByUser(walletAddress).call();\r\n    userCollections = JSON.stringify(userCollections);\r\n    userCollections = JSON.parse(userCollections);\r\n\r\n    // add index in array usercollection\r\n    let formatUserCollections = userCollections.map((userCollection, index) => {\r\n      userCollection.index = index;\r\n      userCollection.id = userCollection[0];\r\n      userCollection.contractAddress = userCollection[1];\r\n      userCollection.isERC1155 = userCollection[2];\r\n      userCollection.creator = userCollection[3];\r\n\r\n      return userCollection;\r\n    });\r\n\r\n    dispatch({ type: SET_USER_COLLECTIONS, userCollections: formatUserCollections });\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const createERC1155Collection = ({ name, symbol }) => async (dispatch, getState) => {\r\n  let { walletAddress, creativeStudio } = getState();\r\n\r\n  try {\r\n    await creativeStudio.methods\r\n      .createERC1155Collection(name, symbol)\r\n      .send({ from: walletAddress })\r\n      .on('receipt', (receipt) => {\r\n        dispatch(setCollectionByUser());\r\n        let noti = {};\r\n        noti.type = 'success';\r\n        noti.message = 'Create Successfully !';\r\n        dispatch(showNotification(noti));\r\n      });\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    dispatch(showNotification(error));\r\n  }\r\n  // get own nft\r\n  dispatch(setAcceptedNfts());\r\n};\r\n\r\nexport const COL_ERROR = 'COL_ERROR';\r\nexport const colError = (colError) => async (dispatch) => {\r\n  dispatch({\r\n    type: COL_ERROR,\r\n    colError,\r\n  });\r\n};\r\nexport const createERC721Collection = ({ name, symbol }) => async (dispatch, getState) => {\r\n  let { walletAddress, creativeStudio } = getState();\r\n  let activity = {\r\n    key: `cancel-${Date.now()}`,\r\n    status: 'pending',\r\n    title: '部署合约',\r\n    duration: 0,\r\n    txHash: null,\r\n  };\r\n  dispatch({ type: COL_ERROR, colError: '0' });\r\n  try {\r\n    await creativeStudio.methods\r\n      .createERC721Collection(name, symbol)\r\n      .send({ from: walletAddress })\r\n      .on('error', function (error) {\r\n        dispatch({ type: COL_ERROR, colError: '4001' });\r\n      })\r\n      .on('transactionHash', (txHash) => {\r\n        dispatch({ type: COL_ERROR, colError: '4000' });\r\n        activity = { ...activity, txHash };\r\n        dispatch(setStatusActivity(activity));\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        activity = { ...activity, status: 'success', duration: 15000 };\r\n        dispatch(setStatusActivity(activity));\r\n        dispatch({ type: COL_ERROR, colError: '1' });\r\n        dispatch(setCollectionByUser());\r\n      });\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    console.log(error);\r\n    dispatch(setStatusActivity({ ...activity, status: 'close' }));\r\n    return { status: false }\r\n  }\r\n  // get own nft\r\n  dispatch(setAcceptedNfts());\r\n  return { status: true }\r\n};\r\n\r\nexport const checkWhiteListNft = (addressNft) => async (dispatch, getState) => {\r\n  let { nftList, web3 } = getState();\r\n  try {\r\n    if (!nftList) {\r\n      let nftList = new web3.eth.Contract(NFTList.abi, contractAddress.NftList);\r\n      dispatch(setNftList(nftList));\r\n    }\r\n    const result = await nftList.methods.isAcceptedNFT(addressNft).call();\r\n    return result;\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    // dispatch(showNotification(error));\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const checkBalance = (addressToken) => async (dispatch, getState) => {\r\n  const { walletAddress, web3 } = getState();\r\n  try {\r\n    const instaneErc20 = new web3.eth.Contract(ERC20.abi, addressToken);\r\n    let weiBalance = await instaneErc20.methods.balanceOf(walletAddress).call();\r\n    let symbol = await instaneErc20.methods.symbol().call();\r\n    return { weiBalance, symbol };\r\n  } catch (error) {\r\n    error.type = 'error';\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const approveERC20 = (addressToken, amount) => async (dispatch, getState) => {\r\n  let { web3, walletAddress } = getState();\r\n  try {\r\n    const instaneErc20 = new web3.eth.Contract(ERC20.abi, addressToken);\r\n    await instaneErc20.methods\r\n      .approve(contractAddress.NFTCampaign, VALUE_MAX)\r\n      .send({ from: walletAddress })\r\n      .on('receipt', (receipt) => {\r\n        let noti = {};\r\n        noti.type = 'success';\r\n        noti.message = 'Approve Successfully !';\r\n        dispatch(showNotification(noti));\r\n        return true;\r\n      });\r\n  } catch (error) {\r\n    console.log('approveERC20: ', error);\r\n    error.type = 'error';\r\n    dispatch(showNotification(error));\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const NOTI = 'NOTI';\r\nexport const showNotification = (noti) => (dispatch) => {\r\n  dispatch({ type: NOTI, noti });\r\n};\r\n\r\nexport const ACTIVITY = 'ACTIVITY';\r\nexport const setStatusActivity = (activity) => (dispatch) => {\r\n  dispatch({ type: ACTIVITY, activity });\r\n};\r\n\r\n// Collection\r\nexport const getCollection = (addressToken, _collections) => async (dispatch, getState) => {\r\n  addressToken = addressToken.toLowerCase();\r\n  const { web3, nftList, chainId, infoCollections } = getState();\r\n  let collections = !!_collections ? _collections : infoCollections;\r\n  let collection;\r\n  if (!!collections[addressToken]) {\r\n    collection = collections[addressToken];\r\n  } else {\r\n    let res;\r\n\r\n    // if (!collections[addressToken]) {\r\n    //   res = await getCollectionByAddress(addressToken, chainId);\r\n    // }\r\n\r\n    if (!!res && !!res.collection) {\r\n      collection = res.collection;\r\n      if (!collection.name) collection.name = 'Unnamed';\r\n      if (!res.collection.name) res.collection.name = 'Unnamed';\r\n      collections[addressToken] = res.collection;\r\n      dispatch(setInfoCollections(collections));\r\n    } else {\r\n      if (web3 && nftList) {\r\n        let nameCollection;\r\n        let is1155 = await nftList.methods.isERC1155(addressToken).call();\r\n        let tokenURI;\r\n        if (!!is1155) {\r\n          const erc1155Instances = await new web3.eth.Contract(SampleERC1155.abi, addressToken);\r\n          try {\r\n            tokenURI = await erc1155Instances.methods.uri().call();\r\n          } catch (error) {\r\n            tokenURI = null;\r\n          }\r\n          try {\r\n            nameCollection = await erc1155Instances.methods.name().call();\r\n          } catch (error) {\r\n            nameCollection = null;\r\n          }\r\n        } else {\r\n          const erc721Instances = await new web3.eth.Contract(SampleERC721.abi, addressToken);\r\n          try {\r\n            nameCollection = await erc721Instances.methods.name().call();\r\n          } catch (error) {\r\n            nameCollection = null;\r\n          }\r\n        }\r\n\r\n        if (!nameCollection && !!tokenURI) {\r\n          try {\r\n            let req = await axios.get(tokenURI);\r\n            const data = req.data;\r\n\r\n            nameCollection = !!data.name ? data.name : 'Unnamed';\r\n          } catch (error) {\r\n            nameCollection = 'Unnamed';\r\n          }\r\n        } else if (!nameCollection && !tokenURI) {\r\n          nameCollection = 'Unnamed';\r\n        }\r\n\r\n        collection = { name: nameCollection, logo: logoCollectionDefault, addressToken, chainId };\r\n        collections[addressToken] = collection;\r\n        dispatch(setInfoCollections(collections));\r\n      }\r\n    }\r\n  }\r\n\r\n  return { collection, infoCollections: collections };\r\n};\r\n\r\n// user\r\nexport const getUser = (walletAddress, _users) => async (dispatch, getState) => {\r\n  walletAddress = walletAddress?.toLowerCase();\r\n  const { infoUsers } = getState();\r\n  let users = !!_users ? _users : infoUsers;\r\n  let user;\r\n  if (!!users[walletAddress]) {\r\n    user = users[walletAddress];\r\n  } else {\r\n    let res;\r\n\r\n    if (!!res && !!res.user) {\r\n      user = res.user;\r\n      users[walletAddress] = res.user;\r\n      dispatch(setInfoUsers(users));\r\n    } else {\r\n      user = { username: 'Unnamed', avatar: avatarDefault };\r\n      users[walletAddress] = user;\r\n      dispatch(setInfoUsers(users));\r\n    }\r\n  }\r\n\r\n  return { user, infoUsers: users };\r\n};\r\n\r\nexport const SET_ORBITDB = 'SET_ORBITDB';\r\nexport const setOrbitdb = (orbitdb) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_ORBITDB,\r\n    orbitdb,\r\n  });\r\n};\r\n\r\nexport const SET_USER_INFO = 'SET_USER_INFO';\r\nexport const setUserInfo = (userInfo) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_USER_INFO,\r\n    userInfo,\r\n  });\r\n};\r\n\r\nexport const SET_COLLECTION_INFO = 'SET_COLLECTION_INFO';\r\nexport const setCollectionInfo = (collectionInfo) => async (dispatch) => {\r\n  let colObj = {}\r\n  collectionInfo.forEach(item => {\r\n    colObj[item.contractAddress] = item\r\n  })\r\n  dispatch(setCollectionObj(colObj))\r\n  dispatch({\r\n    type: SET_COLLECTION_INFO,\r\n    collectionInfo,\r\n  });\r\n};\r\nexport const SET_COLLECTION_OBJ = 'SET_COLLECTION_OBJ';\r\nexport const setCollectionObj = (collectionObj) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_COLLECTION_OBJ,\r\n    collectionObj,\r\n  });\r\n};\r\nexport const UNMATCHED_MODAL = 'UNMATCHED_MODAL';\r\nexport const setUnmatchedModal = (unmatchedModal) => async (dispatch) => {\r\n  dispatch({\r\n    type: UNMATCHED_MODAL,\r\n    unmatchedModal,\r\n  });\r\n};","export default __webpack_public_path__ + \"static/media/logo-mochi.d66d46a5.png\";","export default __webpack_public_path__ + \"static/media/avatar-profile.b9aa2f44.png\";","import Web3 from 'web3';\r\n\r\nexport const web3Default = {\r\n    97: {\r\n        web3Default: new Web3(\r\n            new Web3.providers.HttpProvider('https://data-seed-prebsc-1-s1.binance.org:8545/')\r\n        ),\r\n        name: 'BSC Testnet',\r\n        explorer: 'https://testnet.bscscan.com/tx/',\r\n    },\r\n    4: {\r\n        web3Default: new Web3(\r\n            new Web3.providers.HttpProvider('https://rinkeby.infura.io/v3/2457d7b074194e61a49947a293acf117')\r\n        ),\r\n        name: 'Rinkeby',\r\n        explorer: 'https://rinkeby.etherscan.io/tx/',\r\n    },\r\n};\r\n\r\nexport const networkDefault = !!localStorage.getItem('chainId')\r\n    ? parseInt(localStorage.getItem('chainId'))\r\n    : 97;\r\n\r\nexport const getWeb3List = (_chainId) => {\r\n    return web3Default[_chainId];\r\n};\r\n","import IPFS from 'ipfs'\r\nimport OrbitDB from 'orbit-db'\r\nimport { setOrbitdb } from 'Store/actions';\r\nimport store from 'Store/index';\r\nlet orbitdb\r\n\r\n// ipfs配置\r\nconst ipfsConfig = {\r\n    preload: {\r\n        enabled: false // 禁止使用所谓的“预加载”IPFS 节点\r\n      },\r\n      // repo: './ipfs',\r\n      EXPERIMENTAL: { pubsub: true }, //这是一种节点之间通信的方法，并且是 OrbitDB 使用所必需的，无论我们是否连接到其他对等点。\r\n      config: {\r\n        Addresses: {\r\n          Swarm: [\r\n            '/dns4/wrtc-star1.par.dwebops.pub/tcp/443/wss/p2p-webrtc-star/',\r\n            '/dns4/wrtc-star2.sjc.dwebops.pub/tcp/443/wss/p2p-webrtc-star/',\r\n            '/dns4/webrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star/'\r\n          ]\r\n        }\r\n      }\r\n}\r\n\r\n\r\nexport const initOrbitDB = async () => {\r\n// 初始化IPFS\r\nconst ipfs = await IPFS.create(ipfsConfig)\r\n// 初始化OrbitDB\r\norbitdb = await OrbitDB.createInstance(ipfs)\r\nawait store.dispatch(setOrbitdb(orbitdb));\r\nreturn orbitdb\r\n}\r\n// 根据数据库地址连接数据库\r\nexport const getDB = async (address, orbit) => {\r\n    let db\r\n    orbitdb = orbit || orbitdb\r\n    if (orbitdb) {\r\n      db = await orbitdb.open(address)\r\n      await db.load()\r\n    }\r\n    return db\r\n}\r\n// 创建数据库\r\nexport const createDatabase = async (name) => {\r\n  const accessController = { write: ['*'] }\r\n    const db = await orbitdb.create(name, 'keyvalue', { accessController })\r\n    return db\r\n}","import { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { Grid, Col, Menu, Dropdown } from 'antd';\r\nimport { CaretDownOutlined } from '@ant-design/icons';\r\nimport { setWeb3, setChainId } from 'Store/actions';\r\nimport store from 'Store/index';\r\nimport { networkDefault, getWeb3List } from 'Utils/getWeb3List';\r\nimport { getInfoChain, listChainsSupport } from 'Utils/getContractAddress';\r\nimport { selectChain } from 'Connections/web3Modal';\r\nimport imgNotFound from 'Assets/notfound.png';\r\n\r\nimport './index.scss';\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nexport default function LeftNar() {\r\n  let history = useHistory();\r\n  let matchRouteToken = useRouteMatch('/token/:chainID/:addressToken/:id/:sellID');\r\n  let matchRouteCollection = useRouteMatch('/collection/index/:chainID/:addressToken');\r\n  let matchRouteProfile = useRouteMatch('/profile/index/:address');\r\n  const { chainId, web3, walletAddress } = useSelector((state) => state);\r\n  const [infoChain, setInfoChain] = useState(getInfoChain(chainId)); // 选中的链类型信息\r\n\r\n  useEffect(() => {\r\n    if (!!chainId) {\r\n      setInfoChain(getInfoChain(chainId));\r\n    }\r\n  }, [chainId]);\r\n  // 设置默认的chainId 和web3\r\n  useEffect(() => {\r\n    const setWeb3Default = async () => {\r\n      await store.dispatch(setWeb3(getWeb3List(networkDefault).web3Default));\r\n      await store.dispatch(setChainId(networkDefault));\r\n    };\r\n    if (!web3 || !chainId) {\r\n      setWeb3Default();\r\n    }\r\n  }, [web3, chainId]);\r\n  // 切换链类型\r\n  const switchNetworks = async (chainId) => {\r\n    if (!!matchRouteToken || !!matchRouteCollection || matchRouteProfile) {\r\n      history.push('/');\r\n    }\r\n    await selectChain(chainId, walletAddress);\r\n  };\r\n\r\n  const { md } = useBreakpoint();\r\n  return (\r\n    <Col span={md ? 40 : 25}>\r\n      <Dropdown\r\n        placement='bottomCenter'\r\n        overlay={\r\n          <Menu className='dropdown-select-chain'>\r\n            <Menu.ItemGroup title='Select Network' className='textmode'>\r\n              {listChainsSupport.map((info, i) => (\r\n                <Menu.Item\r\n                  key={i}\r\n                  className='textmode'\r\n                  onClick={() => switchNetworks(info.chainId)}\r\n                >\r\n                  <img className='network_icon' src={info.icon} alt={`${info.name} Icon`}></img>\r\n                  {info.name}\r\n                </Menu.Item>\r\n              ))}\r\n            </Menu.ItemGroup>\r\n          </Menu>\r\n        }\r\n        trigger={['click']}\r\n      >\r\n        <div className='dropdown_network_header'>\r\n          <div className='flex flex-max'>\r\n            <img\r\n              className='sidebar-menu-network-icon'\r\n              alt='icon-chain'\r\n              src={!!infoChain ? infoChain.icon : imgNotFound}\r\n            />\r\n            <div className='sidebar-menu-network-label textmode'>\r\n              {!!infoChain ? infoChain.name : 'Unnamed'}\r\n            </div>\r\n            <CaretDownOutlined className='textmode ml-5' />\r\n          </div>\r\n        </div>\r\n      </Dropdown>\r\n\r\n      <></>\r\n    </Col>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import { Button } from 'antd';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport { logout } from 'Store/actions';\r\nimport { disconnectWeb3Modal } from 'Connections/web3Modal';\r\nimport { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './index.scss';\r\n\r\nexport default function LogoutWallet() {\r\n  const { walletAddress } = useSelector((state) => state);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const router = useHistory();\r\n  const logoutAction = () => {\r\n    dispatch(logout());\r\n    disconnectWeb3Modal();\r\n    cancelModal();\r\n    localStorage.isLogin = false\r\n    router.push('/login')\r\n  };\r\n\r\n  async function cancelModal() {\r\n    setIsModalVisible(false);\r\n  }\r\n\r\n  return (\r\n    <div className='logoutModal'>\r\n      <div className='pink-font btn-nl' onClick={() => setIsModalVisible(true)}>\r\n        Logout\r\n      </div>\r\n\r\n      <Modal\r\n        centered\r\n        visible={isModalVisible}\r\n        title={[\r\n          <h2 key='title' className='textmode mgb-0'>\r\n            Your wallet\r\n          </h2>,\r\n        ]}\r\n        onOk={() => cancelModal}\r\n        onCancel={() => cancelModal()}\r\n        footer={[\r\n          <div key='cancel' style={{ width: '100%' }} className='center'>\r\n            <Button\r\n              className='ant-btn ant-btn-primary btn-logout'\r\n              onClick={() => logoutAction()}\r\n              size='large'\r\n              shape='round'\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>,\r\n        ]}\r\n      >\r\n        <div key='content'>\r\n          <div className='textmode wl-fs'>{walletAddress}</div>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { Menu } from 'antd';\r\n// import { Menu, Grid } from 'antd';\r\nimport { connectWeb3Modal, CONNECTID } from 'Connections/web3Modal';\r\nimport { Link, useLocation, useHistory } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport avatarLogout from 'Assets/avatar-logout.png';\r\nimport avatarDefault from 'Assets/avatar-default.png';\r\nimport LogoutWallet from 'Components/Logout';\r\nconst SubMenu = Menu.SubMenu;\r\nconst RightMenu = ({ onClose }) => {\r\n  const location = useLocation();\r\n  const router = useHistory();\r\n  // const routeMatch = useRouteMatch();\r\n  // const params = useParams();\r\n  // console.log(routeMatch)\r\n  // console.log(params)\r\n  // console.log(location)\r\n  const { shortAddress, walletAddress, chainId, userInfo } = useSelector(\r\n    (state) => state\r\n  );\r\n\r\n  const [userData, setUserData] = useState(null);\r\n  useEffect(() => {\r\n    setUserData(userInfo)\r\n  }, [userInfo])\r\n  useEffect(() => {\r\n    if (localStorage.getItem(CONNECTID)) {\r\n      //如果不加定时器 刷新时加载太快，会导致调用合约失败\r\n      setTimeout(() => {\r\n        connectWeb3Modal();\r\n      }, 1000);\r\n    }\r\n    // if(!window?.ethereum?.selectedAddress) {\r\n    //   router.push('/login')\r\n    // }\r\n  }, []);\r\n\r\n  const generateMenuItemForRouteKey = routeKey => {\r\n    const pathName = location.pathname;\r\n    const routeMap = {\r\n      \"/market\": \"市场\",\r\n      \"/create\": \"创建\",\r\n    }\r\n    let linkClassName = \"menu-button\"\r\n    let menuClassName = ''\r\n    let walletProfilePath = `/profile/${chainId}/${walletAddress}`\r\n    if (routeKey === pathName || (routeKey === '/profile' && walletProfilePath === pathName)) {\r\n      linkClassName += ' active';\r\n      menuClassName = 'ant-menu-selected ant-menu-item-selected'\r\n    }\r\n    return (\r\n      <Menu.Item key={routeKey} className={menuClassName}>\r\n        <Link to={routeKey === '/profile' ? walletProfilePath : routeKey} onClick={onClose}><div className={linkClassName}>{routeMap[routeKey]}</div></Link>\r\n      </Menu.Item>\r\n    )\r\n  }\r\n  const toPage = (url) => {\r\n    let Url = shortAddress ? url : `/login`\r\n    router.push(Url)\r\n  }\r\n  return (\r\n    <Menu selectable={false} mode={'horizontal'} triggerSubMenuAction=\"hover\">\r\n      {generateMenuItemForRouteKey('/market')}\r\n      {generateMenuItemForRouteKey('/create')}\r\n\r\n      <SubMenu\r\n        key='sub1'\r\n        title={\r\n          <div className='balance-create background-mode center'>\r\n            <div style={{ paddingLeft: '2px' }}>\r\n              <div className='center' style={{ display: 'flex' }}>\r\n                {!shortAddress ? (\r\n                  <img\r\n                    className='nav-avatar'\r\n                    src={avatarLogout}\r\n                    alt='avatar'\r\n                    onClick={() => { toPage() }}\r\n                  />\r\n                ) : <img\r\n                  className='nav-avatar'\r\n                  src={userData?.avatar || avatarDefault}\r\n                  alt='avatar'\r\n                />\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n      >\r\n        <Menu.Item key='setting:1' onClick={() => { toPage(`/profile/index/${chainId}/${walletAddress}`) }}>\r\n          我的物品\r\n        </Menu.Item>\r\n        <Menu.Item key='setting:2' onClick={() => { toPage(`/collection/index/${walletAddress}`) }}>\r\n          我的作品集\r\n        </Menu.Item>\r\n        <Menu.Item key='setting:3' onClick={() => { toPage(`/profile/edit`) }}>\r\n          账户设置\r\n        </Menu.Item>\r\n        {walletAddress ? <Menu.Item key='setting:4'>\r\n          <LogoutWallet />\r\n        </Menu.Item> : null}\r\n\r\n      </SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default RightMenu;\r\n","import { useEffect, useState } from 'react';\r\nimport { Modal, Button } from 'antd';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUnmatchedModal, logout } from 'Store/actions';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { disconnectWeb3Modal } from 'Connections/web3Modal';\r\nimport 'antd/dist/antd.less'\r\nimport './index.scss';\r\n\r\nexport default function UnmatchedChainModal(props) {\r\n    const { visible } = props\r\n    const [isChainModalVisible, setIsChainModalVisible] = useState(false); //弹框状态\r\n    const dispatch = useDispatch()\r\n    const router = useHistory()\r\n    useEffect(() => {\r\n        setIsChainModalVisible(visible)\r\n    }, [visible])\r\n    const handleOk = () => {\r\n        // 关闭弹窗\r\n        dispatch(setUnmatchedModal(false))\r\n        // 退出登录\r\n        dispatch(logout());\r\n        disconnectWeb3Modal();\r\n        localStorage.isLogin = false\r\n        // 关闭后跳转到登录页面\r\n        router.push('/login')\r\n    };\r\n\r\n    return (\r\n        <div className='unmatched-chain-modal'>\r\n            <Modal\r\n                title='错误的链类型'\r\n                visible={isChainModalVisible}\r\n                maskClosable={false}\r\n                closable={false}\r\n                width={653}\r\n                centered={true}\r\n                wrapClassName='wrapClass'\r\n                footer={[\r\n                    // 定义右下角\r\n                    <Button key=\"submit\" type=\"primary\" onClick={() => { handleOk() }}>确定</Button>\r\n                ]}\r\n            >\r\n                <p>本平台暂不支持该链类型</p>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport LeftMenu from './LeftMenu';\r\nimport RightMenu from './RightMenu';\r\nimport { Link } from 'react-router-dom';\r\nimport logo from 'Assets/logo.png';\r\nimport { getDB, initOrbitDB } from 'Utils/orbit'\r\nimport { setUserInfo, setCollectionInfo } from 'Store/actions';\r\nimport UnmatchedChainModal from 'Components/UnmatchedChainModal';\r\n\r\nexport default function NavBar() {\r\n  const { walletAddress, orbitdb, chainId, unmatchedModal } = useSelector((state) => state);\r\n  const [isModalVisible, setIsModalVisible] = useState(unmatchedModal) //不匹配链类型弹框控制\r\n  const dispatch = useDispatch();\r\n  const fetchDB = async (address, orbitdb) => {\r\n    const db = await getDB(address, orbitdb)\r\n    if (db) {\r\n      // db.set(walletAddress+'_profile',{userName: 'qqqq', desc: 'wwww', cover: 'qqq', pic: 'qqq'})\r\n      let userInfo = await db.get(walletAddress + '_profile')\r\n      let collectionInfo = await db.get(`${walletAddress}_${chainId}`)\r\n      // console.log(userInfo)\r\n      // console.log(collectionInfo)\r\n      dispatch(setUserInfo(userInfo || {}))\r\n      dispatch(setCollectionInfo(collectionInfo || []))\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (walletAddress) {\r\n      // 根据环境获取orbitdb库的地址\r\n      const address = process.env.REACT_APP_ORBIT_DB;\r\n      if (!!orbitdb) {\r\n        fetchDB(address, orbitdb)\r\n      } else {\r\n        // 初始化IPFS、ORBITDB\r\n        initOrbitDB().then(() => {\r\n          fetchDB(address, orbitdb)\r\n        })\r\n      }\r\n    }\r\n  }, [walletAddress,orbitdb])// eslint-disable-line react-hooks/exhaustive-deps\r\n  \r\n  useEffect(()=>{\r\n    setIsModalVisible(unmatchedModal)\r\n  }, [unmatchedModal, isModalVisible])\r\n  return (\r\n    <nav className='menu-bar'>\r\n      <div className='logo'>\r\n        <Link to='/'>\r\n          <img src={logo} alt='logo' />\r\n        </Link>\r\n      </div>\r\n      <div className='menuCon'>\r\n        <div className='leftMenu'>\r\n          <LeftMenu />\r\n        </div>\r\n        <div className='rightMenu'>\r\n          <RightMenu />\r\n        </div>\r\n      </div>\r\n      <UnmatchedChainModal visible={isModalVisible}></UnmatchedChainModal> \r\n    </nav>\r\n  );\r\n}\r\n","import { notification } from 'antd';\r\nimport { LoadingOutlined, CheckCircleTwoTone, CloseCircleOutlined } from '@ant-design/icons';\r\nimport { useCallback, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getRootExplorer } from 'Utils/getRootExplorer';\r\nimport './index.scss';\r\n\r\nexport default function StatusActivity() {\r\n  const { activity, chainId } = useSelector((state) => state);\r\n\r\n  const openNotification = useCallback(\r\n    ({ key, status, title, duration, txHash }) => {\r\n      if (status === 'close') {\r\n        notification.close(key);\r\n      } else {\r\n        notification.open({\r\n          key,\r\n          duration: duration,\r\n          message: <h2>{title}</h2>,\r\n          description: !!txHash ? (\r\n            <span>\r\n              <a href={`${getRootExplorer(chainId)}/tx/${txHash}`} target='_blank' rel='noreferrer'>\r\n                查看txHash\r\n              </a>\r\n            </span>\r\n          ) : (\r\n            <></>\r\n          ),\r\n          placement: 'bottomRight',\r\n          className: 'pending-actions',\r\n          icon: <TypeStaus status={status} />,\r\n        });\r\n        if (!!duration && duration > 0) {\r\n          setTimeout(() => {\r\n            notification.close(key);\r\n          }, duration);\r\n        }\r\n      }\r\n    },\r\n    [chainId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!!activity) openNotification(activity);\r\n  }, [activity, openNotification]);\r\n\r\n  return <></>;\r\n}\r\n\r\nconst TypeStaus = ({ status }) => {\r\n  switch (status) {\r\n    case 'pending':\r\n      return (\r\n        <div className='center' style={{ marginRight: '15px' }}>\r\n          <LoadingOutlined className='textmode' style={{ fontSize: '31px' }} />\r\n        </div>\r\n      );\r\n    case 'success':\r\n      return <CheckCircleTwoTone twoToneColor='#52c41a' />;\r\n    case 'error':\r\n      return <CloseCircleOutlined className='error-status' />;\r\n    default:\r\n      return <div></div>;\r\n  }\r\n};\r\n","import { notification, Button } from 'antd';\r\nimport { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function Notification() {\r\n  const { noti } = useSelector((state) => state);\r\n\r\n  const openError = (message) => {\r\n    notification.error({\r\n      message: 'Transaction Error',\r\n      description: message,\r\n    });\r\n  };\r\n\r\n  const openSuccess = (message) => {\r\n    notification.success({\r\n      message: 'Message',\r\n      description: message,\r\n    });\r\n  };\r\n\r\n  const openSuccessRedirect = (message, fn) => {\r\n    const key = `open${Date.now()}`;\r\n    const btn = (\r\n      <Button\r\n        type='primary'\r\n        size='small'\r\n        onClick={() => {\r\n          fn();\r\n          notification.close(key);\r\n        }}\r\n      >\r\n        Go to Inventory\r\n      </Button>\r\n    );\r\n    notification.success({\r\n      message: 'Message',\r\n      description: <div>{message}</div>,\r\n      btn,\r\n      key,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const showNotification = (noti) => {\r\n      switch (noti.type) {\r\n        case 'error':\r\n          openError(noti.message);\r\n          break;\r\n        case 'success':\r\n          openSuccess(noti.message);\r\n          break;\r\n        case 'redirect-profile':\r\n          openSuccessRedirect(noti.message, noti.fn);\r\n          break;\r\n        default:\r\n          console.log(noti.type);\r\n      }\r\n    };\r\n    if (!!noti) showNotification(noti);\r\n  }, [noti]);\r\n\r\n  return <></>;\r\n}\r\n","import { Modal, Button, Space } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { generateERC721NFT } from 'Store/actions';\r\nimport { createSellOrder } from 'Store/actions';\r\nimport './index.scss';\r\nimport Dui from 'Assets/icons/dui.png'\r\n\r\nexport default function CreateModal({ visible, handleClean, first, uploading, create, setCreate, setApprove,\r\n  pinataUri, collectionId, inputOpen, approve, selling, price, nftAddress, tokenId, setTokenId }) {\r\n  const { web3 } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [collection, setCollection] = useState();\r\n\r\n  useEffect(() => {\r\n    setIsModalVisible(visible);\r\n    setCollection(collectionId);\r\n  }, [visible, collectionId]);\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    //关闭弹窗 清空所有状态\r\n    handleClean();\r\n  };\r\n\r\n  //拒绝后再次铸造并出售\r\n  const mintAgain = async () => {\r\n    setCreate('1')\r\n    const result = await dispatch(generateERC721NFT(collection, pinataUri, nftAddress));\r\n\r\n    if (!!result && !!inputOpen) {\r\n      console.log((result.tokenId));\r\n      setTokenId(result.tokenId)\r\n      setApprove('1');\r\n      const res = await dispatch(\r\n        createSellOrder(\r\n          nftAddress,\r\n          result.tokenId,\r\n          web3.utils.toWei(price.toString(), 'ether'),\r\n          '0x0000000000000000000000000000000000000000',\r\n          1\r\n        )\r\n      );\r\n\r\n      if (!!res.status) {\r\n        // 如果成功了， 清空 form file 和所有交易状态\r\n        console.log('clean');\r\n        handleClean();\r\n      }\r\n    }\r\n  }\r\n\r\n  //拒绝后重新创建卖单\r\n  const sellAgain = async () => {\r\n    const res = await dispatch(\r\n      createSellOrder(\r\n        nftAddress,\r\n        tokenId,\r\n        web3.utils.toWei(price.toString(), 'ether'),\r\n        '0x0000000000000000000000000000000000000000',\r\n        1\r\n      ));\r\n\r\n    if (!!res.status) {\r\n      // 如果成功了， 清空 form file 和所有交易状态\r\n      console.log('clean');\r\n      handleClean();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      visible={isModalVisible}\r\n      footer={<div />}\r\n      centered\r\n      width={500}\r\n      onCancel={handleCancel}\r\n    >\r\n      <div className='flex-column-center'>\r\n        <div className='first-style'>\r\n          <div className='flex-between-center'>\r\n            <div className=\"textMode\"><span className=\"one\">1</span><span>上传</span></div>\r\n            {!!first ? <div className='color'>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>上传媒体文件和元数据。</div>\r\n          {!!uploading ? <Space className='space-style'>\r\n            <Button type=\"primary\" loading className='btn-style'>\r\n              上传中\r\n            </Button>\r\n          </Space> : null}\r\n        </div>\r\n\r\n        <div className='first-style'>\r\n          <div className='flex-between-center'>\r\n            <div className=\"textMode\"><span className=\"one\">2</span><span>创建</span></div>\r\n            {create === '3' ? <div className='color'>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>创建NFT需支付一笔矿工费。</div>\r\n          {create === '1' ? <Space className='flex-column-center space-style'>\r\n            <Button type=\"primary\" loading className='btn-style'>\r\n              创建中\r\n            </Button>\r\n          </Space> : create === '2' ? <Space className='flex-column-center space-style'>\r\n            <Button onClick={() => { mintAgain() }} type=\"primary\" className='btn-style'>\r\n              再试一次\r\n            </Button>\r\n            <div className='color-red mt5'>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n\r\n        <div style={{ width: '90%', margin: '25px 0', display: `${inputOpen ? '' : 'none'}` }}>\r\n          <div className=\"flex-between-center\">\r\n            <div className=\"textMode\"><span className=\"one\">3</span><span>授权</span></div>\r\n            {approve === '3' ? <div className='color'>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>出售此作品集中的作品需进行一次性授权。</div>\r\n          {approve === '1' ? <Space className='flex-column-center space-style'>\r\n            <Button type=\"primary\" loading className='btn-style'>\r\n              授权中\r\n            </Button>\r\n          </Space> : approve === '2' ? <Space className='flex-column-center space-style'>\r\n            <Button onClick={() => { sellAgain() }} type=\"primary\" className='btn-style'>\r\n              再试一次\r\n            </Button>\r\n            <div className='color-red'>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n\r\n        <div style={{ width: '90%', margin: '25px 0', display: `${inputOpen ? '' : 'none'}` }}>\r\n          <div className='flex-between-center'>\r\n            <div className=\"textMode\"><span className=\"one\">4</span><span>上架出售</span></div>\r\n            {selling === '3' ? <div className='color'>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>上架出售需支付一笔矿工费。</div>\r\n          {selling === '1' ? <Space className='flex-column-center space-style'>\r\n            <Button type=\"primary\" loading className='btn-style'>\r\n              上架中\r\n            </Button>\r\n          </Space> : selling === '2' ? <Space className='flex-column-center space-style'>\r\n            <Button onClick={() => { sellAgain() }} type=\"primary\" className='btn-style'>\r\n              再试一次\r\n            </Button>\r\n            <div className='color-red'>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import { Button } from 'antd';\r\nimport { connectWeb3Modal, CONNECTID } from 'Connections/web3Modal';\r\nimport { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\n// import SupportMode  from 'Components/SupportMode';\r\nimport SupportMode from 'Components/SupportMode';\r\n\r\nexport default function ConnectWallet() {\r\n  const { walletAddress } = useSelector((state) => state);\r\n  const [okText, setOkText] = useState('')\r\n  const [cancelText, setCancelText] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [title, setTitle] = useState('')\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(CONNECTID)) {\r\n      connectWeb3Modal();\r\n    }\r\n  }, []);\r\n  const connect = () => {\r\n    if (!window.ethereum?.isMetaMask) {\r\n      if (navigator.userAgent.indexOf('WebKit') > -1 || navigator.userAgent.indexOf('Firefox') > -1) {\r\n        setIsModalVisible(true)\r\n        setOkText('前往MetaMask')\r\n        setCancelText('返回')\r\n        setContent('您的浏览器未安装MetaMask，是否要前往MetaMask官网下载安装？安装成功后，请返回并刷新登录页面；首次登录时，请按照MetaMask的引导进行账号设置。')\r\n        setTitle('MetaMask未安装')\r\n      } else {\r\n        setIsModalVisible(true)\r\n        setOkText('确定')\r\n        setCancelText('返回')\r\n        setContent('当前浏览器不兼容MetaMask钱包，请使用谷歌Chrome浏览器。')\r\n        setTitle('浏览器不兼容MetaMask')\r\n      }\r\n    } else {\r\n      setIsModalVisible(false)\r\n      connectWeb3Modal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        {!walletAddress ? (\r\n          <Button className='pink-font bt-cnlo' shape='round' onClick={() => connect()}>\r\n            <div className='center'>\r\n              连接钱包\r\n              <div className='error-dot' />\r\n            </div>\r\n          </Button>\r\n        ) : null}\r\n        <div>\r\n          {isModalVisible ? (\r\n            <SupportMode visible={isModalVisible} okText={okText} cancelText={cancelText} content={content} title={title} setVisible= {setIsModalVisible}></SupportMode>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Form, Input, Modal, message, Popover } from 'antd';\r\nimport { EditOutlined } from '@ant-design/icons';\r\nimport { createERC721Collection, setCollectionInfo } from 'Store/actions';\r\nimport ConnectWallet from 'Components/ConnectWallet';\r\nimport CreateColModal from 'Components/CreateColModal';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { uploadFileToIpfs } from 'Utils/ipfs'\r\nimport { getDB } from 'Utils/orbit'\r\nimport AddIcon from 'Assets/icons/addIcon.png'\r\nimport Logo from 'Assets/logo.png'\r\n\r\nimport '../index.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst NFTinfo = ({ userCollection }) => {\r\n  return (\r\n    <>\r\n      <div className='col-list'>\r\n        <img src={userCollection.logo} alt='icon' style={{ width: '74px', height: '74px', borderRadius: '50%' }} />\r\n        <strong className='textName pt15'>{userCollection.name}</strong>\r\n        <span className='size14'>ERC-721</span>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default function ERC721Collections({ collectionId, setCollectionId, setNftAddress }) {\r\n  const { walletAddress, web3, creativeStudio, collectionInfo, orbitdb, chainId, colError } = useSelector(\r\n    (state) => state);\r\n\r\n  const dispatch = useDispatch();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isDeploying, setIsDeploying] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [files, setFiles] = useState([]);\r\n  const [colArr, setColArr] = useState([]);\r\n  const [collectionData, setCollectionData] = useState([]);\r\n\r\n  const content = (\r\n    <div className=\"pop\">\r\n      <p>创建新作品集需要支付一笔链上费用。如果您没有自己的作品集，可以免费使用平台作品集。</p>\r\n    </div>\r\n  );\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const fetchDB = async (dbAddress, orbitdb) => {\r\n    const db = await getDB(dbAddress, orbitdb)\r\n    if (db) {\r\n      let collectionInfo = await db.get(`${walletAddress}_${chainId}`)\r\n      setCollectionData(collectionInfo)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // 根据环境获取orbitdb库的地址\r\n    const dbAddress = process.env.REACT_APP_ORBIT_DB;\r\n    if (!!orbitdb) {\r\n      fetchDB(dbAddress, orbitdb)\r\n    }\r\n  }, [orbitdb, walletAddress, chainId])// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  useEffect(() => {\r\n    setColArr(collectionInfo)\r\n  }, [collectionInfo])\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: 'image/*',\r\n    onDrop: (acceptedFiles) => {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n    },\r\n  });\r\n\r\n  const onSubmit = async (values) => {\r\n    console.log(values);\r\n    let image\r\n    if (files.length > 0) {\r\n      if (files[0].size <= 2048000) {\r\n        setIsDeploying(true);\r\n        // upload image\r\n        // logo上传到IPFS\r\n        let formData = new FormData();\r\n        formData.append('file', files[0]);\r\n        const ipfsHash = await uploadFileToIpfs(formData);\r\n        image = 'https://gateway.pinata.cloud/ipfs/' + ipfsHash;\r\n      } else {\r\n        message.warn('Logo最大为2MB');\r\n        return;\r\n      };\r\n    }\r\n    // todo 判断标准创建对应的作品集\r\n    // 创建721作品集\r\n    await dispatch(createERC721Collection(values))\r\n      .then(async (res) => {\r\n        if (!res.status) return\r\n        // 调用合约获取当前地址下的作品集\r\n        let collections = await creativeStudio.methods.getCollectionsByUser(walletAddress).call();\r\n        const col = collections[collections.length - 1]\r\n        // 组装数据\r\n        let collectionData = {\r\n          ...values,\r\n          logo: image || '',\r\n          id: col.id,\r\n          contractAddress: col.contractAddress,\r\n          isERC1155: col.isERC1155,\r\n          creator: col.creator,\r\n        }\r\n        colArr.push(collectionData)\r\n        // 根据环境获取orbitdb库的地址\r\n        const address = process.env.REACT_APP_ORBIT_DB;\r\n        // 获取数据库信息[address:数据库地址;orbitdb：orbitdb初始化信息]\r\n        const db = await getDB(address, orbitdb)\r\n        if (db) {\r\n          await db.set(`${walletAddress}_${chainId}`, colArr)\r\n          await db.set(`${col.contractAddress}_${chainId}`, collectionData)\r\n          dispatch(setCollectionInfo(colArr))\r\n        }\r\n        fetchDB(address, orbitdb);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  const handleCancel = useCallback(async () => {\r\n    setIsModalVisible(false);\r\n    setIsDeploying(false);\r\n    setFiles([]);\r\n    form.resetFields();\r\n  }, [form]);\r\n\r\n  useEffect(() => {\r\n    if (colError === '1') {\r\n      handleCancel();\r\n    }\r\n  }, [colError, handleCancel])\r\n\r\n  const showModal = () => {\r\n    setCollectionId(true);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    form.submit();\r\n    setLoading(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CreateColModal visible={isDeploying} handleOk={handleOk} setIsDeploying={setIsDeploying} loading={loading} />\r\n      <div className='choose'>\r\n        <div className='box input-mode-bc create-erc721' onClick={showModal}>\r\n          <img\r\n            src={AddIcon}\r\n            alt='icon'\r\n            style={{\r\n              width: '74px',\r\n              height: '74px',\r\n              padding: '6px'\r\n            }}\r\n          />\r\n          <strong className='textName pt15'>创建新作品集</strong>\r\n          <p className='textName'>ERC-721</p>\r\n        </div>\r\n        <div\r\n          className={`${collectionId === -1 ? 'active' : ''} box input-mode-bc`}\r\n          onClick={() => { setCollectionId(-1) }}\r\n        >\r\n          <img\r\n            src={Logo}\r\n            alt='icon'\r\n            style={{ width: '74px', height: '74px' }}\r\n          />\r\n          <strong className='textName pt15'>Didi</strong>\r\n          <p className='textName'>ERC-721</p>\r\n          <div className=\"absolute\">\r\n            <Popover content={content} trigger=\"hover\">\r\n              <Button className=\"hiddenBtn\">免费</Button>\r\n            </Popover>\r\n          </div>\r\n        </div>\r\n        {!!collectionData ? (\r\n          collectionData.map((userCollection) =>\r\n            userCollection.isERC1155 ? (\r\n              <div key={userCollection.id}></div>\r\n            ) : (\r\n              <div\r\n                key={userCollection.id}\r\n                className={`${collectionId === userCollection.id ? 'active' : ''\r\n                  } box input-mode-bc`}\r\n                onClick={() => { setCollectionId(userCollection.id); setNftAddress(userCollection.contractAddress) }}\r\n              >\r\n                <Link\r\n                  to={`/collection/detail/${userCollection.contractAddress}/${walletAddress}`}\r\n                  className='button-edit-collection'\r\n                >\r\n                  <EditOutlined />\r\n                </Link>\r\n                <NFTinfo userCollection={userCollection} web3={web3} />\r\n              </div>\r\n            )\r\n          )\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n\r\n      <Modal\r\n        width={560}\r\n        title={\r\n          <p className='textmode' style={{ margin: 0 }}>\r\n            创建作品集\r\n          </p>\r\n        }\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        footer={\r\n          walletAddress\r\n            ? [\r\n              <Button\r\n                key='sell'\r\n                type='primary'\r\n                shape='round'\r\n                size='large'\r\n                className='btn-create-item'\r\n                onClick={() => handleOk()}\r\n              >\r\n                创建作品集\r\n              </Button>,\r\n            ]\r\n            : []\r\n        }\r\n      >\r\n        {walletAddress ? (\r\n          <Form onFinish={onSubmit} form={form} layout='vertical'>\r\n            <div className='wrap-box-create-collection'>\r\n              <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                <div className='wrap-columm-logo'>\r\n                  <div className='drag-box dropzone-collection'>\r\n                    {!!files[0] ? (\r\n                      <div className='preview'>\r\n                        <img\r\n                          src={files[0].preview}\r\n                          alt='priview'\r\n                          style={{ width: '90%', maxWidth: '160px', height: '160px', objectFit: 'contain', marginLeft: '5%' }}\r\n                        />\r\n                      </div>\r\n                    ) : (\r\n                      <p className='textmode' style={{ textAlign: 'center', marginBottom: 0 }}>\r\n                        {'请上传LOGO'}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <p>支持JPG, PNG, GIF</p>\r\n                  <p>*推荐尺寸400*400，不超过2M</p>\r\n                  <div {...getRootProps({ className: 'create-collection-dropzone' })}>\r\n                    <input {...getInputProps()} />\r\n                    <div className=\"create-collection-upLoad-btn\">\r\n                      上传\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='wrap-box-input'>\r\n                <div style={{ margin: '30px 0 8px 0' }}>作品集名称</div>\r\n                <Form.Item\r\n                  name='name'\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: '请输入作品集名称',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input\r\n                    className='input-name-nft input-mode-bc'\r\n                    placeholder='请输入作品集名称'\r\n                    size='large'\r\n                  />\r\n                </Form.Item>\r\n                <div style={{ margin: '20px 0 8px 0' }}>作品集代码</div>\r\n                <Form.Item\r\n                  name='symbol'\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: '请输入作品集代码',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input\r\n                    className='input-name-nft input-mode-bc'\r\n                    placeholder='请输入作品集代码'\r\n                    size='large'\r\n                  />\r\n                </Form.Item>\r\n                <div style={{ margin: '20px 0 8px 0' }}>简介</div>\r\n                <Form.Item name='description'>\r\n                  <TextArea\r\n                    className='input-name-nft input-mode-bc content-description'\r\n                    autoSize={{ minRows: 3 }}\r\n                    placeholder='请输入简介'\r\n                    size='large'\r\n                    maxLength=\"500\"\r\n                  />\r\n                </Form.Item>\r\n              </div>\r\n            </div>\r\n          </Form>\r\n        ) : (\r\n          <div className='center'>\r\n            <div onClick={() => handleCancel()}>\r\n              <ConnectWallet />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import { uploadJsonToIpfs, uploadFileToIpfs } from 'Utils/ipfs';\r\n\r\nconst generateURI = async ({ name, description, attributes }, image) => {\r\n  return new Promise(async function (resolve, reject) {\r\n    let draw = {\r\n      name,\r\n      image,\r\n      description,\r\n      attributes,\r\n    };\r\n    try {\r\n      const ipfsHash = await uploadJsonToIpfs(draw);\r\n\r\n      resolve('https://gateway.pinata.cloud/ipfs/' + ipfsHash);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const uploadIPFS = async (values, files) => {\r\n  // post file to IPFS, get the IPFS hash and store it in contract\r\n  return new Promise(async function (resolve, reject) {\r\n    try {\r\n      let formData = new FormData();\r\n      formData.append('file', files[0]);\r\n      const ipfsHash = await uploadFileToIpfs(formData);\r\n      let image = 'https://gateway.pinata.cloud/ipfs/' + ipfsHash;\r\n      resolve(await generateURI(values, image));\r\n    } catch (error) {\r\n      console.error(error);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n","import { Form, Input, message, Row, Button, Switch, Space, Modal, InputNumber } from 'antd';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport CreateModal from 'Components/CreateModal';\r\nimport ERC721Collections from './collections';\r\nimport ConnectWallet from 'Components/ConnectWallet';\r\nimport { uploadIPFS } from '../UploadIpfs';\r\nimport { createSellOrder } from 'Store/actions';\r\nimport '../index.scss';\r\nimport { generateERC721NFT } from 'Store/actions';\r\nimport { Link } from 'react-router-dom';\r\nimport Add from 'Assets/icons/add.png'\r\nimport Delete from 'Assets/icons/delete.png'\r\n\r\nconst { TextArea } = Input;\r\n\r\nexport default function CreateERC721() {\r\n  const { walletAddress, chainId, web3, mintError, approveError, sellError } = useSelector((state) => state);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [price, setPrice] = useState(false);\r\n  const [tokenId, setTokenId] = useState('');\r\n  const [first, setFirst] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [create, setCreate] = useState('0');//控制创建状态\r\n  const [approve, setApprove] = useState('0');//控制授权状态\r\n  const [selling, setSelling] = useState('0');//控制上架状态\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [collectionId, setCollectionId] = useState(-1);// -1代表官方作品集的id，其它代表别的作品集\r\n  const [nftAddress, setNftAddress] = useState('');\r\n  const [btn, setBTN] = useState(false);\r\n  const [inputOpen, setInputOpen] = useState(false);\r\n  const [attributes, setAttributes] = useState([]);\r\n  const [pinataUri, setPinataUri] = useState(\"\");\r\n  const [files, setFiles] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const profile = useRef(null);\r\n  const [receivedPrice, setReceivedPrice] = useState('');\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleClean = () => {\r\n    // 清空 form file 和所有交易状态\r\n    setIsLoading(false);\r\n    setFirst(false);\r\n    setCreate('0');\r\n    setApprove('0');\r\n    setSelling('0');\r\n    setAttributes([]);\r\n    setFiles([]);\r\n    form.resetFields();\r\n  }\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    accept: 'image/*',\r\n    onDrop: (acceptedFiles) => {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n    },\r\n  });\r\n\r\n  //属性\r\n  const onFinishing = async (values) => {\r\n    let attrs = [];\r\n    if (values.addAttributes.length > 0) {\r\n      for (let i = 0; i < values.addAttributes.length; i++) {\r\n        let attr = {};\r\n        attr.trait_type = await values.addAttributes[i].attrName;\r\n        attr.value = await values.addAttributes[i].attrValue;\r\n        attrs.push(attr);\r\n      }\r\n      setAttributes(attrs)\r\n      setIsModalVisible(false);\r\n    } else {\r\n      // message.warn('属性不能为空')\r\n      setAttributes([]);\r\n      setIsModalVisible(false);\r\n    }\r\n  };\r\n  //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n  //actions里面 交易的时候会根据用户的操作 来返回相应的code 再作处理\r\n  useEffect(() => {\r\n    if (mintError === '4001') {\r\n      setCreate('2')\r\n    } else if (mintError === '4000') {\r\n      setCreate('1')\r\n    } else if (mintError === '1') {\r\n      setCreate('3')\r\n      if (!inputOpen) {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n    if (approveError === '4001') {\r\n      setApprove('2')\r\n    } else if (approveError === '4000') {\r\n      setApprove('1')\r\n    } else if (approveError === '1') {\r\n      setApprove('3')\r\n      setSelling('1')\r\n    }\r\n    if (sellError === '4001') {\r\n      setSelling('2');\r\n    } else if (sellError === '4000') {\r\n      setSelling('1');\r\n    } else if (sellError === '1') {\r\n      setSelling('0');\r\n      setSelling('3');\r\n    }\r\n  }, [mintError, inputOpen, approveError, sellError]);\r\n\r\n  //开始创建\r\n  const onFinish = async (values) => {\r\n    setPrice(values.price);\r\n    let metaData = {};\r\n    metaData.attributes = attributes;\r\n    metaData.name = values.name;\r\n    metaData.description = values.description;\r\n    if (files.length > 0) {\r\n      if (files[0].size <= 50000000) {\r\n        // 上传图片\r\n        setIsLoading(true);\r\n        setUploading(true);\r\n        let tokenUri;\r\n        try {\r\n          tokenUri = await uploadIPFS(metaData, files);\r\n          setUploading(false);\r\n        } catch (e) {\r\n          message.error('上传失败，请重试！')\r\n        }\r\n        setPinataUri(tokenUri)\r\n        setFirst(true)\r\n        setCreate('1')\r\n\r\n        // 铸造\r\n        const result = await dispatch(generateERC721NFT(collectionId, tokenUri, nftAddress));\r\n        if (!!result) {\r\n          setTokenId(result.tokenId)\r\n          //出售按钮为true 并且价格大于0\r\n          if (!!inputOpen && parseFloat(values.price) > 0) {\r\n            setApprove('1')\r\n            const res = await dispatch(createSellOrder(\r\n              nftAddress,\r\n              result.tokenId,\r\n              web3.utils.toWei(values.price.toString(), 'ether'),\r\n              '0x0000000000000000000000000000000000000000',\r\n              1))\r\n            if (!!res.status) {\r\n              // 如果成功了，  清空 form file 和所有交易状态\r\n              setIsLoading(false);\r\n              setFirst(false);\r\n              setCreate('0');\r\n              setApprove('0');\r\n              setSelling('0');\r\n              setAttributes([]);\r\n              setFiles([]);\r\n              form.resetFields();\r\n            }\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n      } else message.warn('上传物品最大为50MB');\r\n    } else message.warn('您还没有上传物品图片！');\r\n  };\r\n\r\n  return (\r\n    <div className='center create-pt'>\r\n      <CreateModal visible={isLoading}\r\n        uploading={uploading} create={create} setCreate={setCreate} setApprove={setApprove}\r\n        first={first} pinataUri={pinataUri} handleClean={handleClean}\r\n        collectionId={collectionId} inputOpen={inputOpen} nftAddress={nftAddress}\r\n        approve={approve} selling={selling} price={price} tokenId={tokenId} setTokenId={setTokenId}\r\n      />\r\n      <div className='my-collection'>\r\n        <h2 className='textmode'>创建物品</h2>\r\n        <div style={{ display: 'flex', alignItems: 'center' }}>\r\n          <div className='area-upload'>\r\n            <div className='drag-box-search'>\r\n              <div className='drag-box dropzone'>\r\n                {!!files[0] ? (\r\n                  <div className='preview'>\r\n                    <img\r\n                      src={files[0].preview}\r\n                      alt='priview'\r\n                      style={{ width: '90%', maxWidth: '208px', height: '208px', objectFit: 'contain' }}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <p className='textmode' style={{ textAlign: 'center' }}>\r\n                    {'请上传物品文件'}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <p className=\"textmodeH3\">上传图片</p>\r\n            <p>支持JPG, PNG, GIF *不超过50MB</p>\r\n            <div {...getRootProps({ className: 'create-collection-dropzone' })}>\r\n              <input {...getInputProps()} />\r\n              <div className=\"create-collection-upLoad-btn\">\r\n                上传\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Link to={`/profile/${chainId}/${walletAddress}`} ref={profile} />\r\n        <div className='info-item'>\r\n          <div className='input-area'>\r\n            <Form onFinish={onFinish} form={form} colon={false}>\r\n              <div style={{ display: 'flex' }}>\r\n                <div className='textName' style={{ padding: '0.5rem 2.7rem 0 0.5rem' }}>名称</div>\r\n                <Form.Item\r\n                  // label={<div className='textName pr15'>名称</div>}\r\n                  name='name'\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: '请输入物品名称!',\r\n                    },\r\n                  ]}\r\n                >\r\n                  <Input\r\n                    className='input-name-nft input-mode-bc textName'\r\n                    placeholder='请输入物品名称'\r\n                    size='large'\r\n                    maxLength=\"50\"\r\n                  />\r\n                </Form.Item>\r\n              </div>\r\n              <div className=\"mt25\"></div>\r\n              <Form.Item className='description' name='description' label={<div className='textName pr25'>简介</div>}>\r\n                <TextArea\r\n                  className='input-name-nft input-mode-bc content-description'\r\n                  autoSize={{ minRows: 3 }}\r\n                  placeholder='请输入简介'\r\n                  size='large'\r\n                  maxLength=\"500\"\r\n                />\r\n              </Form.Item>\r\n              <div style={{ display: 'flex', width: '800px', margin: '40px 0 10px 0' }}>\r\n                <div className='textName' style={{ width: '82px' }}>作品集</div>\r\n                <ERC721Collections\r\n                  collectionId={collectionId}\r\n                  setCollectionId={setCollectionId}\r\n                  setNftAddress={setNftAddress}\r\n                />\r\n              </div>\r\n              <div className='textName attributes'>\r\n                <div style={{ paddingLeft: '8px', marginRight: '42px' }}>属性</div>\r\n                {!!attributes ? attributes.map((attr, index) =>\r\n                  <div key={index}>\r\n                    <div className=\"attri\">\r\n                      <div>{attr.trait_type}</div>\r\n                      <div className=\"attrValue\">{attr.value}</div>\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n                <img\r\n                  onClick={showModal}\r\n                  src={Add}\r\n                  alt='add'\r\n                  style={{ width: '20px', height: '20px', cursor: 'pointer' }}\r\n                />\r\n              </div>\r\n\r\n              <Modal footer=\"\" centered className=\"attrModal\" title=\"添加属性\" visible={isModalVisible} onCancel={handleCancel}>\r\n                <Form name=\"dynamic_form_nest_item\" onFinish={onFinishing}>\r\n                  <Form.List name=\"addAttributes\" className=\"listAttributes\">\r\n                    {(fields, { add, remove }) => (\r\n                      <>\r\n                        {fields.length >= 1 ? <div style={{ display: 'flex', justifyContent: 'start' }}>\r\n                          <div style={{ width: '220px' }}>名称</div>\r\n                          <div style={{ width: '210px' }}>属性</div>\r\n                        </div> : null}\r\n                        {fields.map(({ key, name, fieldKey, ...restField }) => (\r\n                          <Space key={key} style={{ display: 'flex', alignItems: 'center', position: 'relative' }} align=\"baseline\">\r\n                            <Form.Item style={{ width: '210px' }}\r\n                              {...restField}\r\n                              name={[name, 'attrName']}\r\n                              fieldKey={[fieldKey, 'attrName']}\r\n                              rules={[{ required: true, message: '属性名不能为空' }]}\r\n                            >\r\n                              <Form.Item>\r\n                                <Input maxLength={30} style={{ width: '210px', border: '1px solid #6080b4', borderRadius: '10px' }} />\r\n                              </Form.Item>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                              style={{ width: '210px' }}\r\n                              {...restField}\r\n                              name={[name, 'attrValue']}\r\n                              fieldKey={[fieldKey, 'attrValue']}\r\n                              rules={[{ required: true, message: '属性值不能为空' }]}\r\n                            >\r\n                              <Form.Item>\r\n                                <Input maxLength={30} style={{ width: '210px', border: '1px solid #6080b4', borderRadius: '10px' }} />\r\n                              </Form.Item>\r\n                            </Form.Item>\r\n                            <div onClick={() => remove(name)} >\r\n                              <img\r\n                                src={Delete}\r\n                                alt='add'\r\n                                style={{ width: '20px', height: '20px', cursor: 'pointer', position: 'absolute', right: 0, top: 6 }}\r\n                              />\r\n                            </div>\r\n                          </Space>\r\n                        ))}\r\n                        <Form.Item style={{ marginTop: '20px' }}>\r\n                          <Button className=\"addBTN\" type=\"primary\" onClick={() => add(setBTN(true))} >\r\n                            新增\r\n                          </Button>\r\n                          <Button disabled={!btn} className=\"deleteBTN\" type=\"primary\" htmlType=\"submit\">\r\n                            保存\r\n                          </Button>\r\n                        </Form.Item>\r\n                      </>\r\n                    )}\r\n                  </Form.List>\r\n                </Form>\r\n              </Modal>\r\n\r\n              <Form.Item label={<div className='textName pr25'>出售</div>} valuePropName=\"checked\">\r\n                <div className=\"saleMode\">\r\n                  <div className=\"textName\">创建后立即上架出售</div>\r\n                  <Switch onChange={() => setInputOpen(!inputOpen)} />\r\n                </div>\r\n              </Form.Item>\r\n              <div className={inputOpen ? 'show' : 'hide'}>\r\n                <Input.Group label='Price' style={{ display: `${inputOpen ? '' : 'none'}`, marginTop: '20px' }}>\r\n                  <div style={{ display: 'flex' }}>\r\n                    <div className='textName' style={{ padding: '0.5rem 2.7rem 0 0.5rem' }}>价格</div>\r\n                    <Form.Item\r\n                      name='price'\r\n                      rules={[\r\n                        {\r\n                          required: inputOpen,\r\n                          message: '请输入物品名称!',\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <InputNumber\r\n                        style={{ width: '500px', borderRadius: '0px' }}\r\n                        min='0.01'\r\n                        size='large'\r\n                        controls={false}\r\n                        formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                        placeholder='请输入价格'\r\n                        addonAfter={chainId === 4 ? 'ETH' : 'BNB'}\r\n                        onChange={(val) => setReceivedPrice((val * 0.975).toFixed(4))}\r\n                      />\r\n                    </Form.Item>\r\n                  </div>\r\n                </Input.Group>\r\n                <div style={{ padding: '0 35px 0 85px', margin: '25px 0 30px 0', display: `${inputOpen ? '' : 'none'}` }} className=\"saleMode\">\r\n                  <span>服务费率：2.5%</span>\r\n                  <span>{!!receivedPrice ? <span>你将获得：{receivedPrice}<span className='size12'> {chainId === 4 ? 'ETH' : 'BNB'}</span></span> : null}</span>\r\n                </div>\r\n                <Form.Item\r\n                  label={<div className='textName pr25'>版税</div>}\r\n                  style={{ display: `${inputOpen ? '' : 'none'}`, marginTop: '10px' }}\r\n                  name='royalty'\r\n                >\r\n                  <InputNumber\r\n                    style={{ width: '500px', borderRadius: '0px' }}\r\n                    placeholder='请输入版税'\r\n                    size='large'\r\n                    min={0}\r\n                    max={10}\r\n                    step={1}\r\n                    addonAfter=\"%\"\r\n                  />\r\n                </Form.Item>\r\n                <div style={{ position: 'relative', margin: '0 0 0 90px', display: `${inputOpen ? '' : 'none'}` }} className=\"saleMode\">\r\n                  <p>0~10</p>\r\n                </div>\r\n              </div>\r\n              <Form.Item style={{ marginTop: '40px' }}>\r\n                <Row justify='center'>\r\n                  {walletAddress ? (\r\n                    <Button\r\n                      className='btn-create-item'\r\n                      htmlType='submit'\r\n                      shape='round'\r\n                      size='large'\r\n                    >\r\n                      创建\r\n                    </Button>\r\n                  ) : (\r\n                    <ConnectWallet />\r\n                  )}\r\n                </Row>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAGFJREFUSEtjZKARYKSRuQxEG5zQsOUvyBELGnyYiXEMKQb/hxpMlB6iFIEMTGjYMmowJKpGUFBA0ykTMWkUj5p/sHQOT240M5iQS0dQ5I0GxaAo3WhT0BOKXHR5ooOCVIMBMyBKFxz2ZBgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAJtJREFUSEvdlLENgDAQA50OGlqWghlglIwCM8BStDTQBUWiiELIu+CRILVzetn+N1B6RomLH4A7Oy0GphpsUzI29XbeHNw62rYO9RcrvBBAAWCX4Dlt0mMGLmluw8t9lKDekmwrUgAGKoK9IASd4VD+Uz0O4J4thkpNHE39HFjFCpXwVOrGVErSvLfSakeIuWiMhloQBhRrvgc+AHxifBcVC8jkAAAAAElFTkSuQmCC\"","import './App.scss';\r\nimport { HashRouter, Switch, Route } from 'react-router-dom';\r\nimport { lazy, Suspense, useEffect } from 'react';\r\nimport store from 'Store/index';\r\nimport NavBar from 'Components/NavBar';\r\nimport IconLoading from 'Components/IconLoading';\r\nimport StatusActivity from 'Components/StatusActivity';\r\nimport Notification from 'Components/Notification';\r\nimport { setAvailableSellOrder } from 'Store/actions';\r\nimport CreateERC721 from 'Views/Create/ERC721';\r\n\r\nconst Create = lazy(() => import('Views/Create'));\r\nconst Market = lazy(() => import('Views/Market'));\r\nconst Profile = lazy(() => import('Views/Profile'));\r\nconst EditProfile = lazy(() => import('Views/Profile/edit'));\r\nconst Login = lazy(() => import('Views/Login'));\r\nconst Collection = lazy(() => import('Views/Collection'));\r\nconst CreateCollection = lazy(() => import('Views/Collection/create'));\r\nconst CollectionStandard = lazy(() => import('Views/Collection/standard'));\r\nconst EditCollection = lazy(() => import('Views/Collection/edit'));\r\nconst CollectionDetail = lazy(() => import('Views/Collection/detail'));\r\nconst DetailNFT = lazy(() => import('Views/DetailNFT'));\r\n\r\nfunction App() {\r\n  useEffect(() => {\r\n    async function fetchDataInit() {\r\n      // const selectedMode = localStorage.getItem('theme')\r\n      // if (selectedMode !== null) \r\n      document.querySelector(\"html\").setAttribute('data-theme', 'light');\r\n      await store.dispatch(setAvailableSellOrder());\r\n    }\r\n    fetchDataInit();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ height: '100vh', position: 'relative' }}>\r\n      <HashRouter>\r\n        <div className='page content'>\r\n          <Notification />\r\n          <StatusActivity />\r\n          <NavBar />\r\n          <Suspense\r\n            fallback={\r\n              <div className='center background-mode' style={{ height: '90vh' }}>\r\n                <IconLoading />\r\n              </div>\r\n            }\r\n          >\r\n            <div style={{ height: '100%', background: '#fff' }}>\r\n              <Switch>\r\n                <Route exact path='/' component={Market} />\r\n                <Route exact path='/market' component={Market} />\r\n                <Route exact path='/profile/index/:chainID/:address' component={Profile} />\r\n                <Route exact path='/profile/edit' component={EditProfile} />\r\n                <Route exact path='/create' component={Create} />\r\n                <Route exact path='/create/erc721' component={CreateERC721} />\r\n                <Route exact path='/token/:chainID/:addressToken/:id/:sellID' component={DetailNFT} />\r\n                <Route exact path='/login' component={Login} />\r\n                <Route exact path='/collection/index/:address' component={Collection} />\r\n                <Route exact path='/collection/standard' component={CollectionStandard} />\r\n                <Route exact path='/collection/create/:standard' component={CreateCollection} />\r\n                <Route exact path='/collection/edit/:collectionAddress' component={EditCollection} />\r\n                <Route exact path='/collection/detail/:collectionAddress/:address' component={CollectionDetail} />\r\n              </Switch>\r\n            </div>\r\n          </Suspense>\r\n        </div>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport 'antd/dist/antd.css'\r\nimport store from './Store';\r\nimport { Provider } from 'react-redux';\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","export default \"data:image/png;base64,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\"","import axios from 'axios';\r\n\r\nexport const uploadFileToIpfs = async (data) => {\r\n  try {\r\n    const uploadedData = await axios.post('https://api.pinata.cloud/pinning/pinFileToIPFS', data, {\r\n      maxBodyLength: 'Infinity',\r\n      headers: {\r\n        'Content-Type': `multipart/form-data`,\r\n        pinata_api_key: 'd0d78c26ec79a45a2539',\r\n        pinata_secret_api_key: '3e9d6e5dcd65d74734b60d7d79c38d4cd19ab948bbbb3f282f02e352ac0f7c9e',\r\n      },\r\n    });\r\n    return uploadedData.data.IpfsHash;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const uploadJsonToIpfs = async (data) => {\r\n  try {\r\n    const uploadedData = await axios.post('https://api.pinata.cloud/pinning/pinJSONToIPFS', data, {\r\n      headers: {\r\n        pinata_api_key: 'd0d78c26ec79a45a2539',\r\n        pinata_secret_api_key: '3e9d6e5dcd65d74734b60d7d79c38d4cd19ab948bbbb3f282f02e352ac0f7c9e',\r\n      },\r\n    });\r\n    return uploadedData.data.IpfsHash;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const deleteFileInIpfs = async (hash) => {\r\n  const result = await axios\r\n    .delete(`https://api.pinata.cloud/pinning/unpin/${hash}`, {\r\n      headers: {\r\n        pinata_api_key: 'd0d78c26ec79a45a2539',\r\n        pinata_secret_api_key: '3e9d6e5dcd65d74734b60d7d79c38d4cd19ab948bbbb3f282f02e352ac0f7c9e',\r\n      },\r\n    })\r\n    .then(function (res) {\r\n      console.log('res: ', res);\r\n      return true;\r\n    })\r\n    .catch(function (e) {\r\n      console.log('error:', e);\r\n      return false;\r\n    });\r\n  return result;\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWEAYAAACUJLB4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAmlJREFUSMdjYBgFo2AUUARcLy564XpRTMzpxOxLTifExQmpZxooh4aGrFoZGsLG9q/6nwhTwZo1jJ9Yn7KmnDjhFLdQz/umtPSgc/A7rq9hHzMmTWL4zrCEgc3W9j/ff4//J27eFP7OWcNV8+LFQLkLAzj9XeDtfiw729l5wQJ39///nXsX6rnL3Lhh/3/+f/v/AgKE9NMthF2cFyl6dNjYMFxjEP+v1df3fwXDUYYnnz4x1P31ZuIICjrImMh4kPHDB0LmMNLaoU4Cc555BcnLM6xmef331OnTDLwMgv93CAv///Tfnumir+9+t8T7O6K3baOahaGhq1aFhjIzk6rP/v+qlfb/eXic4xaUuHNdvAhLAk4mCyXd5pWUkOsenEkC5tB3rd92fJy9eLGz7vyjbud6ewkb+f8/AwMjI/Pyb885jObOZXjKoMNgq6fH4Mow8X/qkiX7zsQ/35XU00N1B3+K+KnzKUJMjMGNgYtxr7U1gxjjbcbKoiKnzwsr3Z40NeHS59SyyMmtp66OcS6DAINYWBiDLcNNBu5Tp/6U/z/3Mzg1lVyHEg1gadA5d6Gy2+0HD+C5e+r8ve5ra2th6pyN5v93SwsIcDqx4JHblb9/nWcu2OD25vlz+/9LJnqqyMhQyz1EZzrnuIXrvKTU1P5n/Z/xV/HAAcZqhigGHklJhuUM0xnkp0xhaGJ4xWCbkMCwhvEZwzRWVsaqfz+YXjs47MlLZNx+58QJujuYoMNh4AfDJkaFlJS9RxPW7Zg5dy61HEoxcEub/98tTUMDFvXEZ8oBBq4G8xVdDVRVyS3+RsEoGGkAAEDY/aAwK+mXAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTEyLTA4VDE0OjI1OjMwKzA4OjAw0bx2owAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0xMi0wOFQxNDoyNTozMCswODowMKDhzh8AAABGdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uXzF0enBmajV3Z3V1L2R1aS5zdme6+EQJAAAAAElFTkSuQmCC\"","const urlsSubgraph = {\r\n  //Polygon Mainnet\r\n  137: {\r\n    url1155: 'https://api.thegraph.com/subgraphs/name/tranchien2002/eip1155-matic',\r\n    url721: 'https://api.thegraph.com/subgraphs/name/tranchien2002/eip721-matic',\r\n  },\r\n  //BSC Mainnet\r\n  56: {\r\n    url1155: 'https://api.thegraph.com/subgraphs/name/tranchien2002/eip1155-bsc-main',\r\n    url721: 'https://api.thegraph.com/subgraphs/name/tranchien2002/eip721-bsc-main',\r\n  },\r\n  //BSC Testnet\r\n  97: {\r\n    url1155: 'https://api.thegraph.com/subgraphs/name/tranchien2002/eip1155-bsc',\r\n    url721: 'https://api.thegraph.com/subgraphs/name/tranchien2002/eip721-bsc',\r\n  },\r\n  1666600000: {\r\n    url1155: '',\r\n    url721: '',\r\n  },\r\n};\r\n\r\nexport const getUrlSubgraph = (_chainId) => {\r\n  return urlsSubgraph[_chainId];\r\n};\r\n","import { getContractAddress } from 'Utils/getContractAddress';\r\nimport { getUrlSubgraph } from 'Utils/getUrlsSubgraph';\r\nconst Web3 = require('web3');\r\nconst ERC20 = require('Contracts/ERC20.json');\r\nconst axios = require('axios');\r\n\r\nexport function parseBalance(_balanceWei, _decimals) {\r\n  if (!_balanceWei) {\r\n    return 0;\r\n  }\r\n  if (!_decimals) {\r\n    _decimals = 18;\r\n  }\r\n  _decimals = parseInt(_decimals);\r\n  let afterDecimal;\r\n  const weiString = _balanceWei.toString();\r\n  const trailingZeros = /0+$/u;\r\n\r\n  const beforeDecimal =\r\n    weiString.length > _decimals ? weiString.slice(0, weiString.length - _decimals) : '0';\r\n  afterDecimal = ('0'.repeat(_decimals) + _balanceWei).slice(-_decimals).replace(trailingZeros, '');\r\n  if (afterDecimal === '') {\r\n    afterDecimal = '0';\r\n  } else if (afterDecimal.length > 3) {\r\n    afterDecimal = afterDecimal.slice(0, 3);\r\n  }\r\n  return parseFloat(`${beforeDecimal}.${afterDecimal}`);\r\n}\r\n\r\nexport function convertTimestampToDate(timestamp) {\r\n  var months_arr = [\r\n    'Jan',\r\n    'Feb',\r\n    'Mar',\r\n    'Apr',\r\n    'May',\r\n    'Jun',\r\n    'Jul',\r\n    'Aug',\r\n    'Sep',\r\n    'Oct',\r\n    'Nov',\r\n    'Dec',\r\n  ];\r\n  // Convert timestamp to milliseconds\r\n  var date = new Date(timestamp * 1000);\r\n  // Year\r\n  var year = date.getFullYear();\r\n  // Month\r\n  var month = months_arr[date.getMonth()];\r\n  // Day\r\n  var day = date.getDate();\r\n  // Hours\r\n  var hours = date.getHours();\r\n  // Minutes\r\n  var minutes = date.getMinutes() + 1;\r\n\r\n  // Display date time in MM-dd-yyyy h:m:s format\r\n  var convdataTime = `${year !== new Date().getFullYear() ? year : ''} ${month} ${day < 10 ? '0' + day : day\r\n    }, ${hours < 10 ? '0' + hours : hours}:${minutes < 10 ? '0' + minutes : minutes} `;\r\n\r\n  return convdataTime;\r\n}\r\n\r\nexport const allowance = async (tokenAddress, walletAddress, chainId) => {\r\n  const web3 = new Web3(window.ethereum);\r\n  const instaneErc20 = new web3.eth.Contract(ERC20.abi, tokenAddress);\r\n  const contractAddress = getContractAddress(chainId);\r\n  let allowance = await instaneErc20.methods\r\n    .allowance(walletAddress, contractAddress.Market)\r\n    .call();\r\n  return allowance;\r\n};\r\n\r\nexport const balanceOf = async (tokenAddress, walletAddress) => {\r\n  const web3 = new Web3(window.ethereum);\r\n  console.log(web3);\r\n  let balance;\r\n  const erc20 = new web3.eth.Contract(ERC20.abi, tokenAddress);\r\n  balance = await erc20.methods.balanceOf(walletAddress).call();\r\n  return balance;\r\n};\r\n\r\nexport async function getAllOwnersOf1155(tokenAddress, tokenId, chainId, addressMarket) {\r\n  if (!!chainId) {\r\n    const url = getUrlSubgraph(chainId);\r\n    if (url.url1155.length > 0) {\r\n      const result = await axios.post(url.url1155, {\r\n        query: `{\r\n          tokens(where: {registry : \"${tokenAddress.toLowerCase()}\", identifier: \"${tokenId}\"}) {\r\n            balances(where: {value_gt: 0, account_not: \"${addressMarket.toLowerCase()}\"}){\r\n              account {\r\n                id\r\n              }\r\n              value\r\n              }\r\n              totalSupply\r\n            }\r\n          }`,\r\n      });\r\n\r\n      let ownersOf1155Raw =\r\n        !!result.data && !!result.data.data.tokens && !!result.data.data.tokens[0]\r\n          ? result.data.data.tokens[0].balances\r\n          : [];\r\n      const totalSupply =\r\n        !!result.data && !!result.data.data.tokens && !!result.data.data.tokens[0]\r\n          ? result.data.data.tokens[0].totalSupply\r\n          : 0;\r\n\r\n      let ownersOf1155 = await Promise.all(\r\n        ownersOf1155Raw.map(async (nft) => {\r\n          return {\r\n            owner: nft.account.id,\r\n            value: nft.value,\r\n            totalSupply,\r\n          };\r\n        })\r\n      );\r\n\r\n      let addressOwnersOf1155 = {};\r\n      ownersOf1155Raw.forEach(async (nft) => (addressOwnersOf1155[nft.account.id] = nft.value));\r\n\r\n      return { ownersOf1155, addressOwnersOf1155, totalSupply };\r\n    }\r\n  }\r\n  return { ownersOf1155: [], addressOwnersOf1155: {}, totalSupply: 0 };\r\n}\r\n\r\nexport const handleChildClick = (e) => {\r\n  e.preventDefault();\r\n};\r\n\r\nexport const getPriceBNB = async (price) => {\r\n  let countPrice;\r\n  try {\r\n    const res = await axios.get(\r\n      'https://api.bscscan.com/api?module=stats&action=bnbprice&apikey=Y4KMJASSBRWUXW3MQYG3QVVKFQFC2C1J4K'\r\n    )\r\n    if (res.data.result.ethusd) {\r\n      countPrice = parseFloat(price) * parseFloat(res.data.result.ethusd);\r\n      return countPrice.toFixed(2);\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport const getPriceETH = async (price) => {\r\n  let countPrice;\r\n  try {\r\n    const res = await axios.get(\r\n      'https://api.etherscan.io/api?module=stats&action=ethprice&apikey=QHUMXGR5XAU8UQ7SM6F8DVFC6ECZBP598H'\r\n    )\r\n    if (res.data.result.ethusd) {\r\n      countPrice = parseFloat(price) * parseFloat(res.data.result.ethusd);\r\n      return countPrice.toFixed(2);\r\n    }\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}","export default \"data:image/png;base64,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\"","import './index.scss';\r\nimport logo from 'Assets/logo.png';\r\n\r\nexport default function IconLoading() {\r\n  return (\r\n    <div className='box-loading center'>\r\n      <img className='mochi-loading bounce-4' src={logo} alt='logo' />\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import * as actions from 'Store/actions';\r\n\r\nconst initialState = {\r\n  // Common\r\n  web3: null,\r\n  chainId: null,\r\n  walletAddress: null,\r\n  shortAddress: null,\r\n  adminAddress: null,\r\n  balance: 0,\r\n  allowanceToken: 0,\r\n  strSearch: '',\r\n  listNFTsOwner: null,\r\n  listNFTsOnsale: null,\r\n  verifiedContracts: [],\r\n  infoCollections: {},\r\n  infoUsers: {},\r\n  infoUserLogin: null,\r\n  orbitdb: null, // 存储当前的db\r\n  userInfo: {}, // 当前用户的个人信息\r\n  collectionInfo: [],// 当前用户下的作品集列表\r\n  collectionObj: {},// 当前用户下的作品集对象\r\n  nftsOfCollectionAddress: [], //单个作品集下的nft列表\r\n  unmatchedModal: false, // 链类型匹配状态\r\n\r\n  // Erc721\r\n  erc721Instances: null,\r\n  erc721Tokens: null,\r\n  isLoadingErc721: null,\r\n  mintError: null,\r\n  sellError: null,\r\n\r\n  //Erc1155\r\n  erc1155Instances: null,\r\n  erc1155Tokens: null,\r\n\r\n  // Main contracts\r\n  addressesProvider: null,\r\n  nftList: null,\r\n  vault: null,\r\n  sellOrderList: null,\r\n  market: null,\r\n  creativeStudio: null,\r\n\r\n  //NftList\r\n  acceptedNftsAddress: [],\r\n\r\n  //SellOrderList\r\n  availableSellOrder721: [],\r\n  availableSellOrder1155: [],\r\n  convertErc721Tokens: [],\r\n  convertErc1155Tokens: [],\r\n  mySellOrder: [],\r\n\r\n  //CreativeStudio\r\n  userCollections: [],\r\n\r\n  // Notification\r\n  noti: null, // notification = {type:\"success/error\",message=\"......\"}\r\n  // Status activitys\r\n  activity: null, // activity = { key, 'pending/success/error', 'title', duration(Number/null), 'description'}\r\n};\r\n\r\nconst rootReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actions.SET_WEB3:\r\n      return {\r\n        ...state,\r\n        web3: action.web3,\r\n      };\r\n    case actions.SET_ADMIN_ADDRESS:\r\n      return {\r\n        ...state,\r\n        adminAddress: action.adminAddress,\r\n      };\r\n    case actions.SET_CHAINID:\r\n      return {\r\n        ...state,\r\n        chainId: action.chainId,\r\n      };\r\n    case actions.SET_ADDRESS:\r\n      return {\r\n        ...state,\r\n        walletAddress: action.walletAddress,\r\n        shortAddress: action.shortAddress,\r\n      };\r\n    case actions.SET_BALANCE:\r\n      return {\r\n        ...state,\r\n        balance: action.balance,\r\n      };\r\n    case actions.SET_ALLOWANCE:\r\n      return {\r\n        ...state,\r\n        allowanceToken: action.allowanceToken,\r\n      };\r\n    case actions.SET_STR_SEARCH:\r\n      return {\r\n        ...state,\r\n        strSearch: action.strSearch,\r\n      };\r\n    case actions.SET_LIST_NTTS_OWNER:\r\n      return {\r\n        ...state,\r\n        listNFTsOwner: action.listNFTsOwner,\r\n      };\r\n    case actions.SET_LIST_NTTS_ONSALE:\r\n      return {\r\n        ...state,\r\n        listNFTsOnsale: action.listNFTsOnsale,\r\n      };\r\n\r\n    case actions.INIT_ERC721:\r\n      return {\r\n        ...state,\r\n        erc721Instances: action.erc721Instances,\r\n      };\r\n    case actions.GET_OWNED_ERC721:\r\n      return {\r\n        ...state,\r\n        erc721Tokens: action.erc721Tokens,\r\n      };\r\n    case actions.IS_LOADING_ERC721:\r\n      return {\r\n        ...state,\r\n        isLoadingErc721: action.isLoadingErc721,\r\n      };\r\n    case actions.MINT_ERROR:\r\n      return {\r\n        ...state,\r\n        mintError: action.mintError,\r\n      };\r\n    case actions.COL_ERROR:\r\n      return {\r\n        ...state,\r\n        colError: action.colError,\r\n      };\r\n    case actions.APPROVE_ERROR:\r\n      return {\r\n        ...state,\r\n        approveError: action.approveError,\r\n      };\r\n    case actions.TRANSFER_ERROR:\r\n      return {\r\n        ...state,\r\n        transferError: action.transferError,\r\n      };\r\n    case actions.BUY_ERROR:\r\n      return {\r\n        ...state,\r\n        buyError: action.buyError,\r\n      };\r\n    case actions.SELL_ERROR:\r\n      return {\r\n        ...state,\r\n        sellError: action.sellError,\r\n      };\r\n    case actions.UPDATE_ERROR:\r\n      return {\r\n        ...state,\r\n        updateError: action.updateError,\r\n      };\r\n    case actions.CANCEL_ERROR:\r\n      return {\r\n        ...state,\r\n        cancelError: action.cancelError,\r\n      };\r\n    case actions.SET_ADDRESSESPROVIDER:\r\n      return {\r\n        ...state,\r\n        addressesProvider: action.addressesProvider,\r\n      };\r\n    case actions.SET_NFTLIST:\r\n      return {\r\n        ...state,\r\n        nftList: action.nftList,\r\n      };\r\n    case actions.SET_VAULT:\r\n      return {\r\n        ...state,\r\n        vault: action.vault,\r\n      };\r\n    case actions.SET_SELLORDERLIST:\r\n      return {\r\n        ...state,\r\n        sellOrderList: action.sellOrderList,\r\n      };\r\n    case actions.SET_MARKET:\r\n      return {\r\n        ...state,\r\n        market: action.market,\r\n      };\r\n    case actions.SET_ACCEPTED_NFTS:\r\n      return {\r\n        ...state,\r\n        acceptedNftsAddress: action.acceptedNftsAddress,\r\n      };\r\n    case actions.SET_CONVERT_ERC721:\r\n      return {\r\n        ...state,\r\n        convertErc721Tokens: action.convertErc721Tokens,\r\n      };\r\n    case actions.SET_AVAILABLE_SELL_ORDER_721:\r\n      return {\r\n        ...state,\r\n        availableSellOrder721: action.availableSellOrder721,\r\n      };\r\n    case actions.SET_MY_SELL_ORDER:\r\n      return {\r\n        ...state,\r\n        mySellOrder: action.mySellOrder,\r\n      };\r\n    case actions.SET_CREATIVESTUDIO:\r\n      return {\r\n        ...state,\r\n        creativeStudio: action.creativeStudio,\r\n      };\r\n    case actions.SET_USER_COLLECTIONS:\r\n      return {\r\n        ...state,\r\n        userCollections: action.userCollections,\r\n      };\r\n    case actions.LOGOUT:\r\n      return {\r\n        ...state,\r\n        walletAddress: null,\r\n        shortAddress: null,\r\n        adminAddress: null,\r\n        balance: 0,\r\n      };\r\n    case actions.NOTI:\r\n      return {\r\n        ...state,\r\n        noti: action.noti,\r\n      };\r\n    case actions.ACTIVITY:\r\n      return {\r\n        ...state,\r\n        activity: action.activity,\r\n      };\r\n    case actions.SET_INFO_COLLECTIONS:\r\n      return {\r\n        ...state,\r\n        infoCollections: action.infoCollections,\r\n      };\r\n    case actions.SET_INFO_USERS:\r\n      return {\r\n        ...state,\r\n        infoUsers: action.infoUsers,\r\n      };\r\n    case actions.SET_INFO_USER_LOGIN:\r\n      return {\r\n        ...state,\r\n        infoUserLogin: action.infoUserLogin,\r\n      };\r\n    case actions.SET_ORBITDB:\r\n      return {\r\n        ...state,\r\n        orbitdb: action.orbitdb,\r\n      };\r\n    case actions.SET_USER_INFO:\r\n      return {\r\n        ...state,\r\n        userInfo: action.userInfo,\r\n      };\r\n    case actions.SET_COLLECTION_INFO:\r\n      return {\r\n        ...state,\r\n        collectionInfo: action.collectionInfo,\r\n      };\r\n    case actions.SET_COLLECTION_OBJ:\r\n      return {\r\n        ...state,\r\n        collectionObj: action.collectionObj,\r\n      };\r\n    case actions.GET_NFTS_BY_COLLECTION_ADDRESS:\r\n      return {\r\n        ...state,\r\n        nftsOfCollectionAddress: action.nftsOfCollectionAddress,\r\n      };\r\n    case actions.UNMATCHED_MODAL:\r\n      return {\r\n        ...state,\r\n        unmatchedModal: action.unmatchedModal,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import rootReducer from './reducer';\r\nimport thunk from 'redux-thunk';\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store =\r\n  process.env.REACT_APP_ENVIRONMENT === 'development'\r\n    ? createStore(rootReducer, /* preloadedState, */ composeEnhancers(applyMiddleware(thunk)))\r\n    : createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","const rootExplorer = {\r\n  //BSC Mainnet\r\n  4: 'https://rinkeby.etherscan.io',\r\n  //BSC Mainnet\r\n  56: 'https://bscscan.com',\r\n  //BSC Testnet\r\n  97: 'https://testnet.bscscan.com',\r\n  //Polygon\r\n  137: 'https://polygonscan.com',\r\n};\r\n\r\nexport const getRootExplorer = (_chainId) => {\r\n  return rootExplorer[_chainId];\r\n};\r\n","import { useState } from 'react';\r\nimport { Modal, Button } from 'antd';\r\nimport 'antd/dist/antd.less'\r\nimport './index.scss';\r\n\r\nexport default function SupportMode(props) {\r\n  const { visible, okText, cancelText, content, title, setVisible } = props\r\n  const [isModalVisible, setIsModalVisible] = useState(visible);\r\n\r\n  const handleOk = async () => {\r\n    setIsModalVisible(false);\r\n    setVisible(false)\r\n    if (okText === '前往MetaMask') {\r\n      window.open('https://metamask.io/download', '_blank');\r\n    } else if (okText === '确定') {\r\n      window.open('https://www.google.cn/intl/zh-CN/chrome/', '_blank');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setVisible(false)\r\n  };\r\n\r\n\r\n  return (\r\n    <div className='support-mode'>\r\n      <Modal\r\n        title={title}\r\n        visible={isModalVisible}\r\n        maskClosable={false}\r\n        closable={false}\r\n        width={653}\r\n        centered={true}\r\n        wrapClassName='wrapClass'\r\n        footer={[\r\n          // 定义右下角 按钮的地方 可根据需要使用 一个或者 2个按钮\r\n          <Button key=\"back\" onClick={handleCancel} style={{ display: okText === '确定' ? 'none' : 'block' }}>{cancelText}</Button>,\r\n          <Button key=\"submit\" type=\"primary\" onClick={handleOk} style={{ width: okText === '确定' ? '280px' : '240px' }}>{okText}</Button>\r\n        ]}\r\n      >\r\n        <p>{content}</p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Modal, Space } from 'antd';\r\n// import { useDispatch } from 'react-redux';\r\nexport default function Cancel({ visible, handleOk, setIsDeploying, loading }) {\r\n  const { colError } = useSelector((state) => state);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  // const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setIsModalVisible(visible);\r\n    if (!!loading) {\r\n      setIsLoading(true);\r\n    }\r\n  }, [visible, loading]);\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(true);\r\n    setIsDeploying(false);\r\n  };\r\n\r\n  const tryAgain = async () => {\r\n    setIsLoading(true);\r\n    handleOk();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (colError === '4001') {\r\n      setIsLoading(false);\r\n    } else if (colError === '4000') {\r\n      setIsLoading(true);\r\n    } else if (colError === '1') {\r\n      setIsModalVisible(false);\r\n    }\r\n  }, [colError])\r\n\r\n  return (\r\n    <Modal title=\"部署合约\" onCancel={handleCancel} visible={isModalVisible} footer={<div />} centered>\r\n      <p style={{ textAlign: 'center', margin: '0 0 50px 0', fontSize: '15px' }}>为创建的作品集部署智能合约</p>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', width: '100%' }}>\r\n        <Button\r\n          style={{ width: '210px', height: '42px', background: '#fff', borderRadius: '10px', border: '1px solid #6080b4', color: '#6080b4' }}\r\n          size='large' onClick={handleCancel} className='btn-cancel-sell'>\r\n          取消\r\n        </Button>\r\n        {!!isLoading ? <Space style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n          <Button type=\"primary\" loading style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff' }}>\r\n            合约部署中\r\n          </Button>\r\n        </Space> : <Space style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n          <Button onClick={tryAgain} type=\"primary\" style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff', marginLeft: '20px' }}>\r\n            再试一次\r\n          </Button>\r\n          <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n        </Space>}\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n"],"sourceRoot":""}