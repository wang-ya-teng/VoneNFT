{"version":3,"sources":["Views/DetailNFT/helperGetNFTDetails.js","Views/DetailNFT/helperGetOwner1155.js","Views/DetailNFT/helperStatusActions721.js","Views/DetailNFT/DetailsNftOrder/helperStatusActions1155Order.js","Views/DetailNFT/DetailsNftProfile/helperStatusActions1155Profile.js","Components/SellModal/index.js","Components/Sell/index.js","Components/Cancel/index.js","Components/Transfer/index.js","Assets/icons/send.png","Components/UpdatePrice/index.js","Utils/useInterval.js","Views/DetailNFT/RenderSwitch.js","Components/ModalBuy1155/index.js","Components/BuySmall/index.js","Views/DetailNFT/index.js"],"names":["web3","nftList","addressToken","id","erc1155Tokens","setAvailable","setToken","setMetadata","a","methods","isERC1155","call","is1155","store","dispatch","getCollection","nameCollection","collection","name","eth","Contract","sampleAbiERC1155","abi","erc1155Instances","uri","tokenURI","i","length","token","toLowerCase","parseInt","index","value","ERC721","erc721Instances","axios","get","req","data","description","image","imgNotFound","attributes","helperGetOwner1155","convertErc1155Tokens","chainId","market","setOwners","setOwnersOnSale","onSaleOfAddressToken","tokens","filter","order","getAllOwnersOf1155","_address","ownerNoMarket","ownersOf1155","helperStatusActions721","availableSellOrder721","sellOrderList","walletAddress","setStatus","setOrderDetail","history","sellID","ownerOf","tokenOwner","owner","totalSupply","getSellOrderById","isActive","seller","price","tokenPayment","sellId","amount","push","checkDuplicateERC721","isSelling","isOnList","fil","nftAddress","tokenId","console","log","helperStatusActions1155Order","availableSellOrder1155","sellOrder","helperStatusActions1155Profile","setBalanceOf","nft","balanceOf","CreateModal","visible","approve","selling","handleOk","setIsLoading","useState","isModalVisible","setIsModalVisible","useEffect","tryAgain","footer","centered","width","onCancel","style","display","flexDirection","alignItems","margin","justifyContent","className","color","src","Dui","alt","type","loading","height","borderRadius","marginTop","background","border","onClick","Sell","available","getOwners1155","useDispatch","useHistory","Option","Select","useSelector","state","approveError","sellError","useParams","isLoading","setApprove","setSelling","receivedPrice","setReceivedPrice","setTokenPayment","Form","useForm","form","formRef","useRef","getTokensPayment","address","useCallback","validateFields","values","parseFloat","createSellOrder","utils","toWei","toString","result","status","resetFields","pathname","checkAmount","_","Promise","reject","Error","resolve","selectAfter","onChange","map","icon","symbol","size","title","textAlign","fontWeight","fontSize","SELL_ERROR","shape","layout","ref","gutter","xs","span","md","htmlFor","Group","compact","label","Item","rules","required","message","placeholder","addonAfter","e","numFmt","target","current","setFieldsValue","toFixed","getSymbol","validator","min","formatter","replace","Cancel","orderDetail","cancelError","cancelOrder","setCancelOrder","handleCancel","cancel","cancelSellOrder","closable","wrapClassName","marginBottom","marginLeft","Transfer","transferError","transferTo","setTransferTo","transfer","setTransfer","transferNft","checkAddress","isAddress","cursor","marginRight","UpdatePrice","updateError","update","setUpdate","updatePrice","lineHeight","suffix","defaultValue","disabled","useInterval","callback","delay","savedCallback","setInterval","clearInterval","RenderSwitch","setBalance","ModalBuy1155","buy","setCheckout1155","balance","fromWei","totalPayment","setTotalPayment","setAmount","insufficient","setInsufficient","fetchBalance","_tokenBal","soldAmount","BuySmall","bigStyle","allowanceToken","buyError","approvedToken","setApprovedToken","Checkout1155","buying","setBuying","money","setMoney","allowance","bal","parseBalance","buyNft","link","approveToken","checkout1155","borderTop","borderBottom","padding","getFloat","connectWeb3Modal","useBreakpoint","Grid","DetailNFT","infoCollections","orbitdb","chainID","lg","metadata","setIs1155","owners","ownersOnSale","getUsd","setGetUsd","userData","setUserData","selectChain","fetchDB","dbAddress","getDB","db","userInfo","setHistoryInfo","process","timer","setTimeout","setAvailableSellOrder","clearTimeout","helperGetNFTDetails","statusActions","Number","isInteger","getCountPrice","getPriceBNB","countPrice","getPriceMATIC","getPriceETH","attr","trait_type","display_type","moment","isValid","format","LoadingOutlined","to","userName","slice","href","getRootExplorer","rel","minHeight","IconLoading"],"mappings":"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","file":"static/js/7.adcfb0a5.chunk.js","sourcesContent":["import sampleAbiERC1155 from 'Contracts/SampleERC1155.json';\r\nimport ERC721 from 'Contracts/ERC721.json';\r\nimport axios from 'axios';\r\nimport imgNotFound from 'Assets/notfound.png';\r\nimport { getCollection } from 'Store/actions';\r\nimport store from 'Store/index';\r\n// 获取元数据信息\r\nexport default async function helperGetNFTDetails(\r\n  web3,\r\n  nftList,\r\n  addressToken,\r\n  id,\r\n  erc1155Tokens,\r\n  setAvailable,\r\n  setToken,\r\n  setMetadata\r\n) {\r\n  if (web3 && nftList) {\r\n    let is1155 = await nftList.methods.isERC1155(addressToken).call();\r\n    let tokenURI;\r\n    let nameCollection = (await store.dispatch(getCollection(addressToken, null))).collection.name;\r\n    if (is1155) {\r\n      const erc1155Instances = await new web3.eth.Contract(sampleAbiERC1155.abi, addressToken);\r\n      tokenURI = await erc1155Instances.methods.uri(id).call();\r\n      if (!!erc1155Tokens) {\r\n        for (let i = 0; i < erc1155Tokens.length; i++) {\r\n          const token = erc1155Tokens[i];\r\n          if (\r\n            token.addressToken.toLowerCase() === addressToken.toLowerCase() &&\r\n            parseInt(token.index) === parseInt(id)\r\n          ) {\r\n            setAvailable(token.value);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      const erc721Instances = await new web3.eth.Contract(ERC721.abi, addressToken);\r\n      tokenURI = await erc721Instances.methods.tokenURI(id).call();\r\n      setMetadata(tokenURI)\r\n    }\r\n    // get token info\r\n    try {\r\n      let req = await axios.get(tokenURI);\r\n      const data = req.data;\r\n      setToken({\r\n        name: data.name || 'Unnamed',\r\n        description: data.description || '',\r\n        image: data.image || imgNotFound,\r\n        nameCollection,\r\n        attributes: data.attributes || [],\r\n      });\r\n    } catch (error) {\r\n      setToken({\r\n        name: 'Unnamed',\r\n        description: '',\r\n        image: imgNotFound,\r\n        nameCollection: 'Unnamed',\r\n        attributes: [],\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { getAllOwnersOf1155 } from 'Utils/helper';\r\n\r\nexport default async function helperGetOwner1155(\r\n  convertErc1155Tokens,\r\n  addressToken,\r\n  id,\r\n  chainId,\r\n  market,\r\n  // setTotalSupply,\r\n  setOwners,\r\n  setOwnersOnSale\r\n) {\r\n  let onSaleOfAddressToken = [];\r\n  for (let i = 0; i < convertErc1155Tokens.length; i++) {\r\n    const collection = convertErc1155Tokens[i];\r\n    if (collection.addressToken.toLowerCase() === addressToken.toLowerCase()) {\r\n      onSaleOfAddressToken = collection.tokens;\r\n      break;\r\n    }\r\n  }\r\n  onSaleOfAddressToken = onSaleOfAddressToken.filter(\r\n    (order) => parseInt(order.index) === parseInt(id)\r\n  );\r\n  const ownerNoMarket = await getAllOwnersOf1155(addressToken, id, chainId, market._address);\r\n  // const totalSupplyNFT = ownerNoMarket.totalSupply;\r\n  // setTotalSupply(totalSupplyNFT);\r\n\r\n  setOwners(ownerNoMarket.ownersOf1155);\r\n  setOwnersOnSale(onSaleOfAddressToken);\r\n}\r\n","import ERC721 from 'Contracts/ERC721.json';\r\n\r\nexport default async function helperStatusActions721(\r\n  addressToken,\r\n  availableSellOrder721,\r\n  id,\r\n  market,\r\n  nftList,\r\n  sellOrderList,\r\n  walletAddress,\r\n  web3,\r\n  setStatus,\r\n  setOwners,\r\n  setOwnersOnSale,\r\n  setOrderDetail,\r\n  history,\r\n  sellID\r\n) {\r\n  if (web3 && sellOrderList && availableSellOrder721 && nftList) {\r\n    try {\r\n      const erc721Instances = await new web3.eth.Contract(ERC721.abi, addressToken);\r\n      let tokenOwner;\r\n      if (sellID === 'null') {\r\n        // 获取nft的拥有者\r\n        tokenOwner = await erc721Instances.methods.ownerOf(id).call();\r\n        setOwners([{ owner: tokenOwner, totalSupply: 1, value: 1 }]);\r\n      } else {\r\n        // check if user is owner of token\r\n        const order = await sellOrderList.methods.getSellOrderById(sellID).call();\r\n        if (order.isActive) {\r\n          tokenOwner = order.seller;\r\n          setOwners([{ owner: tokenOwner, totalSupply: 1, value: 1 }]);\r\n          setOwnersOnSale([\r\n            {\r\n              seller: tokenOwner,\r\n              totalSupply: 1,\r\n              value: 1,\r\n              price: order.price,\r\n              tokenPayment: order.token,\r\n              sellId: order.sellId,\r\n              amount: order.amount,\r\n            },\r\n          ]);\r\n        } else {\r\n          history.push('/404');\r\n        }\r\n      }\r\n\r\n      let isSelling;\r\n\r\n      if (!!walletAddress) {\r\n        // 检查nft是否上架 [addressToken:作品集合约地址,id:nftId,walletAddress:当前用户钱包地址]\r\n        isSelling = await sellOrderList.methods\r\n          .checkDuplicateERC721(addressToken, id, walletAddress)\r\n          .call();\r\n      }\r\n      \r\n      if (walletAddress && isSelling) {\r\n        setStatus(3); // 卖家已上架\r\n      } else if (walletAddress && tokenOwner.toLowerCase() === walletAddress.toLowerCase()) {\r\n        // Check if the token is in the order list?\r\n        // 检查nft是否上架 [addressToken:作品集合约地址,id:nftId,tokenOwner:nft的拥有者地址]\r\n        let isOnList = await sellOrderList.methods\r\n          .checkDuplicateERC721(addressToken, id, tokenOwner)\r\n          .call();\r\n          \r\n        isOnList ? setStatus(3) : setStatus(2);\r\n      } else {\r\n        let isOnList = await sellOrderList.methods\r\n          .checkDuplicateERC721(addressToken, id, tokenOwner)\r\n          .call();\r\n          \r\n        isOnList || tokenOwner === market._address ? setStatus(1) : setStatus(0);\r\n      }\r\n      let fil = availableSellOrder721.filter(\r\n        (token) =>\r\n          token.nftAddress.toLowerCase() === addressToken.toLowerCase() && token.tokenId === id\r\n      );\r\n      if (!!fil[0]) {\r\n        setOrderDetail({ ...fil[0], tokenPayment: fil[0].token });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      // history.push('/404');\r\n    }\r\n  }\r\n}\r\n","export default async function helperStatusActions1155Order(\r\n  availableSellOrder721,\r\n  availableSellOrder1155,\r\n  nftList,\r\n  sellOrderList,\r\n  walletAddress,\r\n  web3,\r\n  sellID,\r\n  setStatus,\r\n  setOrderDetail,\r\n  history\r\n) {\r\n  if (web3 && sellOrderList && availableSellOrder721 && nftList) {\r\n    try {\r\n      const sellOrder = await sellOrderList.methods.getSellOrderById(sellID).call();\r\n      if (sellOrder.isActive) {\r\n        if (!!walletAddress) {\r\n          if (sellOrder.seller.toLowerCase() === walletAddress.toLowerCase()) {\r\n            setStatus(3);\r\n          } else {\r\n            setStatus(1);\r\n          }\r\n        } else {\r\n          setStatus(1);\r\n        }\r\n        let fil = availableSellOrder1155.filter((token) => token.sellId === sellID);\r\n        if (!!fil[0]) {\r\n          setOrderDetail({ ...fil[0], tokenPayment: fil[0].token });\r\n        }\r\n      } else {\r\n        history.push('/404');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      // message.error(\"NFT doesn't exist!\");\r\n      history.push('/404');\r\n    }\r\n  }\r\n}\r\n","import sampleAbiERC1155 from 'Contracts/SampleERC1155.json';\r\n\r\nexport default async function helperStatusActions1155Profile(\r\n  walletAddress,\r\n  setStatus,\r\n  addressToken,\r\n  id,\r\n  chainId,\r\n  web3,\r\n  setBalanceOf\r\n) {\r\n  if (!!chainId && !!id && !!addressToken) {\r\n    try {\r\n      if (!!walletAddress) {\r\n        const nft = new web3.eth.Contract(sampleAbiERC1155.abi, addressToken);\r\n        const balanceOf = await nft.methods.balanceOf(walletAddress, id).call();\r\n        setBalanceOf(balanceOf);\r\n        if (balanceOf > 0) {\r\n          setStatus(2);\r\n        } else {\r\n          setStatus(0);\r\n        }\r\n      } else {\r\n        setStatus(0);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      // message.error(\"NFT doesn't exist!\");\r\n    }\r\n  }\r\n}\r\n","import { Modal, Button, Space } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport './index.scss';\r\nimport Dui from 'Assets/icons/dui.png'\r\n\r\nexport default function CreateModal({ visible, approve, selling, handleOk, setIsLoading }) {\r\n  // const dispatch = useDispatch();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsModalVisible(visible);\r\n  }, [visible]);\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const tryAgain = async () => {\r\n    handleOk();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      visible={isModalVisible}\r\n      footer={<div />}\r\n      centered\r\n      width={500}\r\n      onCancel={handleCancel}\r\n    >\r\n      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n        <div style={{ width: '90%', margin: '25px 0' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div className=\"textMode\"><span className=\"one\">1</span><span>授权</span></div>\r\n            {approve === '3' ? <div style={{ color: '#43A047' }}>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>出售此作品集中的作品需进行一次性授权。</div>\r\n          {approve === '1' ? <Space style={{ width: '100%' }}>\r\n            <Button type=\"primary\" loading style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              授权中\r\n            </Button>\r\n          </Space> : approve === '2' ? <Space style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n            <Button onClick={() => { tryAgain() }} type=\"primary\" style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n        <div style={{ width: '90%', margin: '25px 0' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div className=\"textMode\"><span className=\"one\">2</span><span>上架出售</span></div>\r\n            {selling === '3' ? <div style={{ color: '#43A047' }}>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>上架出售需支付一笔矿工费。</div>\r\n          {selling === '1' ? <Space style={{ width: '100%' }}>\r\n            <Button type=\"primary\" loading style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              上架中\r\n            </Button>\r\n          </Space> : selling === '2' ? <Space style={{ width: '100%', display: 'flex', flexDirection: 'column', height: '50px' }}>\r\n            <Button onClick={() => { tryAgain() }} type=\"primary\" style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { Button, InputNumber, Modal, Form, Input, Col, Row, Select } from 'antd';\r\nimport { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { createSellOrder, SELL_ERROR } from 'Store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SellModal from 'Components/SellModal';\r\nimport { numFmt } from 'Utils/helper';\r\nimport { getTokensPayment, getSymbol } from 'Utils/getContractAddress';\r\n// import { getDB } from 'Utils/orbit'\r\n// import moment from 'moment'\r\n\r\nimport './index.scss';\r\n\r\nexport default function Sell({ token, is1155, available, getOwners1155 }) {\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n  const { Option } = Select;\r\n  const { web3, chainId, approveError, sellError } = useSelector((state) => state);\r\n  // const { web3, chainId, approveError, sellError, orbitdb, walletAddress, historyInfo } = useSelector((state) => state);\r\n  const { addressToken, id } = useParams();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [approve, setApprove] = useState('0');\r\n  const [selling, setSelling] = useState(false);\r\n  const [receivedPrice, setReceivedPrice] = useState('');\r\n  const [tokenPayment, setTokenPayment] = useState();\r\n  // const [historyArr, setHistoryArr] = useState([]);\r\n  const [form] = Form.useForm();\r\n  const formRef = useRef()\r\n  // console.log(historyInfo);\r\n  // console.log(historyArr);\r\n\r\n  // useEffect(() => {\r\n  //   setHistoryArr(historyInfo)\r\n  // }, [historyInfo]);\r\n  useEffect(() => {\r\n    if (!!chainId) {\r\n      setTokenPayment(getTokensPayment(chainId)[0].address);\r\n    }\r\n  }, [chainId]);\r\n  useEffect(() => {\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    if (approveError === '4001') {\r\n      setApprove('2')\r\n    } else if (approveError === '4000') {\r\n      setApprove('1')\r\n    } else if (approveError === '1') {\r\n      setApprove('3')\r\n      setSelling('1')\r\n    }\r\n    if (sellError === '4001') {\r\n      setSelling('2');\r\n    } else if (sellError === '4000') {\r\n      setSelling('1');\r\n    } else if (sellError === '1') {\r\n      setSelling('0');\r\n      setSelling('3');\r\n    }\r\n  }, [approveError, sellError])\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = useCallback(async () => {\r\n    setApprove('0')\r\n    setSelling('0');\r\n    const values = await form.validateFields();\r\n    if (!!values && parseFloat(values.price) > 0) {\r\n      setIsLoading(true);\r\n      setApprove('1');\r\n      const result = await dispatch(\r\n        createSellOrder(\r\n          addressToken,\r\n          id,\r\n          web3.utils.toWei(values.price.toString(), 'ether'),\r\n          tokenPayment,\r\n          !!values.amount ? values.amount : 1\r\n        )\r\n      );\r\n\r\n      if (!!result.status) {\r\n        // let historyData = {\r\n        //   type: '上架',\r\n        //   price: values.price,\r\n        //   amount: !!values.amount ? values.amount : 1,\r\n        //   seller: walletAddress,\r\n        //   time: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n        //   txHash: result.txHash,\r\n        //   addressToken: addressToken,\r\n        // }\r\n        // historyArr.push(historyData);\r\n        // const address = process.env.REACT_APP_ORBIT_DB;\r\n        // const db = await getDB(address, orbitdb)\r\n        // if (db) {\r\n        //   await db.set(`${addressToken}_${chainId}_${id}_history`, historyArr)\r\n        //   dispatch(setHistoryInfo(historyArr))\r\n        // }\r\n\r\n        if (!!is1155) {\r\n          await getOwners1155();\r\n        }\r\n        setIsModalVisible(false);\r\n        form.resetFields();\r\n        history.push({\r\n          pathname: `/token/${chainId}/${addressToken}/${id}/${result.sellId}`,\r\n        });\r\n      }\r\n    }\r\n  }, [\r\n    dispatch,\r\n    addressToken,\r\n    id,\r\n    web3.utils,\r\n    is1155,\r\n    history,\r\n    form,\r\n    getOwners1155,\r\n    chainId,\r\n    tokenPayment\r\n  ]);\r\n\r\n  const handleCancel = () => {\r\n    dispatch({ type: SELL_ERROR, sellError: '0' });\r\n    setIsModalVisible(false);\r\n    form.resetFields();\r\n    setReceivedPrice('');\r\n  };\r\n\r\n  const checkAmount = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('Enter amount'));\r\n    } else if (parseInt(value) > parseInt(available)) {\r\n      return Promise.reject(new Error('Not enough amount'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n  // 监听输入框变化\r\n  const changePrice = (e) => {\r\n    const value = numFmt(e.target.value, 8)\r\n    formRef.current.setFieldsValue({\r\n      price: value\r\n    })\r\n    setReceivedPrice((value * 0.975).toFixed(4))\r\n  }\r\n  const selectAfter = (\r\n    <Select\r\n      value={tokenPayment}\r\n      onChange={(value) => setTokenPayment(value)}\r\n      className=\"select-after\"\r\n    >\r\n      {!!getTokensPayment(chainId)\r\n        ? getTokensPayment(chainId).map((token, i) => {\r\n          return (\r\n            <Option value={token.address} key={i}>\r\n              <img\r\n                className='icon-tokenpayment'\r\n                src={token.icon}\r\n                alt={token.symbol}\r\n              />\r\n              <span className='textmode pl-1'>{token.symbol}</span>\r\n            </Option>\r\n          );\r\n        })\r\n        : null}\r\n    </Select>\r\n  );\r\n  return (\r\n    <>\r\n      <div className='gSzfBw'>\r\n        <Button style={{ background: '#6080b4', border: 'none', borderRadius: '10px' }} type='primary' size='large' onClick={showModal}>\r\n          出售\r\n        </Button>\r\n      </div>\r\n\r\n      <Modal\r\n        title={<h3 style={{ margin: '20px 0 -20px', textAlign: 'center', fontWeight: 600, fontSize: '16px' }}>出售</h3>}\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        centered\r\n        footer={[\r\n          <Button\r\n            style={{ width: '220px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none' }}\r\n            key='sell'\r\n            type='primary'\r\n            shape='round'\r\n            size='large'\r\n            onClick={() => handleOk()}\r\n          >\r\n            出售\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <Form form={form} className='input-sell' layout='vertical' ref={formRef}>\r\n          <Row gutter={[5, 10]}>\r\n            <Col xs={{ span: 24 }} md={{ span: is1155 ? 17 : 24 }}>\r\n              <div className='ant-col ant-form-item-label'>\r\n                <label htmlFor='price' className='ant-form-item-required' title='Price'>\r\n                  价格\r\n                </label>\r\n              </div>\r\n              <Input.Group compact label='Price'>\r\n                <Form.Item\r\n                  name={['price']}\r\n                  rules={[{ required: true, message: '请输入价格' }]}\r\n                  style={{ width: '60%' }}\r\n                >\r\n                  <Input\r\n                    style={{ width: '460px', border: '1px solid #6080b4', borderRadius: '0', height: '40px' }}\r\n                    placeholder='请输入价格'\r\n                    size='large'\r\n                    // suffix={chainId === 97 ? 'BNB' : 'ETH'}\r\n                    addonAfter={selectAfter}\r\n                    onChange={changePrice}\r\n                  />\r\n                </Form.Item>\r\n              </Input.Group>\r\n              <div className='flex-between'>\r\n                <div>服务费率：</div>\r\n                <div><span className='bold'>2.50</span>%</div>\r\n              </div>\r\n              {/* <div className='flex-between'>\r\n                <div>版税率：</div>\r\n                <div><span className='bold'>0</span>%</div>\r\n              </div> */}\r\n              <div className='flex-between'>\r\n                <div>你将获得的总金额：</div>\r\n                <div><span className='bold'>{receivedPrice}</span>{getSymbol(chainId)[tokenPayment]}</div>\r\n              </div>\r\n            </Col>\r\n            {is1155 ? (\r\n              <Col xs={{ span: 24 }} md={{ span: 7 }}>\r\n                <Input.Group>\r\n                  <Form.Item\r\n                    required\r\n                    name={['amount']}\r\n                    rules={[{ validator: checkAmount }]}\r\n                    label='Amount'\r\n                    className='input-amount-sell textmode'\r\n                  >\r\n                    <InputNumber\r\n                      min='1'\r\n                      size='large'\r\n                      formatter={(value) => `${value}`.replace(/^(-)*(\\d+)\\.(\\d\\d\\d\\d\\d\\d\\d\\d).*$/, '$1$2.$3')}\r\n                      placeholder='Amount'\r\n                      className='textmode'\r\n                    />\r\n                  </Form.Item>\r\n                </Input.Group>\r\n              </Col>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Row>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {!!isLoading ?\r\n        <SellModal\r\n          visible={true}\r\n          approve={approve}\r\n          selling={selling}\r\n          setIsLoading={setIsLoading}\r\n          handleOk={handleOk}\r\n        /> : <></>}\r\n    </>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Modal, Space } from 'antd';\r\nimport { cancelSellOrder } from 'Store/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './index.scss'\r\nexport default function Cancel({ orderDetail, is1155, getOwners1155, chainId }) {\r\n  const { cancelError } = useSelector((state) => state);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [cancelOrder, setCancelOrder] = useState('0');\r\n  const dispatch = useDispatch();\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n    setCancelOrder('1');\r\n  };\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cancelError === '4001') {\r\n      setCancelOrder('2');\r\n    } else if (cancelError === '4000') {\r\n      setCancelOrder('1');\r\n    } else if (cancelError === '1') {\r\n      setCancelOrder('0');\r\n    }\r\n  }, [cancelError])\r\n\r\n  let history = useHistory();\r\n\r\n  const cancel = async () => {\r\n    if (orderDetail && orderDetail.sellId) {\r\n      setIsLoading(true);\r\n      setCancelOrder('1');\r\n      let result = await dispatch(cancelSellOrder(orderDetail));\r\n      if (!!result) {\r\n        setIsModalVisible(false);\r\n        setIsLoading(false);\r\n        if (!!is1155) {\r\n          await getOwners1155();\r\n        }\r\n        history.push({\r\n          pathname: `/token/${chainId}/${orderDetail.nftAddress}/${orderDetail.tokenId}/null`,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='gSzfBw'>\r\n      <Button style={{ borderRadius: '10px' }} size='large' onClick={showModal} className='btn-cancel-sell'>\r\n        下架\r\n      </Button>\r\n      <Modal title=\"确定要下架吗？\" onCancel={handleCancel} visible={isModalVisible} footer={null} centered closable={false}  wrapClassName='cancelWrapClass'>\r\n        <p style={{ textAlign: 'center', marginBottom: '80px' }}>下架后您仍然可以重新出售</p>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', width: '100%' }}>\r\n          <Button\r\n            style={{ width: '210px', height: '42px', background: '#fff', borderRadius: '10px', border: '1px solid #6080b4', color: '#6080b4' }}\r\n            size='large' onClick={handleCancel} className='btn-cancel-sell'>\r\n            取消\r\n          </Button>\r\n          {cancelOrder === '1' ? <Space style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={cancel} type=\"primary\" loading={isLoading} style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff' }}>\r\n              {!!isLoading ? '下架中' : '下架'}\r\n            </Button>\r\n          </Space> : cancelOrder === '2' ? <Space style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={cancel} type=\"primary\" style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff', marginLeft: '20px' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </Modal>\r\n    </div >\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport { Modal, Button, Input, Form, InputNumber, Col, Row } from 'antd';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { transferNft } from 'Store/actions';\r\nimport send from 'Assets/icons/send.png';\r\n\r\nexport default function Transfer({ token, is1155, available, web3, getOwners1155 }) {\r\n  const { transferError } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [transferTo, setTransferTo] = useState('');\r\n  const { addressToken, id } = useParams();\r\n  const [transfer, setTransfer] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    if (transferError === '4001') {\r\n      setIsLoading(false);\r\n      setTransfer(true);\r\n    } else if (transferError === '4000') {\r\n      setTransfer(false);\r\n    } else if (transferError === '1') {\r\n      setIsLoading(false);\r\n      setIsModalVisible(false);\r\n    }\r\n  }, [transferError])\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values) {\r\n      setIsLoading(true);\r\n      setTransfer(false);\r\n      await dispatch(transferNft(addressToken, transferTo, id, values.amount, is1155));\r\n      // await getOwners1155();\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n    setTransfer(false);\r\n    form.resetFields();\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setTransferTo(e.target.value);\r\n  };\r\n\r\n  const checkAmount = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('Enter amount'));\r\n    } else if (parseInt(value) > parseInt(available)) {\r\n      return Promise.reject(new Error('Not enough amount'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n  const checkAddress = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('请输入地址'));\r\n    } else if (!web3.utils.isAddress(value)) {\r\n      return Promise.reject(new Error('地址格式不正确'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ cursor: 'pointer', display: 'flex', flexDirection: 'row', alignItems: 'center' }} onClick={showModal}>\r\n        <img style={{ marginRight: '5px' }} width={14} src={send} alt='send' /><div style={{ color: '#6080B4', fontSize: '15px' }}>赠送</div>\r\n      </div>\r\n      <Modal\r\n        width={550}\r\n        title={<h3 style={{marginTop: '20px', textAlign: 'center', fontWeight: 600, fontSize: '16px'}}>赠送</h3>}\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        centered\r\n        footer={[\r\n          <Button key='sell' type='primary' loading={isLoading} shape='round' size='large' onClick={() => handleOk()} style={{ width: '220px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', display: `${!!transfer ? 'none' : 'inline-block'}` }}>\r\n            {!!isLoading ? '支付中' : '赠送'}\r\n          </Button>,\r\n          <Button key='transfer' type='primary' loading={isLoading} shape='round' size='large' onClick={() => handleOk()} style={{ width: '220px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', display: `${!transfer ? 'none' : 'inline-block'}` }}>\r\n            再试一次\r\n          </Button>\r\n        ]}\r\n      >\r\n        <div style={{margin: '-30px 0 45px'}}>\r\n          <Form form={form} layout='vertical' className='input-transfer'>\r\n            <Row gutter={[5, 10]}>\r\n              <Col xs={{ span: 24 }} md={{ span: is1155 ? 17 : 24 }}>\r\n                <Form.Item\r\n                  name={['address']}\r\n                  rules={[{ validator: checkAddress }]}\r\n                  label='接收地址'\r\n                  required\r\n                >\r\n                  <Input\r\n                    width={200}\r\n                    size='large'\r\n                    className='search-style'\r\n                    onChange={onChange}\r\n                    placeholder='请输入地址'\r\n                  />\r\n                </Form.Item>\r\n                <div style={{ color: 'red', width: '100%', textAlign: 'center', marginTop: '10px', display: `${!!transfer ? 'block' : 'none'}` }}>错误：您在钱包中拒绝支付</div>\r\n              </Col>\r\n              {is1155 ? (\r\n                <Col xs={{ span: 24 }} md={{ span: 7 }}>\r\n                  <Form.Item\r\n                    name={['amount']}\r\n                    rules={[{ validator: checkAmount }]}\r\n                    label='Amount'\r\n                    required\r\n                  >\r\n                    <InputNumber\r\n                      min='1'\r\n                      size='large'\r\n                      className='search-style input-amount-transfer input-sell'\r\n                      formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      placeholder='Set amount'\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              ) : null}\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAA5tJREFUWEfFV9lPE2EQ/xVbUcCgcpRLKIeClktCW4kPUBAEffNJy/Hoiwd4ofEPEO9okGhiYjQBr6BGwcQoXugDNyhCOMpZUgSW+6bHmm+bAm2hbFuQedlkd3bm983Mb2Y+Dk3TNP6zKAcm0NBOoaFtAPKeYUSFeIDzP4CMTsyisZ3Cn3aKeY6Mzxgc3XEzb22AzKk0aOoaYk5MHPf0j5uN+d5g/uoAIcntUI4w4SaO5YphqDVa1gnPOBxmPZD+4Sk0tOkcN3ZQmJpRsXZsrHgjM549kMlpFeNQV2QUqJEpqx0v/tHT1QlXTsQuD4SEtrV7WOe4fQDdvWPQrgHBDsYE4GjSbkMgir6x+RO3dA+BFN1ay/l0CYQBruC0KobozxVdTK7HJmfX2q+BfXveBty7mATuBjtwMm9+ognP10MidvGRdSyacc3Je1lNVzb2rgqOEIELY6epc5CVvfRDoYgX+emAqDVa+uGbOpT/UbL62ViJdMX9ET6IjfLF95pufCzrYG3n+mkp3LY56IDoW3zBh0aUlLM3EuizDdJoP4iFntBoaTworMGv1n7WIDxcnJBzMnZe32DWFP+Q49WX5mWNbbbnYl+YNwNgB38Lozc4Oo07TytXbOPGRhMl/pAl71kaCHlbWqvAk+J6aLULQ9nXwxnSaF/EhHuDVLpeyOTMfV5tFdvOpYkRGui2PBDypba5D4/e/kZkMJ8BEOC91SRKZfVKPHr3Gyq15b1mI6FtdhJ4XDvzQMhX0kQ5nKWz9PprC4pKW1nXg7Fi+E53nJGJDF5btI+o1FoQhtlK97QUIRLEAuuAkKZ391kVM+5tlaunpOBv19FWL6wjcjnvO3qpCVsxwH27I66dijOxwxpI5s0Sq9hh7PGAWIDUFOH6AzmTKkZ40AJtLU7NakSEx9VN242LaLsuQMKC3HA2VbxknVldI2TYxYsEeP9TbtCFzVWzLFmIRIkhbW2KiMMmHrIzJPDzdGa68P3CWlYdNudkHDxcHFcnIgTEhQwJBJ7O8wbJWkl6jLlNnox7MvaXE4tSQxZqsmP6ey2A0Bsml6hb+RUmtzj99wSRAGmHTGlrcWou5X7D8SORSw5AvTFqZBq38svxd3DS5OBZMhEidrrbHhElNQEvV6cVO+v41BxuF1SgUzk6r8vQNjsRZOranJoVESxSmJnTIPdFFXMzIEKuCySl5oR1jVgChOiS9fFxUT3qmvuYlJIeYk7+AeqE7cjoZdeEAAAAAElFTkSuQmCC\"","import 'Views/DetailNFT/index.scss';\r\nimport { Button, InputNumber, Modal, Form, Input, Col, Row, Space } from 'antd';\r\nimport { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { updatePrice } from 'Store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { numFmt } from 'Utils/helper';\r\nimport { getSymbol } from 'Utils/getContractAddress';\r\n\r\nimport '../Sell/index.scss';\r\n\r\nexport default function UpdatePrice({ orderDetail, token, is1155, available, getOwners1155 }) {\r\n  const dispatch = useDispatch();\r\n  const { web3, chainId, updateError } = useSelector((state) => state);\r\n\r\n  const { sellID } = useParams();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [update, setUpdate] = useState('0');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n  const formRef = useRef()\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n    setUpdate('1');\r\n  };\r\n\r\n  const handleOk = useCallback(async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values && parseFloat(values.price) > 0) {\r\n      setIsLoading(true);\r\n      setUpdate('1');\r\n      let result = await dispatch(updatePrice(sellID, web3.utils.toWei(values.price.toString(), 'ether')));\r\n      if (!!result) {\r\n        console.log(result);\r\n        setIsModalVisible(false);\r\n        setUpdate('0');\r\n        setIsLoading(false);\r\n        form.resetFields();\r\n      }\r\n    }\r\n  }, [dispatch, web3.utils, sellID, form]);\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n    setUpdate('0');\r\n    form.resetFields();\r\n  };\r\n  // 监听输入框变化\r\n  const changePrice = (e) => {\r\n    const value = numFmt(e.target.value, 8)\r\n    formRef.current.setFieldsValue({\r\n      price: value\r\n    })\r\n  }\r\n  //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n  //actions里面 交易的时候会根据用户的操作 来返回相应的code 再作处理\r\n  useEffect(() => {\r\n    if (updateError === '4001') {\r\n      setUpdate('2');\r\n    } else if (updateError === '4000') {\r\n      setUpdate('1');\r\n    } else if (updateError === '1') {\r\n      setUpdate('0');\r\n    }\r\n  }, [updateError])\r\n\r\n  return (\r\n    <div className='gSzfBw'>\r\n      <Button key='change' style={{ background: '#6080B4', border: 'none', borderRadius: '10px', lineHeight: '30px' }} type='primary' size='large' onClick={showModal}>\r\n        更改价格\r\n      </Button>\r\n      <Modal\r\n        title={<h3 style={{margin: '20px 0 -20px', textAlign: 'center', fontWeight: 600, fontSize: '16px'}}>更改价格</h3>}\r\n        closable={false}  \r\n        wrapClassName='cancelWrapClass'\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        footer={null}\r\n        centered\r\n      >\r\n        <Form form={form} className='input-sell' layout='vertical' ref={formRef}>\r\n          <Row gutter={[5, 10]}>\r\n            <Col xs={{ span: 24 }} md={{ span: is1155 ? 17 : 24 }}>\r\n              <div className='ant-col ant-form-item-label'>\r\n                <label htmlFor='price' className='ant-form-item-required' title='Price'>\r\n                  价格\r\n                </label>\r\n              </div>\r\n              <Input.Group compact label='Price'>\r\n                <Form.Item\r\n                  name={['price']}\r\n                  rules={[{ required: true, message: '请输入价格' }]}\r\n                  className='input-price'\r\n                >\r\n                  <Input\r\n                    style={{ width: '460px', border: '1px solid #6080b4', borderRadius: '10px', height: '40px' }}\r\n                    placeholder='请输入价格'\r\n                    size='large'\r\n                    suffix={getSymbol(chainId)[orderDetail?.tokenPayment]}\r\n                    onChange={changePrice}\r\n                  />\r\n                </Form.Item>\r\n              </Input.Group>\r\n            </Col>\r\n            {is1155 ? (\r\n              <Col xs={{ span: 24 }} md={{ span: 7 }}>\r\n                <Input.Group>\r\n                  <Form.Item\r\n                    required\r\n                    name={['amount']}\r\n                    label='Amount'\r\n                    className='input-amount-sell'\r\n                  >\r\n                    <InputNumber\r\n                      min='1'\r\n                      size='large'\r\n                      defaultValue={!!orderDetail ? orderDetail.amount : 0}\r\n                      formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      placeholder='Amount'\r\n                      disabled\r\n                    />\r\n                  </Form.Item>\r\n                </Input.Group>\r\n              </Col>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Row>\r\n        </Form>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', width: '100%', marginTop: '60px' }}>\r\n          <Button\r\n            style={{ width: '210px', height: '42px', background: '#fff', borderRadius: '10px', border: '1px solid #6080b4', color: '#6080b4' }}\r\n            size='large' onClick={handleCancel} className='btn-cancel-sell'>\r\n            取消\r\n          </Button>\r\n          {update === '1' ? <Space key='update' style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={() => handleOk()} type=\"primary\" loading={isLoading} style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff' }}>\r\n              {!!isLoading ? '更改中' : '更改价格'}\r\n            </Button>\r\n          </Space> : update === '2' ? <Space key='tryAgain' style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={() => handleOk()} type=\"primary\" style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff', marginLeft: '20px' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n\r\nfunction useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  });\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n\r\nexport default useInterval;\r\n","import Sell from 'Components/Sell';\r\n// import Buy from 'Components/Buy';\r\nimport Cancel from 'Components/Cancel';\r\nimport Transfer from 'Components/Transfer';\r\nimport UpdatePrice from 'Components/UpdatePrice';\r\nimport { setBalance } from 'Store/actions';\r\nimport store from 'Store/index';\r\nimport useInterval from 'Utils/useInterval';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function RenderSwitch({\r\n  status,\r\n  token,\r\n  orderDetail,\r\n  is1155,\r\n  available,\r\n  web3,\r\n  getOwners1155,\r\n  chainId,\r\n}) {\r\n  const { walletAddress } = useSelector((state) => state);\r\n\r\n  useInterval(() => {\r\n    if (!!walletAddress) {\r\n      store.dispatch(setBalance(walletAddress));\r\n    }\r\n  }, 3000);\r\n  // 3 卖家已上架\r\n  switch (status) {\r\n    case 3:\r\n      return (\r\n        <div className='PE'>\r\n          <div className='actions-btn'>\r\n            <UpdatePrice\r\n              orderDetail={orderDetail}\r\n              token={token}\r\n              is1155={is1155}\r\n              available={available}\r\n              getOwners1155={getOwners1155}\r\n            />\r\n            <div className='cAFwWB' />\r\n            <Cancel orderDetail={orderDetail} getOwners1155={getOwners1155} chainId={chainId} />\r\n          </div>\r\n        </div>\r\n      );\r\n    // 2 卖家未上架\r\n    case 2:\r\n      return (\r\n        <div className='PE'>\r\n          <div className='actions-btn' style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Sell\r\n              token={token}\r\n              is1155={is1155}\r\n              available={available}\r\n              getOwners1155={getOwners1155}\r\n            />\r\n            <div className='cAFwWB' />\r\n            <Transfer\r\n              token={token}\r\n              is1155={is1155}\r\n              available={available}\r\n              web3={web3}\r\n              getOwners1155={getOwners1155}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    // 1 买家\r\n    case 1:\r\n      return (\r\n        <></>\r\n      );\r\n    default:\r\n      return <div></div>;\r\n  }\r\n}\r\n","import { InputNumber, Modal, Form, Input, Button } from 'antd';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { balanceOf } from 'Utils/helper';\r\nimport './index.scss';\r\n\r\nexport default function ModalBuy1155({ visible, orderDetail, buy, setCheckout1155 }) {\r\n  const { web3, balance, walletAddress } = useSelector((state) => state);\r\n  const [form] = Form.useForm();\r\n  const [totalPayment, setTotalPayment] = useState(\r\n    !!orderDetail ? parseFloat(web3.utils.fromWei(orderDetail.price, 'ether')) : 0\r\n  );\r\n  const [amount, setAmount] = useState(1);\r\n  const [insufficient, setInsufficient] = useState(false);\r\n\r\n  const fetchBalance = useCallback(\r\n    async (order) => {\r\n      if (!order) return;\r\n      if (order.tokenPayment === '0x0000000000000000000000000000000000000000') {\r\n        if (order.price > parseInt(balance * 1e18)) {\r\n          setInsufficient(true);\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n      } else {\r\n        let _tokenBal = await balanceOf(order.tokenPayment, walletAddress);\r\n        if (order.price > parseInt(_tokenBal)) {\r\n          setInsufficient(true);\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n      }\r\n    },\r\n    [balance, walletAddress]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!!walletAddress && !!orderDetail)\r\n      fetchBalance({\r\n        ...orderDetail,\r\n        amount,\r\n        price: parseInt(amount) * parseFloat(orderDetail.price),\r\n      });\r\n  }, [fetchBalance, balance, orderDetail, walletAddress, amount]);\r\n\r\n  const handleCancel = () => {\r\n    setCheckout1155(false);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values && values.amount >= 1) {\r\n      buy({ ...orderDetail, amount: values.amount });\r\n    }\r\n  };\r\n\r\n  const handleChangeAmout = (value) => {\r\n    value = !value ? 1 : value;\r\n    setAmount(value);\r\n    fetchBalance({\r\n      ...orderDetail,\r\n      amount: value,\r\n      price: parseInt(value) * parseFloat(orderDetail.price),\r\n    });\r\n    setTotalPayment(parseInt(value) * parseFloat(web3.utils.fromWei(orderDetail.price, 'ether')));\r\n  };\r\n\r\n  const checkAmount = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('Enter amount'));\r\n    } else if (parseInt(value) > parseInt(orderDetail.amount) - parseInt(orderDetail.soldAmount)) {\r\n      return Promise.reject(new Error('Amount greater available'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={\r\n        <p className='textmode mgb-0' style={{ fontSize: '28px', fontWeight: '900' }}>\r\n          Checkout\r\n        </p>\r\n      }\r\n      visible={visible}\r\n      footer={[\r\n        <Button key='cancel' shape='round' size='large' onClick={() => handleCancel()}>\r\n          Cancel\r\n        </Button>,\r\n        !insufficient ? (\r\n          <Button\r\n            key='payment'\r\n            type='primary'\r\n            shape='round'\r\n            size='large'\r\n            onClick={() => handleOk()}\r\n          >\r\n            Payment\r\n          </Button>\r\n        ) : (\r\n          <Button key='insufficient' type='primary' shape='round' size='large' disabled>\r\n            Insufficient\r\n          </Button>\r\n        ),\r\n      ]}\r\n      centered\r\n      width={550}\r\n      onCancel={handleCancel}\r\n    >\r\n      <p className='textmode mgb-0' style={{ fontSize: '14px', fontWeight: '900' }}>\r\n        Choose the amount of order you want to buy\r\n      </p>\r\n      <Form form={form} className='input-checkout-1155' layout='vertical'>\r\n        <Input.Group>\r\n          <Form.Item\r\n            required\r\n            name={['amount']}\r\n            rules={[{ validator: checkAmount }]}\r\n            label={`Enter amount. ${!!orderDetail ? parseInt(orderDetail.amount) - parseInt(orderDetail.soldAmount) : 0\r\n              } available`}\r\n            className='input-amount-checkout1155'\r\n          >\r\n            <InputNumber\r\n              min='1'\r\n              size='large'\r\n              formatter={(value) => `${value}`.replace(/^(-)*(\\d+)\\.(\\d\\d\\d\\d\\d\\d\\d\\d).*$/, '$1$2.$3')}\r\n              onChange={handleChangeAmout}\r\n              placeholder='Amount'\r\n            />\r\n          </Form.Item>\r\n        </Input.Group>\r\n        <Input.Group>\r\n          <Form.Item label='Total payment'>\r\n            <Input\r\n              disabled\r\n              size='large'\r\n              value={`${totalPayment}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              suffix=\"BNB\"\r\n            />\r\n          </Form.Item>\r\n        </Input.Group>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport './index.scss';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { Button, Modal } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { buyNft, approveToken } from 'Store/actions';\r\nimport ModalBuy1155 from 'Components/ModalBuy1155';\r\nimport { balanceOf, allowance, parseBalance } from 'Utils/helper';\r\nimport { getSymbol } from 'Utils/getContractAddress';\r\nimport { connectWeb3Modal } from 'Connections/web3Modal';\r\nimport { useHistory } from 'react-router';\r\nimport { getFloat } from 'Utils/helper';\r\n\r\nexport default function BuySmall({ token, orderDetail, is1155, id, addressToken, getOwners1155, setOrderDetail, bigStyle }) {\r\n  let history = useHistory();\r\n  const [insufficient, setInsufficient] = useState(false);\r\n  const { balance, chainId, walletAddress, allowanceToken, web3, buyError } = useSelector((state) => state);\r\n  const [approvedToken, setApprovedToken] = useState(false);\r\n  const [Checkout1155, setCheckout1155] = useState(false);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [buying, setBuying] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [money, setMoney] = useState('');\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    if (buyError === '4001') {\r\n      setIsLoading(false);\r\n      setBuying(true);\r\n    } else if (buyError === '4000') {\r\n      setBuying(false);\r\n    } else if (buyError === '1') {\r\n      setOrderDetail(null);\r\n      setIsLoading(false);\r\n      setIsModalVisible(false);\r\n    }\r\n  }, [buyError, setOrderDetail, walletAddress, web3.eth])\r\n\r\n  const handleOk = () => {\r\n    setIsLoading(true);\r\n    setBuying(false);\r\n    buy(orderDetail);\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n    setBuying(false);\r\n  };\r\n\r\n  const fetchBalance = useCallback(\r\n    async (order) => {\r\n      if (!order) return;\r\n      if (order.tokenPayment === '0x0000000000000000000000000000000000000000') {\r\n        setMoney(balance);\r\n        setApprovedToken(true);\r\n        if (order.price > parseInt(balance * 1e18)) {\r\n          setInsufficient(true); // 余额不足\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n      } else {\r\n        let allowanceToken = await allowance(order.tokenPayment, walletAddress, chainId);\r\n        // 获取代币余额\r\n        let _tokenBal = await balanceOf(order.tokenPayment, walletAddress);\r\n        let bal = parseBalance(_tokenBal.toString(), 18);\r\n        setMoney(bal);\r\n        if (order.price > parseInt(_tokenBal)) {\r\n          setInsufficient(true); // 余额不足\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n        \r\n        if (order.price <= parseInt(allowanceToken)) {\r\n          setApprovedToken(true);\r\n        } else {\r\n          setApprovedToken(false); //授权的金额不足时 要重新设置授权金额\r\n        }\r\n      }\r\n    },\r\n    [balance, walletAddress, chainId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!!walletAddress) fetchBalance(orderDetail);\r\n  }, [fetchBalance, walletAddress, allowanceToken, orderDetail]);\r\n\r\n  const buy = async (order) => {\r\n    if (!order) return;\r\n    let result = await dispatch(buyNft(order, is1155));\r\n    if (!!result.status && !!result.link) {\r\n      if (!!is1155) {\r\n        await getOwners1155();\r\n      }\r\n      history.push({\r\n        pathname: `/token/${chainId}/${addressToken}/${id}/null`,\r\n      });\r\n    }\r\n  };\r\n\r\n  const approve = async () => {\r\n    if (!orderDetail) return;\r\n    await dispatch(approveToken(orderDetail));\r\n  };\r\n\r\n  const checkout1155 = async () => {\r\n    setCheckout1155(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!!walletAddress ? (\r\n        <>\r\n          <Modal\r\n            title={<h3 className='textmode mgb-0'>购买</h3>}\r\n            visible={isModalVisible}\r\n            onCancel={handleCancel}\r\n            centered\r\n            footer={[\r\n              <Button\r\n                style={{ width: '280px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', marginBottom: '10px' }}\r\n                key='buy'\r\n                loading={isLoading}\r\n                type='primary'\r\n                shape='round'\r\n                size='large'\r\n                onClick={() => handleOk()}\r\n              >\r\n                {!!isLoading ? '支付中' : '购买'}\r\n              </Button>, <div key='red' style={{ color: 'red', marginTop: '5px', display: `${!!buying ? 'block' : 'none'}` }}>错误：支付失败</div>\r\n            ]}\r\n          >\r\n            <div className='sell-img' style={{ borderTop: '1px solid rgba(96,128,180,0.09)', borderBottom: '1px solid rgba(96,128,180,0.09)', padding: '45px 0', display: 'flex', alignItems: 'center' }}>\r\n              <img alt='img-nft' src={token.image} />\r\n              <div>\r\n                <div className='textmode name-style'>{token.name}</div>\r\n                <div style={{ color: 'rgba(0,0,0,0.50)' }}>{token.nameCollection}</div>\r\n                <div className='textmode'>单价: <span style={{ fontWeight: '600', fontSize: '16px' }}>{web3.utils.fromWei(orderDetail.price.toString(), 'ether')}</span>{' '}{getSymbol(chainId)[orderDetail.tokenPayment]}</div>\r\n              </div>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '10px' }}>账户余额:<span>{getFloat(money, 8)}{' '}{getSymbol(chainId)[orderDetail.tokenPayment]}</span></div>\r\n          </Modal>\r\n          <ModalBuy1155\r\n            visible={Checkout1155}\r\n            orderDetail={orderDetail}\r\n            buy={buy}\r\n            insufficient={insufficient}\r\n            setCheckout1155={setCheckout1155}\r\n          />\r\n          {approvedToken ? (\r\n            insufficient ? (\r\n              <Button type='text' disabled shape='round' size='small'>\r\n                余额不足\r\n              </Button>\r\n            ) : (\r\n              bigStyle ? (\r\n                <div\r\n                className=\"buy-big-btn\"\r\n                onClick={() => (is1155 ? checkout1155() : setIsModalVisible(true))}\r\n              >\r\n                立即购买\r\n              </div>\r\n              ) : (\r\n                <Button\r\n                className=\"buy-btn\"\r\n                type='link'\r\n                shape='round'\r\n                size='small'\r\n                onClick={() => (is1155 ? checkout1155() : setIsModalVisible(true))}\r\n              >\r\n                购买\r\n              </Button>\r\n              )\r\n            )\r\n          ) : (\r\n            <Button type='text' shape='round' size='small' onClick={approve}>\r\n              授权\r\n            </Button>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Button\r\n            style={{ color: '#6080B4', fontWeight: 'bold', fontSize: '15px' }}\r\n            type='text' shape='round' size='small' onClick={connectWeb3Modal}>\r\n            购买\r\n          </Button>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { /* Button,  message, */  Grid, Image } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, Link, useHistory } from 'react-router-dom';\r\nimport IconLoading from 'Components/IconLoading';\r\nimport helperGetNFTDetails from './helperGetNFTDetails';\r\nimport helperGetOwner1155 from './helperGetOwner1155';\r\nimport helperStatusActions721 from './helperStatusActions721';\r\nimport helperStatusActions1155Order from './DetailsNftOrder/helperStatusActions1155Order';\r\nimport helperStatusActions1155Profile from './DetailsNftProfile/helperStatusActions1155Profile';\r\nimport RenderSwitch from './RenderSwitch';\r\nimport BuySmall from 'Components/BuySmall';\r\n// import History from 'Components/History';\r\nimport { getPriceBNB, getPriceETH, getPriceMATIC, getFloat } from 'Utils/helper';\r\nimport { getSymbol, getTokensPayment } from 'Utils/getContractAddress';\r\n// import IconCoppy from 'Components/IconCoppy';\r\nimport { getRootExplorer } from 'Utils/getRootExplorer';\r\nimport { setAvailableSellOrder, setHistoryInfo } from 'Store/actions';\r\nimport moment from 'moment';\r\n\r\nimport './index.scss';\r\nimport { selectChain } from 'Connections/web3Modal';\r\nimport { getDB } from 'Utils/orbit';\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nexport default function DetailNFT() {\r\n  // 获取NFT详情信息\r\n  const {\r\n    web3,\r\n    walletAddress,\r\n    sellOrderList,\r\n    availableSellOrder721,\r\n    market,\r\n    chainId,\r\n    nftList,\r\n    convertErc1155Tokens,\r\n    availableSellOrder1155,\r\n    erc1155Tokens,\r\n    infoCollections,\r\n    orbitdb,\r\n  } = useSelector((state) => state);\r\n  const { chainID, addressToken, id, sellID } = useParams();\r\n  const { lg } = useBreakpoint();\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [is1155, setIs1155] = useState(false);\r\n  const [orderDetail, setOrderDetail] = useState();\r\n  const [status, setStatus] = useState(1); // 1买家 2卖家未上架 3卖家已上架\r\n  const [owners, setOwners] = useState([]);\r\n  const [ownersOnSale, setOwnersOnSale] = useState([]);\r\n  const [available, setAvailable] = useState(1);\r\n  // const [totalSupply, setTotalSupply] = useState(1);\r\n  const [getUsd, setGetUsd] = useState(null);\r\n  const [userData, setUserData] = useState(null);\r\n  // const [historyData, setHistoryData] = useState(null);\r\n\r\n  // 检查route的chainId\r\n  useEffect(() => {\r\n    if (parseInt(chainId) !== parseInt(chainID)) selectChain(chainID, walletAddress);\r\n  }, [walletAddress, chainId, chainID]);\r\n\r\n  const fetchDB = async (dbAddress, orbitdb) => {\r\n    const db = await getDB(dbAddress, orbitdb)\r\n    if (db && owners[0]) {\r\n      let userInfo = await db.get(owners[0].owner.toLowerCase() + '_profile');\r\n      let history = await db.get(`${addressToken}_${chainId}_${id}_history`);\r\n      dispatch(setHistoryInfo(history));\r\n      setUserData(userInfo);\r\n      // setHistoryData(history);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // 根据环境获取orbitdb库的地址\r\n    const dbAddress = process.env.REACT_APP_ORBIT_DB;\r\n    if (!!orbitdb && !!owners) {\r\n      fetchDB(dbAddress, orbitdb)\r\n    }\r\n  }, [orbitdb, owners[0]])// eslint-disable-line react-hooks/exhaustive-deps\r\n  \r\n  useEffect(() => {\r\n    const fetchSetAvailableOrdersNew = () => {\r\n      dispatch(setAvailableSellOrder());\r\n    };\r\n    // fetchSetAvailableOrdersNew();\r\n    const timer = setTimeout(() => {\r\n      // fetchSetAvailableOrdersNew();\r\n      fetchSetAvailableOrdersNew();\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(timer)\r\n    }\r\n  }, [dispatch])// eslint-disable-line react-hooks/exhaustive-deps \r\n\r\n  // Get detail nft by TokenURI for both 721 and 1155\r\n  useEffect(() => {\r\n    helperGetNFTDetails(web3, nftList, addressToken, id, erc1155Tokens, setAvailable, setToken, setMetadata);\r\n  }, [web3, nftList, addressToken, id, erc1155Tokens, infoCollections]);\r\n\r\n  // Modules getOwners1155 to other file so short index file\r\n  const getOwners1155 = useCallback(async () => {\r\n    if (!!market) {\r\n      helperGetOwner1155(\r\n        convertErc1155Tokens,\r\n        addressToken,\r\n        id,\r\n        chainId,\r\n        market,\r\n        // setTotalSupply,\r\n        setOwners,\r\n        setOwnersOnSale\r\n      );\r\n    }\r\n  }, [convertErc1155Tokens, addressToken, id, chainId, market]);\r\n\r\n  // Check status action sell, transfer, cancel and buy\r\n  const statusActions = useCallback(async () => {\r\n    if (web3 && sellOrderList && availableSellOrder721 && nftList) {\r\n      let is1155 = await nftList.methods.isERC1155(addressToken).call();\r\n      //  Process ERC1155\r\n      if (is1155) {\r\n        getOwners1155();\r\n        setIs1155(true);\r\n        if (Number.isInteger(parseInt(sellID)) && sellID !== 'null')\r\n          helperStatusActions1155Order(\r\n            availableSellOrder721,\r\n            availableSellOrder1155,\r\n            nftList,\r\n            sellOrderList,\r\n            walletAddress,\r\n            web3,\r\n            sellID,\r\n            setStatus,\r\n            setOrderDetail,\r\n            history\r\n          );\r\n        else\r\n          helperStatusActions1155Profile(\r\n            walletAddress,\r\n            setStatus,\r\n            addressToken,\r\n            id,\r\n            chainId,\r\n            web3,\r\n          );\r\n      } else {\r\n        //  Process ERC721\r\n        helperStatusActions721(\r\n          addressToken,\r\n          availableSellOrder721,\r\n          id,\r\n          market,\r\n          nftList,\r\n          sellOrderList,\r\n          walletAddress,\r\n          web3,\r\n          setStatus,\r\n          setOwners,\r\n          setOwnersOnSale,\r\n          setOrderDetail,\r\n          history,\r\n          sellID\r\n        );\r\n      }\r\n    }\r\n  }, [\r\n    addressToken,\r\n    availableSellOrder721,\r\n    availableSellOrder1155,\r\n    id,\r\n    market,\r\n    nftList,\r\n    sellOrderList,\r\n    walletAddress,\r\n    web3,\r\n    sellID,\r\n    getOwners1155,\r\n    chainId,\r\n    history,\r\n  ]);\r\n  \r\n  useEffect(() => {\r\n    statusActions();\r\n  }, [statusActions]);\r\n  // 换算USDT\r\n  const getCountPrice = useCallback(async () => {\r\n    if (!!orderDetail && chainId) {\r\n      let price = await web3.utils.fromWei(orderDetail.price, 'ether');\r\n      let countPrice;\r\n      if (chainId === 97) {\r\n        countPrice = await getPriceBNB(price);\r\n      } else if(chainId === 80001) {\r\n        countPrice = await getPriceMATIC(price);\r\n      } else {\r\n        countPrice = await getPriceETH(price);\r\n      }\r\n      setGetUsd(countPrice);\r\n    }\r\n  }, [orderDetail, web3.utils, chainId])\r\n\r\n  useEffect(() => {\r\n    if (!getUsd) {\r\n      getCountPrice();\r\n    }\r\n  }, [getCountPrice, getUsd]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', background: '#f7f8fb' }}>\r\n      <div className='detail-page center'>\r\n        <div className='body-page'>\r\n          {!!token ? (\r\n            <div className='detail-main'>\r\n              <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                {lg ? (\r\n                  <div className='info-wrap-left'>\r\n                    <div className='expand-img-nft'>\r\n                      <div className='image-label center'>\r\n                        <Image alt='img-nft' src={token.image} />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className='description-nft'>\r\n                      <div className='content-properties'>\r\n                        <div className='title-tab-properties'>\r\n                          <h3 className='nft-h3'>简介</h3>\r\n                        </div>\r\n                        {\r\n                          token.description ? (\r\n                            <div className='detail-des textmode'>\r\n                              {token.description}\r\n                            </div>\r\n                          ) : (\r\n                            <div className='attribute-empty'>\r\n                              暂无简介\r\n                            </div>\r\n                          )\r\n                        }\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className='properties-nft'>\r\n                      <div className='content-properties'>\r\n                        <div className='title-tab-properties'>\r\n                          <h3 className='nft-h3'>属性</h3>\r\n                        </div>\r\n                        <div className='list-properties'>\r\n                          <div className='items-properties'>\r\n                            {token.attributes.length\r\n                              ? token.attributes.map((attr, i) => (\r\n                                <div className='item-properties' key={i}>\r\n                                  <div className='name-properties'>{attr.trait_type}</div>\r\n                                  <div className='value-properties textmode'>\r\n                                    {!!attr.display_type &&\r\n                                      attr.display_type.toLowerCase() === 'date' &&\r\n                                      !!moment(attr.value).isValid()\r\n                                      ? moment(\r\n                                        attr.value.toString().length < 13\r\n                                          ? attr.value * 1000\r\n                                          : attr.value\r\n                                      ).format('DD-MM-YYYY')\r\n                                      : attr.value}\r\n                                  </div>\r\n                                </div>\r\n                              ))\r\n                              : (\r\n                                <div className='attribute-empty'>\r\n                                  暂无属性\r\n                                </div>\r\n                              )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ) : null}\r\n\r\n                <div className='info-wrap-right'>\r\n                  <div className='info-order-nft'>\r\n                    <div className='detail-title'>\r\n                      <h1>{token.name}</h1>\r\n                    </div>\r\n                    {sellID !== 'null' ? (\r\n                      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                        <div className='show-price'>\r\n                          <div>{!!orderDetail ? `${getFloat(web3.utils.fromWei(orderDetail.price, 'ether'),4)} ${getSymbol(chainId)[orderDetail?.tokenPayment]}` : <LoadingOutlined className='textmode' style={{ fontSize: '24px' }} />}</div>\r\n                          <div className='price'>{!!orderDetail && `${getSymbol(chainId)[orderDetail?.tokenPayment]}`!== `${getTokensPayment(chainId)[0].symbol}` ? `≈$ ${getUsd}` : ''}</div>\r\n                        </div>\r\n                        <span className='width100' style={{ textAlign: 'end', margin: '30px 20px 0 0' }}>\r\n                          {!walletAddress ||\r\n                            (!!walletAddress && orderDetail && sellID !== 'null' &&\r\n                              orderDetail.seller.toLowerCase() !== walletAddress.toLowerCase()) ? (\r\n                            <BuySmall\r\n                              token={token}\r\n                              orderDetail={orderDetail}\r\n                              is1155={is1155}\r\n                              id={id}\r\n                              addressToken={addressToken}\r\n                              getOwners1155={getOwners1155}\r\n                              setOrderDetail={setOrderDetail}\r\n                              bigStyle={true}\r\n                            />\r\n                          ) : null}\r\n                        </span>\r\n                      </div>\r\n                    ) : null}\r\n                    <div className='collections-nft'>\r\n                      {/* <div style={{ fontSize: '16px' }}>\r\n                        <div className=\"textBlack\">作者<span style={{ color: 'rgba(0,0,0,0.30)' }}>（10% 版税）</span></div>\r\n                        <Link to={`/collection/${chainId}/${addressToken.toLowerCase()}`}>\r\n                        {token.nameCollection}\r\n                        </Link>\r\n                      </div> */}\r\n                      <div style={{ marginRight: '45px' }}>\r\n                        <div className=\"textBlack\">作品集</div>\r\n                        {/*todo walletAddress应该为作者钱包地址 */}\r\n                        <Link to={`/collection/detail/${addressToken}`}>\r\n                          {token.nameCollection}\r\n                        </Link>\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"textBlack\">持有者</div>\r\n                        {owners.map((owner, index) => (\r\n                          <div key={index} className='avatar-link-available'>\r\n                            <div className='link-and-available'>\r\n                              <Link\r\n                                to={`/profile/index/${chainId}/${owner.owner.toLowerCase()}`}\r\n                                className='owner'\r\n                              >\r\n                                {!!userData && userData?.userName?.length > 1 ? userData.userName : <strong>\r\n                                  {`${owner.owner.slice(0, 8)}...${owner.owner.slice(\r\n                                    owner.owner.length - 6,\r\n                                    owner.owner.length\r\n                                  )}`}\r\n                                </strong>}\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='purchase-nft'>\r\n                    <h3 className=\"nft-h3\">出售列表</h3>\r\n                    <div>\r\n                      <div className='order-title'>\r\n                        <span className='width100'>单价</span><span className='width100'>数量</span><span className='width100'>卖家</span>\r\n                      </div>\r\n                      <div className='order-List'>\r\n                        <span className='width100'>\r\n                          {!!orderDetail && sellID !== 'null' ? (\r\n                            <div className='title-and-price'>\r\n                              <span className='price-eth color-black'>\r\n                                {getFloat(web3.utils.fromWei(orderDetail.price, 'ether'),4)} {getSymbol(chainId)[orderDetail.tokenPayment]}\r\n                              </span>\r\n                            </div>\r\n                          ) : (\r\n                            <>--</>\r\n                          )}\r\n                        </span>\r\n                        <span className='width100'>{!!orderDetail && sellID !== 'null' ? (\r\n                          <div className='color-black'>\r\n                            {!!ownersOnSale ? ownersOnSale[0].value : 1}\r\n                          </div>\r\n                        ) : (\r\n                          <>--</>\r\n                        )}</span>\r\n                        <span className='width100'>{!!orderDetail && sellID !== 'null' ? (\r\n                          <div>\r\n                            <Link\r\n                              to={`/profile/index/${chainId}/${orderDetail.seller.toLowerCase()}`}\r\n                              className='owner'\r\n                            >\r\n                              {!!userData ? userData.userName : <strong>\r\n                                {`${orderDetail.seller.slice(0, 8)}...${orderDetail.seller.slice(\r\n                                  orderDetail.seller.length - 6,\r\n                                  orderDetail.seller.length\r\n                                )}`}\r\n                              </strong>}\r\n                            </Link>\r\n\r\n                          </div>\r\n                        ) : (\r\n                          <>--</>\r\n                        )}</span>\r\n                        <span className='width100' style={{ textAlign: 'end' }}>\r\n                          {!walletAddress ||\r\n                            (!!walletAddress && orderDetail && sellID !== 'null' &&\r\n                              orderDetail.seller.toLowerCase() !== walletAddress.toLowerCase()) ? (\r\n                            <BuySmall\r\n                              token={token}\r\n                              orderDetail={orderDetail}\r\n                              is1155={is1155}\r\n                              id={id}\r\n                              addressToken={addressToken}\r\n                              getOwners1155={getOwners1155}\r\n                              setOrderDetail={setOrderDetail}\r\n                            />\r\n                          ) : null}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div className='style-purchase'>\r\n                      <div className='actions-nft'>\r\n                        <RenderSwitch\r\n                          status={status}\r\n                          token={token}\r\n                          orderDetail={orderDetail}\r\n                          is1155={is1155}\r\n                          available={available}\r\n                          web3={web3}\r\n                          chainId={chainId}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='nft-details'>\r\n                    <h3 className=\"nft-h3\">详情</h3>\r\n                    <div className='flex-between mb15'>\r\n                      <div className='color-black'>合约地址</div>\r\n                      <div>\r\n                        <a\r\n                          href={`${getRootExplorer(chainId)}/address/${addressToken}`}\r\n                          target='_blank'\r\n                          rel='noreferrer'\r\n                          className='href-to-address-contract'\r\n                        >\r\n                          {lg\r\n                            ? addressToken\r\n                            : `${addressToken.slice(0, 8)}...${addressToken.slice(\r\n                              addressToken.length - 6,\r\n                              addressToken.length\r\n                            )}`}\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                    <div className='flex-between mb15'>\r\n                      <div className='color-black'>Token ID</div>\r\n                      <div className='color-black'>{id}</div>\r\n                    </div>\r\n                    <div className='flex-between mb15'>\r\n                      <div className='color-black'>NFT标准</div>\r\n                      <div className='color-black'>ERC-721</div>\r\n                    </div>\r\n                    <div className='flex-between'>\r\n                      <div className='color-black'>元数据</div>\r\n                      <div className='href-to-address-contract'>\r\n                        <a\r\n                          href={metadata}\r\n                          target='_blank'\r\n                          rel='noreferrer'\r\n                          className='href-to-address-contract'\r\n                        >\r\n                          IPFS\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {/* <History historyData={historyData} /> */}\r\n            </div>\r\n          ) : (\r\n            <div className='center' style={{ width: '100%', minHeight: '200px' }}>\r\n              <IconLoading />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}