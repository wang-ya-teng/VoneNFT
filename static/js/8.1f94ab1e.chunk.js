(this["webpackJsonpdidi-nft"]=this["webpackJsonpdidi-nft"]||[]).push([[8],{2347:function(e,t,n){},2365:function(e,t,n){},2366:function(e,t,n){},2367:function(e,t,n){},2380:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return re}));var r=n(1),c=n.n(r),a=n(14),s=n(33),i=n(943),l=n(2378),o=n(176),d=n(0),b=n(61),u=n(79),j=n(112),x=n(564),p=n(409),h=n(238),O=n(203),f=n.n(O),m=n(561),v=n(19),k=n(67);function g(){return(g=Object(a.a)(c.a.mark((function e(t,n,r,a,s,i,l){var o,d,b,u,j,x,O,g,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=43;break}return e.next=3,n.methods.isERC1155(r).call();case 3:return o=e.sent,e.next=6,k.a.dispatch(Object(v.X)(r,null));case 6:if(b=e.sent.collection.name,!o){e.next=26;break}return e.next=10,new t.eth.Contract(p.abi,r);case 10:return u=e.sent,e.next=13,u.methods.uri(a).call();case 13:if(d=e.sent,!s){e.next=24;break}j=0;case 16:if(!(j<s.length)){e.next=24;break}if((x=s[j]).addressToken.toLowerCase()!==r.toLowerCase()||parseInt(x.index)!==parseInt(a)){e.next=21;break}return i(x.value),e.abrupt("break",24);case 21:j++,e.next=16;break;case 24:e.next=32;break;case 26:return e.next=28,new t.eth.Contract(h.abi,r);case 28:return O=e.sent,e.next=31,O.methods.tokenURI(a).call();case 31:d=e.sent;case 32:return e.prev=32,e.next=35,f.a.get(d);case 35:g=e.sent,y=g.data,l({name:y.name?y.name:"Unnamed",description:y.description?y.description:"",image:y.image?y.image:m.a,nameCollection:b,attributes:y.attributes?y.attributes:[]}),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(32),l({name:"Unnamed",description:"",image:m.a,nameCollection:"Unnamed",attributes:[]});case 43:case"end":return e.stop()}}),e,null,[[32,40]])})))).apply(this,arguments)}var y=n(560);function w(e,t,n,r,c,a,s){return N.apply(this,arguments)}function N(){return(N=Object(a.a)(c.a.mark((function e(t,n,r,a,s,i,l){var o,d,b,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],d=0;case 2:if(!(d<t.length)){e.next=10;break}if((b=t[d]).addressToken.toLowerCase()!==n.toLowerCase()){e.next=7;break}return o=b.tokens,e.abrupt("break",10);case 7:d++,e.next=2;break;case 10:return o=o.filter((function(e){return parseInt(e.index)===parseInt(r)})),e.next=13,Object(y.c)(n,r,a,s._address);case 13:u=e.sent,i(u.ownersOf1155),l(o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(9);function I(e,t,n,r,c,a,s,i,l,o,d,b,u,j){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(c.a.mark((function e(t,n,r,a,s,i,l,o,d,b,u,j,x,p){var O,f,m,v,k,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o&&i&&n&&s)){e.next=42;break}return e.prev=1,e.next=4,new o.eth.Contract(h.abi,t);case 4:if(O=e.sent,"null"!==p){e.next=12;break}return e.next=8,O.methods.ownerOf(r).call();case 8:f=e.sent,b([{owner:f,totalSupply:1,value:1}]),e.next=16;break;case 12:return e.next=14,i.methods.getSellOrderById(p).call();case 14:(m=e.sent).isActive?(f=m.seller,b([{owner:f,totalSupply:1,value:1}]),u([{seller:f,totalSupply:1,value:1,price:m.price,tokenPayment:m.token,sellId:m.sellId,amount:m.amount}])):x.push("/404");case 16:if(!l){e.next=20;break}return e.next=19,i.methods.checkDuplicateERC721(t,r,l).call();case 19:v=e.sent;case 20:if(!l||!v){e.next=24;break}d(3),e.next=35;break;case 24:if(!l||f.toLowerCase()!==l.toLowerCase()){e.next=31;break}return e.next=27,i.methods.checkDuplicateERC721(t,r,f).call();case 27:k=e.sent,d(k?3:2),e.next=35;break;case 31:return e.next=33,i.methods.checkDuplicateERC721(t,r,f).call();case 33:e.sent||f===a._address?d(1):d(0);case 35:(g=n.filter((function(e){return e.nftAddress.toLowerCase()===t.toLowerCase()&&e.tokenId===r})))[0]&&j(Object(C.a)(Object(C.a)({},g[0]),{},{tokenPayment:g[0].token})),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(1),console.log(e.t0);case 42:case"end":return e.stop()}}),e,null,[[1,39]])})))).apply(this,arguments)}function E(e,t,n,r,c,a,s,i,l,o){return A.apply(this,arguments)}function A(){return(A=Object(a.a)(c.a.mark((function e(t,n,r,a,s,i,l,o,d,b){var u,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i&&a&&t&&r)){e.next=12;break}return e.prev=1,e.next=4,a.methods.getSellOrderById(l).call();case 4:(u=e.sent).isActive?(s&&u.seller.toLowerCase()===s.toLowerCase()?o(3):o(1),(j=n.filter((function(e){return e.sellId===l})))[0]&&d(Object(C.a)(Object(C.a)({},j[0]),{},{tokenPayment:j[0].token}))):b.push("/404"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),b.push("/404");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function B(e,t,n,r,c,a,s){return F.apply(this,arguments)}function F(){return(F=Object(a.a)(c.a.mark((function e(t,n,r,a,s,i,l){var o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s&&a&&r)){e.next=17;break}if(e.prev=1,!t){e.next=11;break}return o=new i.eth.Contract(p.abi,r),e.next=6,o.methods.balanceOf(t,a).call();case 6:d=e.sent,l(d),n(d>0?2:0),e.next=12;break;case 11:n(0);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}n(976);var z=n(2326),D=n(101),P=n(974),T=n(2323),R=n(2322),L=n(2328),W=n(2327),M=n(975),V=(n(2365),n(316)),H=n(2);function J(e){var t=e.visible,n=e.approve,r=e.selling,i=e.handleOk,l=e.setIsLoading,o=Object(d.useState)(!1),b=Object(s.a)(o,2),u=b[0],j=b[1];Object(d.useEffect)((function(){j(t)}),[t]);var x=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsx)(P.a,{visible:u,footer:Object(H.jsx)("div",{}),centered:!0,width:500,onCancel:function(){j(!1),l(!1)},children:Object(H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsxs)("div",{style:{width:"90%",margin:"25px 0"},children:[Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(H.jsxs)("div",{className:"textMode",children:[Object(H.jsx)("span",{className:"one",children:"1"}),Object(H.jsx)("span",{children:"\u6388\u6743"})]}),"3"===n?Object(H.jsxs)("div",{style:{color:"#43A047"},children:["\u5df2\u5b8c\u6210",Object(H.jsx)("img",{src:V.a,alt:"yes",style:{width:"22px"}})]}):null]}),Object(H.jsx)("div",{children:"\u51fa\u552e\u6b64\u4f5c\u54c1\u96c6\u4e2d\u7684\u4f5c\u54c1\u9700\u8fdb\u884c\u4e00\u6b21\u6027\u6388\u6743\u3002"}),"1"===n?Object(H.jsx)(M.b,{style:{width:"100%"},children:Object(H.jsx)(D.a,{type:"primary",loading:!0,style:{width:"400px",height:"40px",borderRadius:"10px",marginTop:"10px",background:"#6080b4",border:"none"},children:"\u6388\u6743\u4e2d"})}):"2"===n?Object(H.jsxs)(M.b,{style:{width:"100%",display:"flex",flexDirection:"column"},children:[Object(H.jsx)(D.a,{onClick:function(){x()},type:"primary",style:{width:"400px",height:"40px",borderRadius:"10px",marginTop:"10px",background:"#6080b4",border:"none"},children:"\u518d\u8bd5\u4e00\u6b21"}),Object(H.jsx)("div",{style:{color:"red"},children:"\u9519\u8bef\uff1a\u60a8\u5728\u94b1\u5305\u4e2d\u62d2\u7edd\u652f\u4ed8"})]}):null]}),Object(H.jsxs)("div",{style:{width:"90%",margin:"25px 0"},children:[Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(H.jsxs)("div",{className:"textMode",children:[Object(H.jsx)("span",{className:"one",children:"2"}),Object(H.jsx)("span",{children:"\u4e0a\u67b6\u51fa\u552e"})]}),"3"===r?Object(H.jsxs)("div",{style:{color:"#43A047"},children:["\u5df2\u5b8c\u6210",Object(H.jsx)("img",{src:V.a,alt:"yes",style:{width:"22px"}})]}):null]}),Object(H.jsx)("div",{children:"\u4e0a\u67b6\u51fa\u552e\u9700\u652f\u4ed8\u4e00\u7b14\u77ff\u5de5\u8d39\u3002"}),"1"===r?Object(H.jsx)(M.b,{style:{width:"100%"},children:Object(H.jsx)(D.a,{type:"primary",loading:!0,style:{width:"400px",height:"40px",borderRadius:"10px",marginTop:"10px",background:"#6080b4",border:"none"},children:"\u4e0a\u67b6\u4e2d"})}):"2"===r?Object(H.jsxs)(M.b,{style:{width:"100%",display:"flex",flexDirection:"column",height:"50px"},children:[Object(H.jsx)(D.a,{onClick:function(){x()},type:"primary",style:{width:"400px",height:"40px",borderRadius:"10px",marginTop:"10px",background:"#6080b4",border:"none"},children:"\u518d\u8bd5\u4e00\u6b21"}),Object(H.jsx)("div",{style:{color:"red"},children:"\u9519\u8bef\uff1a\u60a8\u5728\u94b1\u5305\u4e2d\u62d2\u7edd\u652f\u4ed8"})]}):null]})]})})}n(2347);function Q(e){e.token;var t=e.is1155,n=e.available,r=e.getOwners1155,i=Object(b.b)(),l=Object(u.f)(),o=Object(b.c)((function(e){return e})),j=o.web3,x=o.chainId,p=o.approveError,h=o.sellError,O=Object(u.h)(),f=O.addressToken,m=O.id,k=Object(d.useState)(!1),g=Object(s.a)(k,2),y=g[0],w=g[1],N=Object(d.useState)(!1),C=Object(s.a)(N,2),I=C[0],S=C[1],E=Object(d.useState)("0"),A=Object(s.a)(E,2),B=A[0],F=A[1],M=Object(d.useState)(!1),V=Object(s.a)(M,2),Q=V[0],Y=V[1],q=Object(d.useState)(""),U=Object(s.a)(q,2),G=U[0],X=U[1],K=z.a.useForm(),Z=Object(s.a)(K,1)[0];Object(d.useEffect)((function(){"4001"===p?F("2"):"4000"===p?F("1"):"1"===p&&(F("3"),Y("1")),"4001"===h?Y("2"):"4000"===h?Y("1"):"1"===h&&(Y("0"),Y("3"))}),[p,h]);var _=Object(d.useCallback)(Object(a.a)(c.a.mark((function e(){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.validateFields();case 2:if(!((n=e.sent)&&parseFloat(n.price)>0)){e.next=16;break}return S(!0),F("1"),e.next=8,i(Object(v.V)(f,m,j.utils.toWei(n.price.toString(),"ether"),"0x0000000000000000000000000000000000000000",n.amount?n.amount:1));case 8:if(!(a=e.sent).status){e.next=16;break}if(!t){e.next=13;break}return e.next=13,r();case 13:w(!1),Z.resetFields(),l.push({pathname:"/token/".concat(x,"/").concat(f,"/").concat(m,"/").concat(a.sellId)});case 16:case"end":return e.stop()}}),e)}))),[i,f,m,j.utils,t,l,Z,r,x]),$=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Enter amount")));case 4:if(!(parseInt(r)>parseInt(n))){e.next=8;break}return e.abrupt("return",Promise.reject(new Error("Not enough amount")));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)("div",{className:"gSzfBw",children:Object(H.jsx)(D.a,{style:{background:"#6080b4",border:"none",borderRadius:"10px"},type:"primary",size:"large",onClick:function(){w(!0)},children:"\u51fa\u552e"})}),Object(H.jsx)(P.a,{title:Object(H.jsx)("h3",{className:"textmode mgb-0",children:"\u51fa\u552e"}),visible:y,onCancel:function(){i({type:v.m,sellError:"0"}),w(!1),Z.resetFields()},centered:!0,footer:[Object(H.jsx)(D.a,{style:{width:"220px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none"},type:"primary",shape:"round",size:"large",onClick:function(){return _()},children:"\u51fa\u552e"},"sell")],children:Object(H.jsx)(z.a,{form:Z,className:"input-sell",layout:"vertical",children:Object(H.jsxs)(T.a,{gutter:[5,10],children:[Object(H.jsxs)(R.a,{xs:{span:24},md:{span:t?17:24},children:[Object(H.jsx)("div",{className:"ant-col ant-form-item-label",children:Object(H.jsx)("label",{htmlFor:"price",className:"ant-form-item-required",title:"Price",children:"\u4ef7\u683c"})}),Object(H.jsx)(L.a.Group,{compact:!0,label:"Price",children:Object(H.jsx)(z.a.Item,{name:["price"],rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}],style:{width:"60%"},children:Object(H.jsx)(W.a,{style:{width:"460px",borderRadius:"0px"},min:"0.01",size:"large",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},placeholder:"\u8bf7\u8f93\u5165\u4ef7\u683c",addonAfter:4===x?"ETH":"BNB",onChange:function(e){return X((.975*e).toFixed(4))}})})}),Object(H.jsxs)("div",{className:"flex-between",children:[Object(H.jsx)("div",{children:"\u670d\u52a1\u8d39\u7387\uff1a"}),Object(H.jsxs)("div",{children:[Object(H.jsx)("span",{className:"bold",children:"2.50"}),"%"]})]}),Object(H.jsxs)("div",{className:"flex-between",children:[Object(H.jsx)("div",{children:"\u7248\u7a0e\u7387\uff1a"}),Object(H.jsxs)("div",{children:[Object(H.jsx)("span",{className:"bold",children:"0"}),"%"]})]}),Object(H.jsxs)("div",{className:"flex-between",children:[Object(H.jsx)("div",{children:"\u4f60\u5c06\u83b7\u5f97\u7684\u603b\u91d1\u989d\uff1a"}),Object(H.jsxs)("div",{children:[Object(H.jsx)("span",{className:"bold",children:G}),4===x?"ETH":"BNB"]})]})]}),t?Object(H.jsx)(R.a,{xs:{span:24},md:{span:7},children:Object(H.jsx)(L.a.Group,{children:Object(H.jsx)(z.a.Item,{required:!0,name:["amount"],rules:[{validator:$}],label:"Amount",className:"input-amount-sell textmode",children:Object(H.jsx)(W.a,{min:"1",size:"large",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},placeholder:"Amount",className:"textmode"})})})}):Object(H.jsx)(H.Fragment,{})]})})}),I?Object(H.jsx)(J,{visible:!0,approve:B,selling:Q,setIsLoading:S,handleOk:_}):Object(H.jsx)(H.Fragment,{})]})}function Y(e){var t=e.orderDetail,n=e.is1155,r=e.getOwners1155,i=e.chainId,l=Object(b.c)((function(e){return e})).cancelError,o=Object(d.useState)(!1),j=Object(s.a)(o,2),x=j[0],p=j[1],h=Object(d.useState)(!1),O=Object(s.a)(h,2),f=O[0],m=O[1],k=Object(d.useState)("0"),g=Object(s.a)(k,2),y=g[0],w=g[1],N=Object(b.b)(),C=function(){p(!1),m(!1)};Object(d.useEffect)((function(){"4001"===l?w("2"):"4000"===l?w("1"):"1"===l&&w("0")}),[l]);var I=Object(u.f)(),S=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.sellId){e.next=13;break}return m(!0),w("1"),e.next=5,N(Object(v.T)(t));case 5:if(!e.sent){e.next=13;break}if(p(!1),m(!1),!n){e.next=12;break}return e.next=12,r();case 12:I.push({pathname:"/token/".concat(i,"/").concat(t.nftAddress,"/").concat(t.tokenId,"/null")});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{className:"gSzfBw",children:[Object(H.jsx)(D.a,{style:{borderRadius:"10px"},size:"large",onClick:function(){p(!0),w("1")},className:"btn-cancel-sell",children:"\u4e0b\u67b6"}),Object(H.jsxs)(P.a,{title:"\u4e0b\u67b6",onCancel:C,visible:x,footer:Object(H.jsx)("div",{}),centered:!0,children:[Object(H.jsx)("p",{style:{textAlign:"center"},children:"\u4e0b\u67b6\u540e\u60a8\u4ecd\u7136\u53ef\u4ee5\u91cd\u65b0\u51fa\u552e"}),Object(H.jsx)("p",{style:{textAlign:"center",marginBottom:"30px"},children:"\u4e0b\u67b6\u7269\u54c1\u9700\u8981\u53d1\u8d77\u4e00\u7b14\u4ea4\u6613"}),Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(H.jsx)(D.a,{style:{width:"210px",height:"42px",background:"#fff",borderRadius:"10px",border:"1px solid #6080b4",color:"#6080b4"},size:"large",onClick:C,className:"btn-cancel-sell",children:"\u53d6\u6d88"}),"1"===y?Object(H.jsx)(M.b,{style:{display:"flex",flexDirection:"column",height:"60px"},children:Object(H.jsx)(D.a,{onClick:S,type:"primary",loading:f,style:{width:"210px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",color:"#fff"},children:f?"\u4e0b\u67b6\u4e2d":"\u4e0b\u67b6"})}):"2"===y?Object(H.jsxs)(M.b,{style:{display:"flex",flexDirection:"column",height:"60px"},children:[Object(H.jsx)(D.a,{onClick:S,type:"primary",style:{width:"210px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",color:"#fff",marginLeft:"20px"},children:"\u518d\u8bd5\u4e00\u6b21"}),Object(H.jsx)("div",{style:{color:"red"},children:"\u9519\u8bef\uff1a\u60a8\u5728\u94b1\u5305\u4e2d\u62d2\u7edd\u652f\u4ed8"})]}):null]})]})]})}function q(e){e.token;var t=e.is1155,n=e.available,r=e.web3,i=(e.getOwners1155,Object(b.c)((function(e){return e})).transferError),l=Object(b.b)(),o=z.a.useForm(),j=Object(s.a)(o,1)[0],x=Object(d.useState)(!1),p=Object(s.a)(x,2),h=p[0],O=p[1],f=Object(d.useState)(""),m=Object(s.a)(f,2),k=m[0],g=m[1],y=Object(u.h)(),w=y.addressToken,N=y.id,C=Object(d.useState)(!1),I=Object(s.a)(C,2),S=I[0],E=I[1],A=Object(d.useState)(!1),B=Object(s.a)(A,2),F=B[0],M=B[1];Object(d.useEffect)((function(){"4001"===i?(M(!1),E(!0)):"4000"===i?E(!1):"1"===i&&(M(!1),O(!1))}),[i]);var V=function(){var e=Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.validateFields();case 2:if(!(n=e.sent)){e.next=8;break}return M(!0),E(!1),e.next=8,l(Object(v.lb)(w,k,N,n.amount,t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){O(!1),M(!1),E(!1),j.resetFields()},Q=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Enter amount")));case 4:if(!(parseInt(r)>parseInt(n))){e.next=8;break}return e.abrupt("return",Promise.reject(new Error("Not enough amount")));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("\u8bf7\u8f93\u5165\u5730\u5740")));case 4:if(r.utils.isAddress(n)){e.next=8;break}return e.abrupt("return",Promise.reject(new Error("\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e")));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center"},onClick:function(){O(!0)},children:[Object(H.jsx)("img",{style:{marginRight:"5px"},width:14,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAA5tJREFUWEfFV9lPE2EQ/xVbUcCgcpRLKIeClktCW4kPUBAEffNJy/Hoiwd4ofEPEO9okGhiYjQBr6BGwcQoXugDNyhCOMpZUgSW+6bHmm+bAm2hbFuQedlkd3bm983Mb2Y+Dk3TNP6zKAcm0NBOoaFtAPKeYUSFeIDzP4CMTsyisZ3Cn3aKeY6Mzxgc3XEzb22AzKk0aOoaYk5MHPf0j5uN+d5g/uoAIcntUI4w4SaO5YphqDVa1gnPOBxmPZD+4Sk0tOkcN3ZQmJpRsXZsrHgjM549kMlpFeNQV2QUqJEpqx0v/tHT1QlXTsQuD4SEtrV7WOe4fQDdvWPQrgHBDsYE4GjSbkMgir6x+RO3dA+BFN1ay/l0CYQBruC0KobozxVdTK7HJmfX2q+BfXveBty7mATuBjtwMm9+ognP10MidvGRdSyacc3Je1lNVzb2rgqOEIELY6epc5CVvfRDoYgX+emAqDVa+uGbOpT/UbL62ViJdMX9ET6IjfLF95pufCzrYG3n+mkp3LY56IDoW3zBh0aUlLM3EuizDdJoP4iFntBoaTworMGv1n7WIDxcnJBzMnZe32DWFP+Q49WX5mWNbbbnYl+YNwNgB38Lozc4Oo07TytXbOPGRhMl/pAl71kaCHlbWqvAk+J6aLULQ9nXwxnSaF/EhHuDVLpeyOTMfV5tFdvOpYkRGui2PBDypba5D4/e/kZkMJ8BEOC91SRKZfVKPHr3Gyq15b1mI6FtdhJ4XDvzQMhX0kQ5nKWz9PprC4pKW1nXg7Fi+E53nJGJDF5btI+o1FoQhtlK97QUIRLEAuuAkKZ391kVM+5tlaunpOBv19FWL6wjcjnvO3qpCVsxwH27I66dijOxwxpI5s0Sq9hh7PGAWIDUFOH6AzmTKkZ40AJtLU7NakSEx9VN242LaLsuQMKC3HA2VbxknVldI2TYxYsEeP9TbtCFzVWzLFmIRIkhbW2KiMMmHrIzJPDzdGa68P3CWlYdNudkHDxcHFcnIgTEhQwJBJ7O8wbJWkl6jLlNnox7MvaXE4tSQxZqsmP6ey2A0Bsml6hb+RUmtzj99wSRAGmHTGlrcWou5X7D8SORSw5AvTFqZBq38svxd3DS5OBZMhEidrrbHhElNQEvV6cVO+v41BxuF1SgUzk6r8vQNjsRZOranJoVESxSmJnTIPdFFXMzIEKuCySl5oR1jVgChOiS9fFxUT3qmvuYlJIeYk7+AeqE7cjoZdeEAAAAAElFTkSuQmCC",alt:"send"}),Object(H.jsx)("div",{style:{color:"#6080B4",fontSize:"15px"},children:"\u8d60\u9001"})]}),Object(H.jsx)(P.a,{width:550,title:Object(H.jsx)("h3",{className:"textmode mgb-0",children:"\u8d60\u9001"}),visible:h,onCancel:J,centered:!0,footer:[Object(H.jsx)(D.a,{shape:"round",size:"large",onClick:function(){return J()},style:{width:"220px",height:"42px",borderRadius:"10px",border:"1px solid #6080b4",color:"#6080b4"},children:"\u53d6\u6d88"},"cancel"),Object(H.jsx)(D.a,{type:"primary",loading:F,shape:"round",size:"large",onClick:function(){return V()},style:{width:"220px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",display:"".concat(S?"none":"inline-block")},children:F?"\u652f\u4ed8\u4e2d":"\u8d60\u9001"},"sell"),Object(H.jsx)(D.a,{type:"primary",loading:F,shape:"round",size:"large",onClick:function(){return V()},style:{width:"220px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",display:"".concat(S?"inline-block":"none")},children:"\u518d\u8bd5\u4e00\u6b21"},"transfer")],children:Object(H.jsx)("div",{className:"price-des",children:Object(H.jsx)(z.a,{form:j,layout:"vertical",className:"input-transfer",children:Object(H.jsxs)(T.a,{gutter:[5,10],children:[Object(H.jsxs)(R.a,{xs:{span:24},md:{span:t?17:24},children:[Object(H.jsx)("div",{style:{marginBottom:"20px"},children:"\u8d60\u9001\u7269\u54c1\u9700\u8981\u53d1\u8d77\u4e00\u7b14\u4ea4\u6613"}),Object(H.jsx)(z.a.Item,{name:["address"],rules:[{validator:Y}],label:"\u63a5\u6536\u5730\u5740",required:!0,children:Object(H.jsx)(L.a,{width:200,size:"large",className:"search-style",onChange:function(e){g(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5730\u5740"})}),Object(H.jsx)("div",{style:{color:"red",width:"100%",textAlign:"center",marginTop:"10px",display:"".concat(S?"block":"none")},children:"\u9519\u8bef\uff1a\u60a8\u5728\u94b1\u5305\u4e2d\u62d2\u7edd\u652f\u4ed8"})]}),t?Object(H.jsx)(R.a,{xs:{span:24},md:{span:7},children:Object(H.jsx)(z.a.Item,{name:["amount"],rules:[{validator:Q}],label:"Amount",required:!0,children:Object(H.jsx)(W.a,{min:"1",size:"large",className:"search-style input-amount-transfer input-sell",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},placeholder:"Set amount"})})}):null]})})})})]})}function U(e){var t=e.orderDetail,n=(e.token,e.is1155),r=(e.available,e.getOwners1155,Object(b.b)()),i=Object(b.c)((function(e){return e})),l=i.web3,o=i.chainId,j=i.updateError,x=Object(u.h)().sellID,p=Object(d.useState)(!1),h=Object(s.a)(p,2),O=h[0],f=h[1],m=Object(d.useState)("0"),k=Object(s.a)(m,2),g=k[0],y=k[1],w=Object(d.useState)(!1),N=Object(s.a)(w,2),C=N[0],I=N[1],S=z.a.useForm(),E=Object(s.a)(S,1)[0],A=Object(d.useCallback)(Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.validateFields();case 2:if(!((t=e.sent)&&parseFloat(t.price)>0)){e.next=10;break}return I(!0),y("1"),e.next=8,r(Object(v.mb)(x,l.utils.toWei(t.price.toString(),"ether")));case 8:(n=e.sent)&&(console.log(n),f(!1),y("0"),I(!1),E.resetFields());case 10:case"end":return e.stop()}}),e)}))),[r,l.utils,x,E]),B=function(){f(!1),I(!1),y("0"),E.resetFields()};return Object(d.useEffect)((function(){"4001"===j?y("2"):"4000"===j?y("1"):"1"===j&&y("0")}),[j]),Object(H.jsxs)("div",{className:"gSzfBw",children:[Object(H.jsx)(D.a,{style:{background:"#6080B4",border:"none",borderRadius:"10px"},type:"primary",size:"large",onClick:function(){f(!0),y("1")},children:"\u66f4\u6539\u4ef7\u683c"},"change"),Object(H.jsxs)(P.a,{title:Object(H.jsx)("h3",{className:"textmode mgb-0",children:"\u66f4\u6539\u4ef7\u683c"}),visible:O,onCancel:B,footer:Object(H.jsx)("div",{}),centered:!0,children:[Object(H.jsx)(z.a,{form:E,className:"input-sell",layout:"vertical",children:Object(H.jsxs)(T.a,{gutter:[5,10],children:[Object(H.jsxs)(R.a,{xs:{span:24},md:{span:n?17:24},children:[Object(H.jsx)("div",{className:"ant-col ant-form-item-label",children:Object(H.jsx)("label",{htmlFor:"price",className:"ant-form-item-required",title:"Price",children:"\u4ef7\u683c"})}),Object(H.jsx)(L.a.Group,{compact:!0,label:"Price",children:Object(H.jsx)(z.a.Item,{name:["price"],rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}],className:"input-price",children:Object(H.jsx)(W.a,{style:{width:"460px",borderRadius:"0px"},min:"0.01",size:"large",className:"search-style",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},placeholder:"\u8bf7\u8f93\u5165\u6700\u65b0\u4ef7\u683c",addonAfter:4===o?"ETH":"BNB"})})})]}),n?Object(H.jsx)(R.a,{xs:{span:24},md:{span:7},children:Object(H.jsx)(L.a.Group,{children:Object(H.jsx)(z.a.Item,{required:!0,name:["amount"],label:"Amount",className:"input-amount-sell",children:Object(H.jsx)(W.a,{min:"1",size:"large",defaultValue:t?t.amount:0,formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},placeholder:"Amount",disabled:!0})})})}):Object(H.jsx)(H.Fragment,{})]})}),Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",marginTop:"40px"},children:[Object(H.jsx)(D.a,{style:{width:"210px",height:"42px",background:"#fff",borderRadius:"10px",border:"1px solid #6080b4",color:"#6080b4"},size:"large",onClick:B,className:"btn-cancel-sell",children:"\u53d6\u6d88"}),"1"===g?Object(H.jsx)(M.b,{style:{display:"flex",flexDirection:"column",height:"60px"},children:Object(H.jsx)(D.a,{onClick:function(){return A()},type:"primary",loading:C,style:{width:"210px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",color:"#fff"},children:C?"\u66f4\u6539\u4e2d":"\u66f4\u6539\u4ef7\u683c"})},"update"):"2"===g?Object(H.jsxs)(M.b,{style:{display:"flex",flexDirection:"column",height:"60px"},children:[Object(H.jsx)(D.a,{onClick:function(){return A()},type:"primary",style:{width:"210px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",color:"#fff",marginLeft:"20px"},children:"\u518d\u8bd5\u4e00\u6b21"}),Object(H.jsx)("div",{style:{color:"red"},children:"\u9519\u8bef\uff1a\u60a8\u5728\u94b1\u5305\u4e2d\u62d2\u7edd\u652f\u4ed8"})]},"tryAgain"):null]})]})]})}var G=function(e,t){var n=Object(d.useRef)();Object(d.useEffect)((function(){n.current=e})),Object(d.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};function X(e){var t=e.status,n=e.token,r=e.orderDetail,c=e.is1155,a=e.available,s=e.web3,i=e.getOwners1155,l=e.chainId,o=Object(b.c)((function(e){return e})).walletAddress;switch(G((function(){o&&k.a.dispatch(Object(v.eb)(o))}),3e3),t){case 3:return Object(H.jsx)("div",{className:"PE",children:Object(H.jsxs)("div",{className:"actions-btn",children:[Object(H.jsx)(U,{orderDetail:r,token:n,is1155:c,available:a,getOwners1155:i}),Object(H.jsx)("div",{className:"cAFwWB"}),Object(H.jsx)(Y,{orderDetail:r,getOwners1155:i,chainId:l})]})});case 2:return Object(H.jsx)("div",{className:"PE",children:Object(H.jsxs)("div",{className:"actions-btn",style:{display:"flex",justifyContent:"space-between"},children:[Object(H.jsx)(Q,{token:n,is1155:c,available:a,getOwners1155:i}),Object(H.jsx)("div",{className:"cAFwWB"}),Object(H.jsx)(q,{token:n,is1155:c,available:a,web3:s,getOwners1155:i})]})});case 1:return Object(H.jsx)(H.Fragment,{});default:return Object(H.jsx)("div",{})}}n(2366),n(2367);function K(e){var t=e.visible,n=e.orderDetail,r=e.buy,i=e.setCheckout1155,l=Object(b.c)((function(e){return e})),o=l.web3,u=l.balance,j=l.walletAddress,x=z.a.useForm(),p=Object(s.a)(x,1)[0],h=Object(d.useState)(n?parseFloat(o.utils.fromWei(n.price,"ether")):0),O=Object(s.a)(h,2),f=O[0],m=O[1],v=Object(d.useState)(1),k=Object(s.a)(v,2),g=k[0],w=k[1],N=Object(d.useState)(!1),I=Object(s.a)(N,2),S=I[0],E=I[1],A=Object(d.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("0x0000000000000000000000000000000000000000"!==t.tokenPayment){e.next=6;break}t.price>parseInt(1e18*u)?E(!0):E(!1),e.next=10;break;case 6:return e.next=8,Object(y.b)(t.tokenPayment,j);case 8:n=e.sent,t.price>parseInt(n)?E(!0):E(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u,j]);Object(d.useEffect)((function(){j&&n&&A(Object(C.a)(Object(C.a)({},n),{},{amount:g,price:parseInt(g)*parseFloat(n.price)}))}),[A,u,n,j,g]);var B=function(){i(!1)},F=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.validateFields();case 2:(t=e.sent)&&t.amount>=1&&r(Object(C.a)(Object(C.a)({},n),{},{amount:t.amount}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(a.a)(c.a.mark((function e(t,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Enter amount")));case 4:if(!(parseInt(r)>parseInt(n.amount)-parseInt(n.soldAmount))){e.next=8;break}return e.abrupt("return",Promise.reject(new Error("Amount greater available")));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(H.jsxs)(P.a,{title:Object(H.jsx)("p",{className:"textmode mgb-0",style:{fontSize:"28px",fontWeight:"900"},children:"Checkout"}),visible:t,footer:[Object(H.jsx)(D.a,{shape:"round",size:"large",onClick:function(){return B()},children:"Cancel"},"cancel"),S?Object(H.jsx)(D.a,{type:"primary",shape:"round",size:"large",disabled:!0,children:"Insufficient"},"insufficient"):Object(H.jsx)(D.a,{type:"primary",shape:"round",size:"large",onClick:function(){return F()},children:"Payment"},"payment")],centered:!0,width:550,onCancel:B,children:[Object(H.jsx)("p",{className:"textmode mgb-0",style:{fontSize:"14px",fontWeight:"900"},children:"Choose the amount of order you want to buy"}),Object(H.jsxs)(z.a,{form:p,className:"input-checkout-1155",layout:"vertical",children:[Object(H.jsx)(L.a.Group,{children:Object(H.jsx)(z.a.Item,{required:!0,name:["amount"],rules:[{validator:T}],label:"Enter amount. ".concat(n?parseInt(n.amount)-parseInt(n.soldAmount):0," available"),className:"input-amount-checkout1155",children:Object(H.jsx)(W.a,{min:"1",size:"large",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},onChange:function(e){w(e=e||1),A(Object(C.a)(Object(C.a)({},n),{},{amount:e,price:parseInt(e)*parseFloat(n.price)})),m(parseInt(e)*parseFloat(o.utils.fromWei(n.price,"ether")))},placeholder:"Amount"})})}),Object(H.jsx)(L.a.Group,{children:Object(H.jsx)(z.a.Item,{label:"Total payment",children:Object(H.jsx)(L.a,{disabled:!0,size:"large",value:"".concat(f).replace(/\B(?=(\d{3})+(?!\d))/g,","),suffix:"BNB"})})})]})]})}var Z=n(118);function _(e){var t=e.token,n=e.orderDetail,r=e.is1155,i=e.id,l=e.addressToken,o=e.getOwners1155,j=e.setOrderDetail,x=Object(u.f)(),p=Object(d.useState)(!1),h=Object(s.a)(p,2),O=h[0],f=h[1],m=Object(b.c)((function(e){return e})),k=m.balance,g=m.chainId,w=m.walletAddress,N=m.allowanceToken,C=m.web3,I=m.buyError,S=Object(d.useState)(!1),E=Object(s.a)(S,2),A=E[0],B=E[1],F=Object(d.useState)(!1),z=Object(s.a)(F,2),T=z[0],R=z[1],L=Object(d.useState)(!1),W=Object(s.a)(L,2),M=W[0],V=W[1],J=Object(d.useState)(!1),Q=Object(s.a)(J,2),Y=Q[0],q=Q[1],U=Object(d.useState)(!1),G=Object(s.a)(U,2),X=G[0],_=G[1],$=Object(d.useState)(""),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],re=Object(b.b)();Object(d.useEffect)((function(){var e=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.eth.getBalance(w);case 2:t=e.sent,ne(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();w&&e(),"4001"===I?(_(!1),q(!0)):"4000"===I?q(!1):"1"===I&&(j(null),_(!1),V(!1))}),[I,j,w,C.eth]);var ce=Object(d.useCallback)(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("0x0000000000000000000000000000000000000000"!==t.tokenPayment){e.next=7;break}B(!0),t.price>parseInt(1e18*k)?f(!0):f(!1),e.next=15;break;case 7:return e.next=9,Object(y.a)(t.tokenPayment,w,g);case 9:return n=e.sent,e.next=12,Object(y.b)(t.tokenPayment,w);case 12:r=e.sent,t.price>parseInt(r)?f(!0):f(!1),t.price<=parseInt(n)?B(!0):B(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k,w,g]);Object(d.useEffect)((function(){w&&ce(n)}),[ce,w,N,n]);var ae=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,re(Object(v.S)(t,r));case 4:if(!(n=e.sent).status||!n.link){e.next=10;break}if(!r){e.next=9;break}return e.next=9,o();case 9:x.push({pathname:"/token/".concat(g,"/").concat(l,"/").concat(i,"/null")});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,re(Object(v.R)(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(H.jsx)(H.Fragment,{children:w?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(P.a,{title:Object(H.jsx)("h3",{className:"textmode mgb-0",children:"\u8d2d\u4e70"}),visible:M,onCancel:function(){V(!1),_(!1),q(!1)},centered:!0,footer:[Object(H.jsx)(D.a,{style:{width:"280px",height:"42px",background:"#6080b4",borderRadius:"10px",border:"none",marginBottom:"10px"},loading:X,type:"primary",shape:"round",size:"large",onClick:function(){return _(!0),q(!1),void ae(n)},children:X?"\u652f\u4ed8\u4e2d":"\u8d2d\u4e70"},"buy"),Object(H.jsx)("div",{style:{color:"red",marginTop:"5px",display:"".concat(Y?"block":"none")},children:"\u9519\u8bef\uff1a\u652f\u4ed8\u5931\u8d25"},"red")],children:[Object(H.jsxs)("div",{className:"sell-img",style:{borderTop:"1px solid rgba(96,128,180,0.09)",borderBottom:"1px solid rgba(96,128,180,0.09)",padding:"45px 0",display:"flex",alignItems:"center"},children:[Object(H.jsx)("img",{alt:"img-nft",src:t.image}),Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"textmode",children:t.name}),Object(H.jsx)("div",{style:{color:"rgba(0,0,0,0.50)"},children:t.nameCollection}),Object(H.jsxs)("div",{className:"textmode",children:["\u5355\u4ef7: ",Object(H.jsx)("span",{style:{fontWeight:"600",fontSize:"16px"},children:C.utils.fromWei(n.price.toString(),"ether")})," ",4===g?"ETH":"BNB"]})]})]}),Object(H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"},children:["\u8d26\u6237\u4f59\u989d:",Object(H.jsxs)("span",{children:[C.utils.fromWei(te.toString(),"ether").slice(0,6)," ",4===g?"ETH":"BNB"]})]})]}),Object(H.jsx)(K,{visible:T,orderDetail:n,buy:ae,insufficient:O,setCheckout1155:R}),A?O?Object(H.jsx)(D.a,{type:"text",disabled:!0,shape:"round",size:"small",children:"\u4f59\u989d\u4e0d\u8db3"}):Object(H.jsx)(D.a,{className:"buy-btn",type:"text",shape:"round",size:"small",onClick:function(){return r?ie():V(!0)},children:"\u8d2d\u4e70"}):Object(H.jsx)(D.a,{type:"text",shape:"round",size:"small",onClick:se,children:"\u6388\u6743"})]}):Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(D.a,{style:{color:"#6080B4",fontWeight:"bold",fontSize:"15px"},type:"text",shape:"round",size:"small",onClick:Z.b,children:"\u8d2d\u4e70"})})})}var $=n(937),ee=n(2368),te=n.n(ee),ne=i.a.useBreakpoint;function re(){var e=Object(b.c)((function(e){return e})),t=e.web3,n=e.walletAddress,r=e.sellOrderList,i=e.availableSellOrder721,p=e.market,O=e.chainId,f=e.nftList,m=e.convertErc1155Tokens,k=e.availableSellOrder1155,N=e.erc1155Tokens,C=e.infoCollections,S=Object(u.h)(),A=S.chainID,F=S.addressToken,z=S.id,D=S.sellID,P=ne().lg,T=Object(b.b)(),R=Object(u.f)(),L=Object(d.useState)(null),W=Object(s.a)(L,2),M=W[0],V=W[1],J=Object(d.useState)(null),Q=Object(s.a)(J,2),Y=Q[0],q=Q[1],U=Object(d.useState)(!1),G=Object(s.a)(U,2),K=G[0],ee=G[1],re=Object(d.useState)(),ce=Object(s.a)(re,2),ae=ce[0],se=ce[1],ie=Object(d.useState)(1),le=Object(s.a)(ie,2),oe=le[0],de=le[1],be=Object(d.useState)([]),ue=Object(s.a)(be,2),je=ue[0],xe=ue[1],pe=Object(d.useState)([]),he=Object(s.a)(pe,2),Oe=he[0],fe=he[1],me=Object(d.useState)(1),ve=Object(s.a)(me,2),ke=ve[0],ge=ve[1],ye=Object(d.useState)(null),we=Object(s.a)(ye,2),Ne=we[0],Ce=we[1],Ie=Object(d.useState)(!0),Se=Object(s.a)(Ie,2),Ee=Se[0],Ae=Se[1];Object(d.useEffect)((function(){parseInt(O)!==parseInt(A)&&Object(Z.d)(A,n)}),[n,O,A]),Object(d.useEffect)((function(){var e=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(Object(v.db)());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),setTimeout((function(){e(),e()}),500)}),[T]),Object(d.useEffect)((function(){!function(e,t,n,r,c,a,s){g.apply(this,arguments)}(t,f,F,z,N,ge,q)}),[t,f,F,z,N,C]);var Be=Object(d.useCallback)(Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p&&w(m,F,z,O,p,xe,fe);case 1:case"end":return e.stop()}}),e)}))),[m,F,z,O,p]),Fe=Object(d.useCallback)(Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&r&&i&&f)){e.next=5;break}return e.next=3,f.methods.isERC1155(F).call();case 3:e.sent?(Be(),ee(!0),Number.isInteger(parseInt(D))&&"null"!==D?E(i,k,f,r,n,t,D,de,se,R):B(n,de,F,z,O,t)):I(F,i,z,p,f,r,n,t,de,xe,fe,se,R,D);case 5:case"end":return e.stop()}}),e)}))),[F,i,k,z,p,f,r,n,t,D,Be,O,R]);Object(d.useEffect)((function(){Fe()}),[Fe]);var ze=Object(d.useCallback)(Object(a.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae||!O){e.next=14;break}return e.next=3,t.utils.fromWei(ae.price,"ether");case 3:if(n=e.sent,4!==O){e.next=10;break}return e.next=7,Object(y.e)(n);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,Object(y.d)(n);case 12:r=e.sent;case 13:Ce(r);case 14:case"end":return e.stop()}}),e)}))),[ae,t.utils,O]);Object(d.useEffect)((function(){return!Ne&&Ee&&ze(),function(){Ae(!1)}}),[ze,Ne,Ee]);var De=Object(d.useCallback)(Object(a.a)(c.a.mark((function e(){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F||!z){e.next=6;break}return n=new t.eth.Contract(h.abi,F),e.next=4,n.methods.tokenURI(z).call();case 4:r=e.sent,V(r);case 6:case"end":return e.stop()}}),e)}))),[t,F,z]);return Object(d.useEffect)((function(){De()}),[De]),Object(H.jsx)("div",{style:{width:"100%",background:"#f7f8fb"},children:Object(H.jsx)("div",{className:"detail-page center",children:Object(H.jsx)("div",{className:"body-page",children:Y?Object(H.jsxs)("div",{className:"detail-main",children:[P?Object(H.jsxs)("div",{className:"info-wrap-left",children:[Object(H.jsx)("div",{className:"expand-img-nft",children:Object(H.jsx)("div",{className:"image-label center",children:Object(H.jsx)(l.a,{alt:"img-nft",src:Y.image})})}),Object(H.jsx)("div",{className:"description-nft",children:Object(H.jsxs)("div",{className:"content-properties",children:[Object(H.jsx)("div",{className:"title-tab-properties",children:Object(H.jsx)("h3",{className:"nft-h3",children:"\u7b80\u4ecb"})}),Object(H.jsx)("div",{className:"detail-des textmode",children:Y.description})]})}),Object(H.jsx)("div",{className:"properties-nft",children:Object(H.jsxs)("div",{className:"content-properties",children:[Object(H.jsx)("div",{className:"title-tab-properties",children:Object(H.jsx)("h3",{className:"nft-h3",children:"\u5c5e\u6027"})}),Object(H.jsx)("div",{className:"list-properties",children:Object(H.jsx)("div",{className:"items-properties",children:Y.attributes?Y.attributes.map((function(e,t){return Object(H.jsxs)("div",{className:"item-properties",children:[Object(H.jsx)("div",{className:"name-properties",children:e.trait_type}),Object(H.jsx)("div",{className:"value-properties textmode",children:e.display_type&&"date"===e.display_type.toLowerCase()&&te()(e.value).isValid()?te()(e.value.toString().length<13?1e3*e.value:e.value).format("DD-MM-YYYY"):e.value})]},t)})):null})})]})})]}):null,Object(H.jsxs)("div",{className:"info-wrap-right",children:[Object(H.jsxs)("div",{className:"info-order-nft",children:[Object(H.jsx)("div",{className:"detail-title",children:Object(H.jsx)("h1",{children:Y.name})}),"null"!==D?Object(H.jsxs)("div",{className:"show-price",children:[Object(H.jsx)("div",{children:ae?"".concat(t.utils.fromWei(ae.price,"ether")+"".concat(4===O?" ETH":" BNB")):Object(H.jsx)(o.a,{className:"textmode",style:{fontSize:"24px"}})}),Object(H.jsx)("div",{className:"price",children:ae?"\u2248$ ".concat(Ne):""})]}):null,Object(H.jsxs)("div",{className:"collections-nft",children:[Object(H.jsxs)("div",{style:{fontSize:"16px"},children:[Object(H.jsxs)("div",{className:"textBlack",children:["\u4f5c\u8005",Object(H.jsx)("span",{style:{color:"rgba(0,0,0,0.30)"},children:"\uff0810% \u7248\u7a0e\uff09"})]}),Y.nameCollection]}),Object(H.jsxs)("div",{style:{margin:"0 45px"},children:[Object(H.jsx)("div",{className:"textBlack",children:"\u4f5c\u54c1\u96c6"}),Object(H.jsx)(j.b,{to:"/collection/detail/".concat(F.toLowerCase(),"/").concat(n),children:Y.nameCollection})]}),Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{className:"textBlack",children:"\u6301\u6709\u8005"}),je.map((function(e,t){return Object(H.jsx)("div",{className:"avatar-link-available",children:Object(H.jsx)("div",{className:"link-and-available",children:Object(H.jsx)(j.b,{to:"/profile/index/".concat(O,"/").concat(e.owner.toLowerCase()),className:"owner",children:Object(H.jsx)("strong",{children:"".concat(e.owner.slice(0,8),"...").concat(e.owner.slice(e.owner.length-6,e.owner.length))})})})},t)}))]})]})]}),Object(H.jsxs)("div",{className:"purchase-nft",children:[Object(H.jsx)("h3",{className:"nft-h3",children:"\u51fa\u552e\u5217\u8868"}),Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{className:"order-title",children:[Object(H.jsx)("span",{className:"width100",children:"\u5355\u4ef7"}),Object(H.jsx)("span",{className:"width100",children:"\u6570\u91cf"}),Object(H.jsx)("span",{className:"width100",children:"\u5356\u5bb6"})]}),Object(H.jsxs)("div",{className:"order-List",children:[Object(H.jsx)("span",{className:"width100",children:ae&&"null"!==D?Object(H.jsx)("div",{className:"title-and-price",children:Object(H.jsxs)("span",{className:"price-eth color-black",children:[t.utils.fromWei(ae.price,"ether"),4===O?" ETH":" BNB"]})}):Object(H.jsx)(H.Fragment,{children:"--"})}),Object(H.jsx)("span",{className:"width100",children:ae&&"null"!==D?Object(H.jsx)("div",{className:"color-black",children:Oe?Oe[0].value:1}):Object(H.jsx)(H.Fragment,{children:"--"})}),Object(H.jsx)("span",{className:"width100",children:ae&&"null"!==D?Object(H.jsx)("div",{children:Object(H.jsx)(j.b,{to:"/profile/index/".concat(O,"/").concat(ae.seller.toLowerCase()),className:"owner",children:Object(H.jsx)("strong",{style:{color:"#6080B4",fontWeight:"400"},children:"".concat(ae.seller.slice(0,8),"...").concat(ae.seller.slice(ae.seller.length-6,ae.seller.length))})})}):Object(H.jsx)(H.Fragment,{children:"--"})}),Object(H.jsx)("span",{className:"width100",style:{textAlign:"end"},children:!n||n&&ae&&"null"!==D&&ae.seller.toLowerCase()!==n.toLowerCase()?Object(H.jsx)(_,{token:Y,orderDetail:ae,is1155:K,id:z,addressToken:F,getOwners1155:Be,setOrderDetail:se}):null})]})]}),Object(H.jsx)("div",{className:"style-purchase",children:Object(H.jsx)("div",{className:"actions-nft",children:Object(H.jsx)(X,{status:oe,token:Y,orderDetail:ae,is1155:K,available:ke,web3:t,chainId:O})})})]}),Object(H.jsxs)("div",{className:"nft-details",children:[Object(H.jsx)("h3",{className:"nft-h3",children:"\u8be6\u60c5"}),Object(H.jsxs)("div",{className:"flex-between mb15",children:[Object(H.jsx)("div",{className:"color-black",children:"\u5408\u7ea6\u5730\u5740"}),Object(H.jsx)("div",{children:Object(H.jsx)("a",{href:"".concat(Object($.a)(O),"/address/").concat(F),target:"_blank",rel:"noreferrer",className:"href-to-address-contract",children:P?F:"".concat(F.slice(0,8),"...").concat(F.slice(F.length-6,F.length))})})]}),Object(H.jsxs)("div",{className:"flex-between mb15",children:[Object(H.jsx)("div",{className:"color-black",children:"Token ID"}),Object(H.jsx)("div",{className:"color-black",children:z})]}),Object(H.jsxs)("div",{className:"flex-between mb15",children:[Object(H.jsx)("div",{className:"color-black",children:"NFT\u6807\u51c6"}),Object(H.jsx)("div",{className:"color-black",children:"ERC-721"})]}),Object(H.jsxs)("div",{className:"flex-between",children:[Object(H.jsx)("div",{className:"color-black",children:"\u5143\u6570\u636e"}),Object(H.jsx)("div",{className:"href-to-address-contract",children:Object(H.jsx)("a",{href:M,target:"_blank",rel:"noreferrer",className:"href-to-address-contract",children:"IPFS"})})]})]})]})]}):Object(H.jsx)("div",{className:"center",style:{width:"100%",minHeight:"200px"},children:Object(H.jsx)(x.a,{})})})})})}}}]);
//# sourceMappingURL=8.1f94ab1e.chunk.js.map