(this["webpackJsonpdidi-nft"]=this["webpackJsonpdidi-nft"]||[]).push([[11],{2344:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var i=c(33),n=c(973),s=c(0),a=c(176),l=c(2);function o(e){var t=e.title,c=e.visible,o=Object(s.useState)(!1),d=Object(i.a)(o,2),r=d[0],j=d[1];Object(s.useEffect)((function(){j(c)}),[c]);return Object(l.jsx)(n.a,{title:Object(l.jsx)("p",{className:"textmode mgb-0",style:{fontSize:"28px",fontWeight:"900"},children:"Pending"}),visible:r,footer:Object(l.jsx)("div",{}),centered:!0,width:300,onCancel:function(){j(!1)},children:Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)("div",{className:"center",style:{marginRight:"15px"},children:Object(l.jsx)(a.a,{className:"textmode",style:{fontSize:"31px"}})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{className:"textmode mgb-0",style:{fontSize:"20px",fontWeight:"900"},children:t}),Object(l.jsx)("p",{className:"textmode mgb-0",style:{color:"rgba(4, 4, 5, 0.5)",fontSize:"inherit"},children:"Please wait for a second"})]})]})})}},2362:function(e,t,c){},2376:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return N}));var i=c(9),n=c(1),s=c.n(n),a=c(14),l=c(33),o=(c(2362),c(2327)),d=c(2325),r=c(967),j=c(2322),b=c(101),O=c(0),u=c(317),x=c(305),p=c(2344),m=c(61),h=c(228),v=c(19),f=c(79),g=c(2);function N(){var e,t=o.a.TextArea,c=Object(O.useState)([]),n=Object(l.a)(c,2),N=n[0],w=n[1],y=Object(O.useState)(!1),z=Object(l.a)(y,2),F=z[0],S=z[1],I=Object(O.useState)(null),L=Object(l.a)(I,2),k=L[0],R=L[1],A=Object(O.useState)([]),E=Object(l.a)(A,2),P=E[0],Y=E[1],G=d.a.useForm(),M=Object(l.a)(G,1)[0],T=Object(m.b)(),U=Object(f.f)(),W=Object(f.h)().collectionAddress,D=Object(m.c)((function(e){return e})),B=D.walletAddress,J=D.orbitdb,q=D.chainId,H=D.collectionObj,K=D.collectionInfo,Q=Object(O.useRef)(),X=Object(u.a)({accept:"image/*",onDrop:function(e){e[0].size>2048e3?r.b.error("Logo\u6700\u5927\u4e3a2MB!"):w(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),_=X.getRootProps,C=X.getInputProps;Object(O.useEffect)((function(){var e;Q.current.setFieldsValue({description:null===(e=H[W])||void 0===e?void 0:e.description}),R(H[W])}),[H,W]),Object(O.useEffect)((function(){Y(K)}),[K]);var V=function(){var e=Object(a.a)(s.a.mark((function e(t){var c,i,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.description=t.description,!(N.length>0)){e.next=17;break}if(!(N[0].size<=2048e3)){e.next=16;break}return S(!0),(i=new FormData).append("file",N[0]),e.next=8,Object(x.a)(i);case 8:n=e.sent,c="https://gateway.pinata.cloud/ipfs/"+n,S(!1),console.log(c),w([]),M.resetFields(),e.next=17;break;case 16:r.b.warn("Logo\u6700\u5927\u4e3a2MB");case 17:return c&&(k.logo=c),P.forEach((function(e){e.collectionAddress===W&&(e.logo=k.logo,e.description=k.description)})),"/orbitdb/zdpuAoo1YYEnqQWrj5UezXyhMyTcfFDYo85a7Hw8ce9RKw6p2/dev",e.next=23,Object(h.a)("/orbitdb/zdpuAoo1YYEnqQWrj5UezXyhMyTcfFDYo85a7Hw8ce9RKw6p2/dev",J);case 23:if(!(a=e.sent)){e.next=30;break}return e.next=27,a.set("".concat(B,"_").concat(q),P);case 27:return e.next=29,a.set("".concat(W,"_").concat(q),k);case 29:T(Object(v.hb)(P));case 30:U.goBack();case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"edit-collection",children:Object(g.jsxs)("div",{children:[F?Object(g.jsx)(p.a,{title:"Upload Image",visible:!0}):Object(g.jsx)(g.Fragment,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"edit-collection-title",children:"\u7f16\u8f91\u4f5c\u54c1\u96c6"}),Object(g.jsxs)("div",{className:"edit-collection-upload-image",children:[Object(g.jsx)("div",{className:"edit-collection-area-upload",children:Object(g.jsx)("div",{children:Object(g.jsxs)("div",Object(i.a)(Object(i.a)({},_({className:"edit-collection-dropzone"})),{},{children:[Object(g.jsx)("input",Object(i.a)({},C())),N[0]||(null===k||void 0===k?void 0:k.logo)?Object(g.jsx)("div",{className:"preview",children:Object(g.jsx)("img",{src:(null===(e=N[0])||void 0===e?void 0:e.preview)||(null===k||void 0===k?void 0:k.logo),alt:"priview",style:{width:"90%",maxWidth:"208px",height:"208px",objectFit:"contain"}})}):Object(g.jsx)("p",{className:"textmode",style:{textAlign:"center"},children:"\u4e0a\u4f20LOGO"})]}))})}),Object(g.jsxs)("div",{className:"edit-collection-upload-desc",children:[Object(g.jsx)("div",{className:"edit-collection-upLoad-title",children:"\u4fee\u6539LOGO"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:"\u652f\u6301JPG, PNG, GIF"}),Object(g.jsx)("div",{children:"*\u63a8\u8350\u5c3a\u5bf8400*400\uff0c\u4e0d\u8d85\u8fc72M"})]}),Object(g.jsxs)("div",Object(i.a)(Object(i.a)({},_({className:"edit-collection-dropzone"})),{},{children:[Object(g.jsx)("input",Object(i.a)({},C())),Object(g.jsx)("div",{className:"edit-collection-upLoad-btn",children:"\u4fee\u6539"})]}))]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"edit-collection-input-area",children:Object(g.jsxs)(d.a,{onFinish:V,form:M,colon:!1,ref:Q,children:[Object(g.jsx)(d.a.Item,{label:Object(g.jsx)("div",{className:"edit-collection-input-name",children:"\u4f5c\u54c1\u96c6\u540d\u79f0*"}),name:"name",children:Object(g.jsx)("p",{className:"edit-collection-input-value",children:null===k||void 0===k?void 0:k.name})}),Object(g.jsx)("div",{className:"mt25"}),Object(g.jsx)(d.a.Item,{label:Object(g.jsx)("div",{className:"edit-collection-input-name",children:"\u4f5c\u54c1\u96c6\u4ee3\u7801*"}),name:"name",children:Object(g.jsx)("p",{className:"edit-collection-input-value",children:null===k||void 0===k?void 0:k.symbol})}),Object(g.jsx)("div",{className:"mt25"}),Object(g.jsx)(d.a.Item,{className:"description",name:"description",label:Object(g.jsx)("div",{className:"edit-collection-input-name",children:"\u7b80\u4ecb"}),children:Object(g.jsx)(t,{className:"input-name-nft input-mode-bc content-description",autoSize:{minRows:2},placeholder:"\u8bf7\u8f93\u5165\u7b80\u4ecb",size:"large",maxLength:"500"})}),Object(g.jsx)(d.a.Item,{style:{marginTop:"40px"},children:Object(g.jsx)(j.a,{justify:"center",children:Object(g.jsx)(b.a,{className:"btn-create-item",htmlType:"submit",shape:"round",size:"large",children:"\u4fdd\u5b58"})})})]})})})]})]})})})}}}]);
//# sourceMappingURL=11.d4d797bb.chunk.js.map