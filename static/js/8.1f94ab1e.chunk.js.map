{"version":3,"sources":["Views/DetailNFT/helperGetNFTDetails.js","Views/DetailNFT/helperGetOwner1155.js","Views/DetailNFT/helperStatusActions721.js","Views/DetailNFT/DetailsNftOrder/helperStatusActions1155Order.js","Views/DetailNFT/DetailsNftProfile/helperStatusActions1155Profile.js","Components/SellModal/index.js","Components/Sell/index.js","Components/Cancel/index.js","Components/Transfer/index.js","Assets/icons/send.png","Components/UpdatePrice/index.js","Utils/useInterval.js","Views/DetailNFT/RenderSwitch.js","Components/ModalBuy1155/index.js","Components/BuySmall/index.js","Views/DetailNFT/index.js"],"names":["web3","nftList","addressToken","id","erc1155Tokens","setAvailable","setToken","a","methods","isERC1155","call","is1155","store","dispatch","getCollection","nameCollection","collection","name","eth","Contract","sampleAbiERC1155","abi","erc1155Instances","uri","tokenURI","i","length","token","toLowerCase","parseInt","index","value","ERC721","erc721Instances","axios","get","req","data","description","image","imgNotFound","attributes","helperGetOwner1155","convertErc1155Tokens","chainId","market","setOwners","setOwnersOnSale","onSaleOfAddressToken","tokens","filter","order","getAllOwnersOf1155","_address","ownerNoMarket","ownersOf1155","helperStatusActions721","availableSellOrder721","sellOrderList","walletAddress","setStatus","setOrderDetail","history","sellID","ownerOf","tokenOwner","owner","totalSupply","getSellOrderById","isActive","seller","price","tokenPayment","sellId","amount","push","checkDuplicateERC721","isSelling","isOnList","fil","nftAddress","tokenId","console","log","helperStatusActions1155Order","availableSellOrder1155","sellOrder","helperStatusActions1155Profile","setBalanceOf","nft","balanceOf","CreateModal","visible","approve","selling","handleOk","setIsLoading","useState","isModalVisible","setIsModalVisible","useEffect","tryAgain","footer","centered","width","onCancel","style","display","flexDirection","alignItems","margin","justifyContent","className","color","src","Dui","alt","type","loading","height","borderRadius","marginTop","background","border","onClick","Sell","available","getOwners1155","useDispatch","useHistory","useSelector","state","approveError","sellError","useParams","isLoading","setApprove","setSelling","receivedPrice","setReceivedPrice","Form","useForm","form","useCallback","validateFields","values","parseFloat","createSellOrder","utils","toWei","toString","result","status","resetFields","pathname","checkAmount","_","Promise","reject","Error","resolve","size","title","SELL_ERROR","shape","layout","gutter","xs","span","md","htmlFor","Group","compact","label","Item","rules","required","message","min","formatter","replace","placeholder","addonAfter","onChange","val","toFixed","validator","Cancel","orderDetail","cancelError","cancelOrder","setCancelOrder","handleCancel","cancel","cancelSellOrder","textAlign","marginBottom","marginLeft","Transfer","transferError","transferTo","setTransferTo","transfer","setTransfer","transferNft","checkAddress","isAddress","cursor","marginRight","fontSize","e","target","UpdatePrice","updateError","update","setUpdate","updatePrice","defaultValue","disabled","useInterval","callback","delay","savedCallback","useRef","current","setInterval","clearInterval","RenderSwitch","setBalance","ModalBuy1155","buy","setCheckout1155","balance","fromWei","totalPayment","setTotalPayment","setAmount","insufficient","setInsufficient","fetchBalance","_tokenBal","soldAmount","fontWeight","suffix","BuySmall","allowanceToken","buyError","approvedToken","setApprovedToken","Checkout1155","buying","setBuying","money","setMoney","getBalance","allowance","buyNft","link","approveToken","checkout1155","borderTop","borderBottom","padding","slice","connectWeb3Modal","useBreakpoint","Grid","DetailNFT","infoCollections","chainID","lg","metadata","setMetadata","setIs1155","owners","ownersOnSale","getUsd","setGetUsd","useStatus","setUseStatus","selectChain","fetchSetAvailableOrdersNew","setAvailableSellOrder","setTimeout","helperGetNFTDetails","statusActions","Number","isInteger","getCountPrice","getPriceETH","countPrice","getPriceBNB","getMetadata","abiERC721","tokenUri","map","attr","trait_type","display_type","moment","isValid","format","LoadingOutlined","to","href","getRootExplorer","rel","minHeight","IconLoading"],"mappings":"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","file":"static/js/8.1f94ab1e.chunk.js","sourcesContent":["import sampleAbiERC1155 from 'Contracts/SampleERC1155.json';\r\nimport ERC721 from 'Contracts/ERC721.json';\r\nimport axios from 'axios';\r\nimport imgNotFound from 'Assets/notfound.png';\r\nimport { getCollection } from 'Store/actions';\r\nimport store from 'Store/index';\r\n\r\nexport default async function helperGetNFTDetails(\r\n  web3,\r\n  nftList,\r\n  addressToken,\r\n  id,\r\n  erc1155Tokens,\r\n  setAvailable,\r\n  setToken\r\n) {\r\n  if (web3 && nftList) {\r\n    let is1155 = await nftList.methods.isERC1155(addressToken).call();\r\n    let tokenURI;\r\n    let nameCollection = (await store.dispatch(getCollection(addressToken, null))).collection.name;\r\n    if (is1155) {\r\n      const erc1155Instances = await new web3.eth.Contract(sampleAbiERC1155.abi, addressToken);\r\n      tokenURI = await erc1155Instances.methods.uri(id).call();\r\n      if (!!erc1155Tokens) {\r\n        for (let i = 0; i < erc1155Tokens.length; i++) {\r\n          const token = erc1155Tokens[i];\r\n          if (\r\n            token.addressToken.toLowerCase() === addressToken.toLowerCase() &&\r\n            parseInt(token.index) === parseInt(id)\r\n          ) {\r\n            setAvailable(token.value);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      const erc721Instances = await new web3.eth.Contract(ERC721.abi, addressToken);\r\n      tokenURI = await erc721Instances.methods.tokenURI(id).call();\r\n    }\r\n    // get token info\r\n    try {\r\n      let req = await axios.get(tokenURI);\r\n      const data = req.data;\r\n      setToken({\r\n        name: !!data.name ? data.name : 'Unnamed',\r\n        description: !!data.description ? data.description : '',\r\n        image: !!data.image ? data.image : imgNotFound,\r\n        nameCollection,\r\n        attributes: !!data.attributes ? data.attributes : [],\r\n      });\r\n    } catch (error) {\r\n      setToken({\r\n        name: 'Unnamed',\r\n        description: '',\r\n        image: imgNotFound,\r\n        nameCollection: 'Unnamed',\r\n        attributes: [],\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { getAllOwnersOf1155 } from 'Utils/helper';\r\n\r\nexport default async function helperGetOwner1155(\r\n  convertErc1155Tokens,\r\n  addressToken,\r\n  id,\r\n  chainId,\r\n  market,\r\n  // setTotalSupply,\r\n  setOwners,\r\n  setOwnersOnSale\r\n) {\r\n  let onSaleOfAddressToken = [];\r\n  for (let i = 0; i < convertErc1155Tokens.length; i++) {\r\n    const collection = convertErc1155Tokens[i];\r\n    if (collection.addressToken.toLowerCase() === addressToken.toLowerCase()) {\r\n      onSaleOfAddressToken = collection.tokens;\r\n      break;\r\n    }\r\n  }\r\n  onSaleOfAddressToken = onSaleOfAddressToken.filter(\r\n    (order) => parseInt(order.index) === parseInt(id)\r\n  );\r\n  const ownerNoMarket = await getAllOwnersOf1155(addressToken, id, chainId, market._address);\r\n  // const totalSupplyNFT = ownerNoMarket.totalSupply;\r\n  // setTotalSupply(totalSupplyNFT);\r\n\r\n  setOwners(ownerNoMarket.ownersOf1155);\r\n  setOwnersOnSale(onSaleOfAddressToken);\r\n}\r\n","import ERC721 from 'Contracts/ERC721.json';\r\n\r\nexport default async function helperStatusActions721(\r\n  addressToken,\r\n  availableSellOrder721,\r\n  id,\r\n  market,\r\n  nftList,\r\n  sellOrderList,\r\n  walletAddress,\r\n  web3,\r\n  setStatus,\r\n  setOwners,\r\n  setOwnersOnSale,\r\n  setOrderDetail,\r\n  history,\r\n  sellID\r\n) {\r\n  if (web3 && sellOrderList && availableSellOrder721 && nftList) {\r\n    try {\r\n      const erc721Instances = await new web3.eth.Contract(ERC721.abi, addressToken);\r\n      let tokenOwner;\r\n      if (sellID === 'null') {\r\n        tokenOwner = await erc721Instances.methods.ownerOf(id).call();\r\n        setOwners([{ owner: tokenOwner, totalSupply: 1, value: 1 }]);\r\n      } else {\r\n        // check if user is owner of token\r\n        const order = await sellOrderList.methods.getSellOrderById(sellID).call();\r\n        if (order.isActive) {\r\n          tokenOwner = order.seller;\r\n          setOwners([{ owner: tokenOwner, totalSupply: 1, value: 1 }]);\r\n          setOwnersOnSale([\r\n            {\r\n              seller: tokenOwner,\r\n              totalSupply: 1,\r\n              value: 1,\r\n              price: order.price,\r\n              tokenPayment: order.token,\r\n              sellId: order.sellId,\r\n              amount: order.amount,\r\n            },\r\n          ]);\r\n        } else {\r\n          history.push('/404');\r\n        }\r\n      }\r\n\r\n      let isSelling;\r\n\r\n      if (!!walletAddress) {\r\n        isSelling = await sellOrderList.methods\r\n          .checkDuplicateERC721(addressToken, id, walletAddress)\r\n          .call();\r\n      }\r\n      \r\n      if (walletAddress && isSelling) {\r\n        setStatus(3);\r\n      } else if (walletAddress && tokenOwner.toLowerCase() === walletAddress.toLowerCase()) {\r\n        // Check if the token is in the order list?\r\n        let isOnList = await sellOrderList.methods\r\n          .checkDuplicateERC721(addressToken, id, tokenOwner)\r\n          .call();\r\n          \r\n        isOnList ? setStatus(3) : setStatus(2);\r\n      } else {\r\n        let isOnList = await sellOrderList.methods\r\n          .checkDuplicateERC721(addressToken, id, tokenOwner)\r\n          .call();\r\n          \r\n        isOnList || tokenOwner === market._address ? setStatus(1) : setStatus(0);\r\n      }\r\n      let fil = availableSellOrder721.filter(\r\n        (token) =>\r\n          token.nftAddress.toLowerCase() === addressToken.toLowerCase() && token.tokenId === id\r\n      );\r\n      if (!!fil[0]) {\r\n        setOrderDetail({ ...fil[0], tokenPayment: fil[0].token });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      // history.push('/404');\r\n    }\r\n  }\r\n}\r\n","export default async function helperStatusActions1155Order(\r\n  availableSellOrder721,\r\n  availableSellOrder1155,\r\n  nftList,\r\n  sellOrderList,\r\n  walletAddress,\r\n  web3,\r\n  sellID,\r\n  setStatus,\r\n  setOrderDetail,\r\n  history\r\n) {\r\n  if (web3 && sellOrderList && availableSellOrder721 && nftList) {\r\n    try {\r\n      const sellOrder = await sellOrderList.methods.getSellOrderById(sellID).call();\r\n      if (sellOrder.isActive) {\r\n        if (!!walletAddress) {\r\n          if (sellOrder.seller.toLowerCase() === walletAddress.toLowerCase()) {\r\n            setStatus(3);\r\n          } else {\r\n            setStatus(1);\r\n          }\r\n        } else {\r\n          setStatus(1);\r\n        }\r\n        let fil = availableSellOrder1155.filter((token) => token.sellId === sellID);\r\n        if (!!fil[0]) {\r\n          setOrderDetail({ ...fil[0], tokenPayment: fil[0].token });\r\n        }\r\n      } else {\r\n        history.push('/404');\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      // message.error(\"NFT doesn't exist!\");\r\n      history.push('/404');\r\n    }\r\n  }\r\n}\r\n","import sampleAbiERC1155 from 'Contracts/SampleERC1155.json';\r\n\r\nexport default async function helperStatusActions1155Profile(\r\n  walletAddress,\r\n  setStatus,\r\n  addressToken,\r\n  id,\r\n  chainId,\r\n  web3,\r\n  setBalanceOf\r\n) {\r\n  if (!!chainId && !!id && !!addressToken) {\r\n    try {\r\n      if (!!walletAddress) {\r\n        const nft = new web3.eth.Contract(sampleAbiERC1155.abi, addressToken);\r\n        const balanceOf = await nft.methods.balanceOf(walletAddress, id).call();\r\n        setBalanceOf(balanceOf);\r\n        if (balanceOf > 0) {\r\n          setStatus(2);\r\n        } else {\r\n          setStatus(0);\r\n        }\r\n      } else {\r\n        setStatus(0);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      // message.error(\"NFT doesn't exist!\");\r\n    }\r\n  }\r\n}\r\n","import { Modal, Button, Space } from 'antd';\r\nimport { useEffect, useState } from 'react';\r\nimport './index.scss';\r\nimport Dui from 'Assets/icons/dui.png'\r\n\r\nexport default function CreateModal({ visible, approve, selling, handleOk, setIsLoading }) {\r\n  // const dispatch = useDispatch();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsModalVisible(visible);\r\n  }, [visible]);\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const tryAgain = async () => {\r\n    handleOk();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      visible={isModalVisible}\r\n      footer={<div />}\r\n      centered\r\n      width={500}\r\n      onCancel={handleCancel}\r\n    >\r\n      <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n        <div style={{ width: '90%', margin: '25px 0' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div className=\"textMode\"><span className=\"one\">1</span><span>授权</span></div>\r\n            {approve === '3' ? <div style={{ color: '#43A047' }}>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>出售此作品集中的作品需进行一次性授权。</div>\r\n          {approve === '1' ? <Space style={{ width: '100%' }}>\r\n            <Button type=\"primary\" loading style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              授权中\r\n            </Button>\r\n          </Space> : approve === '2' ? <Space style={{ width: '100%', display: 'flex', flexDirection: 'column' }}>\r\n            <Button onClick={() => { tryAgain() }} type=\"primary\" style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n        <div style={{ width: '90%', margin: '25px 0' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <div className=\"textMode\"><span className=\"one\">2</span><span>上架出售</span></div>\r\n            {selling === '3' ? <div style={{ color: '#43A047' }}>\r\n              已完成\r\n              <img src={Dui} alt='yes' style={{ width: '22px' }} />\r\n            </div> : null}\r\n          </div>\r\n          <div>上架出售需支付一笔矿工费。</div>\r\n          {selling === '1' ? <Space style={{ width: '100%' }}>\r\n            <Button type=\"primary\" loading style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              上架中\r\n            </Button>\r\n          </Space> : selling === '2' ? <Space style={{ width: '100%', display: 'flex', flexDirection: 'column', height: '50px' }}>\r\n            <Button onClick={() => { tryAgain() }} type=\"primary\" style={{ width: '400px', height: '40px', borderRadius: '10px', marginTop: '10px', background: '#6080b4', border: 'none' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { Button, InputNumber, Modal, Form, Input, Col, Row } from 'antd';\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { createSellOrder, SELL_ERROR } from 'Store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SellModal from 'Components/SellModal';\r\n\r\nimport './index.scss';\r\n\r\nexport default function Sell({ token, is1155, available, getOwners1155 }) {\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n\r\n  const { web3, chainId, approveError, sellError } = useSelector((state) => state);\r\n  const { addressToken, id } = useParams();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [approve, setApprove] = useState('0');\r\n  const [selling, setSelling] = useState(false);\r\n  const [receivedPrice, setReceivedPrice] = useState('');\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    if (approveError === '4001') {\r\n      setApprove('2')\r\n    } else if (approveError === '4000') {\r\n      setApprove('1')\r\n    } else if (approveError === '1') {\r\n      setApprove('3')\r\n      setSelling('1')\r\n    }\r\n    if (sellError === '4001') {\r\n      setSelling('2');\r\n    } else if (sellError === '4000') {\r\n      setSelling('1');\r\n    } else if (sellError === '1') {\r\n      setSelling('0');\r\n      setSelling('3');\r\n    }\r\n  }, [approveError, sellError])\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = useCallback(async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values && parseFloat(values.price) > 0) {\r\n      setIsLoading(true);\r\n      setApprove('1');\r\n      const result = await dispatch(\r\n        createSellOrder(\r\n          addressToken,\r\n          id,\r\n          web3.utils.toWei(values.price.toString(), 'ether'),\r\n          '0x0000000000000000000000000000000000000000',\r\n          !!values.amount ? values.amount : 1\r\n        )\r\n      );\r\n      \r\n      if (!!result.status) {\r\n        if (!!is1155) {\r\n          await getOwners1155();\r\n        }\r\n        setIsModalVisible(false);\r\n        form.resetFields();\r\n        history.push({\r\n          pathname: `/token/${chainId}/${addressToken}/${id}/${result.sellId}`,\r\n        });\r\n      }\r\n    }\r\n  }, [\r\n    dispatch,\r\n    addressToken,\r\n    id,\r\n    web3.utils,\r\n    is1155,\r\n    history,\r\n    form,\r\n    getOwners1155,\r\n    chainId,\r\n  ]);\r\n\r\n  const handleCancel = () => {\r\n    dispatch({ type: SELL_ERROR, sellError: '0' });\r\n    setIsModalVisible(false);\r\n    form.resetFields();\r\n  };\r\n\r\n  const checkAmount = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('Enter amount'));\r\n    } else if (parseInt(value) > parseInt(available)) {\r\n      return Promise.reject(new Error('Not enough amount'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className='gSzfBw'>\r\n        <Button style={{ background: '#6080b4', border: 'none', borderRadius: '10px' }} type='primary' size='large' onClick={showModal}>\r\n          出售\r\n        </Button>\r\n      </div>\r\n\r\n      <Modal\r\n        title={<h3 className='textmode mgb-0'>出售</h3>}\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        centered\r\n        footer={[\r\n          <Button\r\n            style={{ width: '220px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none' }}\r\n            key='sell'\r\n            type='primary'\r\n            shape='round'\r\n            size='large'\r\n            onClick={() => handleOk()}\r\n          >\r\n            出售\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <Form form={form} className='input-sell' layout='vertical'>\r\n          <Row gutter={[5, 10]}>\r\n            <Col xs={{ span: 24 }} md={{ span: is1155 ? 17 : 24 }}>\r\n              <div className='ant-col ant-form-item-label'>\r\n                <label htmlFor='price' className='ant-form-item-required' title='Price'>\r\n                  价格\r\n                </label>\r\n              </div>\r\n              <Input.Group compact label='Price'>\r\n                <Form.Item\r\n                  name={['price']}\r\n                  rules={[{ required: true, message: '请输入价格' }]}\r\n                  style={{ width: '60%' }}\r\n                >\r\n                  <InputNumber\r\n                    style={{ width: '460px', borderRadius: '0px' }}\r\n                    min='0.01'\r\n                    size='large'\r\n                    formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                    placeholder='请输入价格'\r\n                    addonAfter={chainId === 4 ? 'ETH' : 'BNB'}\r\n                    onChange={(val) => setReceivedPrice((val * 0.975).toFixed(4))}\r\n                  />\r\n                </Form.Item>\r\n              </Input.Group>\r\n              <div className='flex-between'>\r\n                <div>服务费率：</div>\r\n                <div><span className='bold'>2.50</span>%</div>\r\n              </div>\r\n              <div className='flex-between'>\r\n                <div>版税率：</div>\r\n                <div><span className='bold'>0</span>%</div>\r\n              </div>\r\n              <div className='flex-between'>\r\n                <div>你将获得的总金额：</div>\r\n                <div><span className='bold'>{receivedPrice}</span>{chainId === 4 ? 'ETH' : 'BNB'}</div>\r\n              </div>\r\n            </Col>\r\n            {is1155 ? (\r\n              <Col xs={{ span: 24 }} md={{ span: 7 }}>\r\n                <Input.Group>\r\n                  <Form.Item\r\n                    required\r\n                    name={['amount']}\r\n                    rules={[{ validator: checkAmount }]}\r\n                    label='Amount'\r\n                    className='input-amount-sell textmode'\r\n                  >\r\n                    <InputNumber\r\n                      min='1'\r\n                      size='large'\r\n                      formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      placeholder='Amount'\r\n                      className='textmode'\r\n                    />\r\n                  </Form.Item>\r\n                </Input.Group>\r\n              </Col>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Row>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {!!isLoading ?\r\n        <SellModal\r\n          visible={true}\r\n          approve={approve}\r\n          selling={selling}\r\n          setIsLoading={setIsLoading}\r\n          handleOk={handleOk}\r\n        /> : <></>}\r\n    </>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Modal, Space } from 'antd';\r\nimport { cancelSellOrder } from 'Store/actions';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nexport default function Cancel({ orderDetail, is1155, getOwners1155, chainId }) {\r\n  const { cancelError } = useSelector((state) => state);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [cancelOrder, setCancelOrder] = useState('0');\r\n  const dispatch = useDispatch();\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n    setCancelOrder('1');\r\n  };\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (cancelError === '4001') {\r\n      setCancelOrder('2');\r\n    } else if (cancelError === '4000') {\r\n      setCancelOrder('1');\r\n    } else if (cancelError === '1') {\r\n      setCancelOrder('0');\r\n    }\r\n  }, [cancelError])\r\n\r\n  let history = useHistory();\r\n\r\n  const cancel = async () => {\r\n    if (orderDetail && orderDetail.sellId) {\r\n      setIsLoading(true);\r\n      setCancelOrder('1');\r\n      let result = await dispatch(cancelSellOrder(orderDetail));\r\n      if (!!result) {\r\n        setIsModalVisible(false);\r\n        setIsLoading(false);\r\n        if (!!is1155) {\r\n          await getOwners1155();\r\n        }\r\n        history.push({\r\n          pathname: `/token/${chainId}/${orderDetail.nftAddress}/${orderDetail.tokenId}/null`,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='gSzfBw'>\r\n      <Button style={{ borderRadius: '10px' }} size='large' onClick={showModal} className='btn-cancel-sell'>\r\n        下架\r\n      </Button>\r\n      <Modal title=\"下架\" onCancel={handleCancel} visible={isModalVisible} footer={<div />} centered>\r\n        <p style={{ textAlign: 'center' }}>下架后您仍然可以重新出售</p>\r\n        <p style={{ textAlign: 'center', marginBottom: '30px' }}>下架物品需要发起一笔交易</p>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', width: '100%' }}>\r\n          <Button\r\n            style={{ width: '210px', height: '42px', background: '#fff', borderRadius: '10px', border: '1px solid #6080b4', color: '#6080b4' }}\r\n            size='large' onClick={handleCancel} className='btn-cancel-sell'>\r\n            取消\r\n          </Button>\r\n          {cancelOrder === '1' ? <Space style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={cancel} type=\"primary\" loading={isLoading} style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff' }}>\r\n              {!!isLoading ? '下架中' : '下架'}\r\n            </Button>\r\n          </Space> : cancelOrder === '2' ? <Space style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={cancel} type=\"primary\" style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff', marginLeft: '20px' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </Modal>\r\n    </div >\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport { useState, useEffect } from 'react';\r\nimport { Modal, Button, Input, Form, InputNumber, Col, Row } from 'antd';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { transferNft } from 'Store/actions';\r\nimport send from 'Assets/icons/send.png';\r\n\r\nexport default function Transfer({ token, is1155, available, web3, getOwners1155 }) {\r\n  const { transferError } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [transferTo, setTransferTo] = useState('');\r\n  const { addressToken, id } = useParams();\r\n  const [transfer, setTransfer] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    if (transferError === '4001') {\r\n      setIsLoading(false);\r\n      setTransfer(true);\r\n    } else if (transferError === '4000') {\r\n      setTransfer(false);\r\n    } else if (transferError === '1') {\r\n      setIsLoading(false);\r\n      setIsModalVisible(false);\r\n    }\r\n  }, [transferError])\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values) {\r\n      setIsLoading(true);\r\n      setTransfer(false);\r\n      await dispatch(transferNft(addressToken, transferTo, id, values.amount, is1155));\r\n      // await getOwners1155();\r\n\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n    setTransfer(false);\r\n    form.resetFields();\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setTransferTo(e.target.value);\r\n  };\r\n\r\n  const checkAmount = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('Enter amount'));\r\n    } else if (parseInt(value) > parseInt(available)) {\r\n      return Promise.reject(new Error('Not enough amount'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n  const checkAddress = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('请输入地址'));\r\n    } else if (!web3.utils.isAddress(value)) {\r\n      return Promise.reject(new Error('地址格式不正确'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ cursor: 'pointer', display: 'flex', flexDirection: 'row', alignItems: 'center' }} onClick={showModal}>\r\n        <img style={{ marginRight: '5px' }} width={14} src={send} alt='send' /><div style={{ color: '#6080B4', fontSize: '15px' }}>赠送</div>\r\n      </div>\r\n      <Modal\r\n        width={550}\r\n        title={<h3 className='textmode mgb-0'>赠送</h3>}\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        centered\r\n        footer={[\r\n          <Button key='cancel' shape='round' size='large' onClick={() => handleCancel()} style={{ width: '220px', height: '42px', borderRadius: '10px', border: '1px solid #6080b4', color: '#6080b4' }}>\r\n            取消\r\n          </Button>,\r\n          <Button key='sell' type='primary' loading={isLoading} shape='round' size='large' onClick={() => handleOk()} style={{ width: '220px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', display: `${!!transfer ? 'none' : 'inline-block'}` }}>\r\n            {!!isLoading ? '支付中' : '赠送'}\r\n          </Button>,\r\n          <Button key='transfer' type='primary' loading={isLoading} shape='round' size='large' onClick={() => handleOk()} style={{ width: '220px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', display: `${!transfer ? 'none' : 'inline-block'}` }}>\r\n            再试一次\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <div className='price-des'>\r\n          <Form form={form} layout='vertical' className='input-transfer'>\r\n            <Row gutter={[5, 10]}>\r\n              <Col xs={{ span: 24 }} md={{ span: is1155 ? 17 : 24 }}>\r\n                <div style={{ marginBottom: '20px' }}>赠送物品需要发起一笔交易</div>\r\n                <Form.Item\r\n                  name={['address']}\r\n                  rules={[{ validator: checkAddress }]}\r\n                  label='接收地址'\r\n                  required\r\n                >\r\n                  <Input\r\n                    width={200}\r\n                    size='large'\r\n                    className='search-style'\r\n                    onChange={onChange}\r\n                    placeholder='请输入地址'\r\n                  />\r\n                </Form.Item>\r\n                <div style={{ color: 'red', width: '100%', textAlign: 'center', marginTop: '10px', display: `${!!transfer ? 'block' : 'none'}` }}>错误：您在钱包中拒绝支付</div>\r\n              </Col>\r\n              {is1155 ? (\r\n                <Col xs={{ span: 24 }} md={{ span: 7 }}>\r\n                  <Form.Item\r\n                    name={['amount']}\r\n                    rules={[{ validator: checkAmount }]}\r\n                    label='Amount'\r\n                    required\r\n                  >\r\n                    <InputNumber\r\n                      min='1'\r\n                      size='large'\r\n                      className='search-style input-amount-transfer input-sell'\r\n                      formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      placeholder='Set amount'\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              ) : null}\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAA5tJREFUWEfFV9lPE2EQ/xVbUcCgcpRLKIeClktCW4kPUBAEffNJy/Hoiwd4ofEPEO9okGhiYjQBr6BGwcQoXugDNyhCOMpZUgSW+6bHmm+bAm2hbFuQedlkd3bm983Mb2Y+Dk3TNP6zKAcm0NBOoaFtAPKeYUSFeIDzP4CMTsyisZ3Cn3aKeY6Mzxgc3XEzb22AzKk0aOoaYk5MHPf0j5uN+d5g/uoAIcntUI4w4SaO5YphqDVa1gnPOBxmPZD+4Sk0tOkcN3ZQmJpRsXZsrHgjM549kMlpFeNQV2QUqJEpqx0v/tHT1QlXTsQuD4SEtrV7WOe4fQDdvWPQrgHBDsYE4GjSbkMgir6x+RO3dA+BFN1ay/l0CYQBruC0KobozxVdTK7HJmfX2q+BfXveBty7mATuBjtwMm9+ognP10MidvGRdSyacc3Je1lNVzb2rgqOEIELY6epc5CVvfRDoYgX+emAqDVa+uGbOpT/UbL62ViJdMX9ET6IjfLF95pufCzrYG3n+mkp3LY56IDoW3zBh0aUlLM3EuizDdJoP4iFntBoaTworMGv1n7WIDxcnJBzMnZe32DWFP+Q49WX5mWNbbbnYl+YNwNgB38Lozc4Oo07TytXbOPGRhMl/pAl71kaCHlbWqvAk+J6aLULQ9nXwxnSaF/EhHuDVLpeyOTMfV5tFdvOpYkRGui2PBDypba5D4/e/kZkMJ8BEOC91SRKZfVKPHr3Gyq15b1mI6FtdhJ4XDvzQMhX0kQ5nKWz9PprC4pKW1nXg7Fi+E53nJGJDF5btI+o1FoQhtlK97QUIRLEAuuAkKZ391kVM+5tlaunpOBv19FWL6wjcjnvO3qpCVsxwH27I66dijOxwxpI5s0Sq9hh7PGAWIDUFOH6AzmTKkZ40AJtLU7NakSEx9VN242LaLsuQMKC3HA2VbxknVldI2TYxYsEeP9TbtCFzVWzLFmIRIkhbW2KiMMmHrIzJPDzdGa68P3CWlYdNudkHDxcHFcnIgTEhQwJBJ7O8wbJWkl6jLlNnox7MvaXE4tSQxZqsmP6ey2A0Bsml6hb+RUmtzj99wSRAGmHTGlrcWou5X7D8SORSw5AvTFqZBq38svxd3DS5OBZMhEidrrbHhElNQEvV6cVO+v41BxuF1SgUzk6r8vQNjsRZOranJoVESxSmJnTIPdFFXMzIEKuCySl5oR1jVgChOiS9fFxUT3qmvuYlJIeYk7+AeqE7cjoZdeEAAAAAElFTkSuQmCC\"","import 'Views/DetailNFT/index.scss';\r\nimport { Button, InputNumber, Modal, Form, Input, Col, Row, Space } from 'antd';\r\nimport { useState, useCallback, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { updatePrice } from 'Store/actions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport '../Sell/index.scss';\r\n\r\nexport default function UpdatePrice({ orderDetail, token, is1155, available, getOwners1155 }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const { web3, chainId, updateError } = useSelector((state) => state);\r\n\r\n  const { sellID } = useParams();\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [update, setUpdate] = useState('0');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n    setUpdate('1');\r\n  };\r\n\r\n  const handleOk = useCallback(async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values && parseFloat(values.price) > 0) {\r\n      setIsLoading(true);\r\n      setUpdate('1');\r\n      let result = await dispatch(updatePrice(sellID, web3.utils.toWei(values.price.toString(), 'ether')));\r\n      if (!!result) {\r\n        console.log(result);\r\n        setIsModalVisible(false);\r\n        setUpdate('0');\r\n        setIsLoading(false);\r\n        form.resetFields();\r\n      }\r\n    }\r\n  }, [dispatch, web3.utils, sellID, form]);\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n    setUpdate('0');\r\n    form.resetFields();\r\n  };\r\n\r\n  //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n  //actions里面 交易的时候会根据用户的操作 来返回相应的code 再作处理\r\n  useEffect(() => {\r\n    if (updateError === '4001') {\r\n      setUpdate('2');\r\n    } else if (updateError === '4000') {\r\n      setUpdate('1');\r\n    } else if (updateError === '1') {\r\n      setUpdate('0');\r\n    }\r\n  }, [updateError])\r\n\r\n  return (\r\n    <div className='gSzfBw'>\r\n      <Button key='change' style={{ background: '#6080B4', border: 'none', borderRadius: '10px' }} type='primary' size='large' onClick={showModal}>\r\n        更改价格\r\n      </Button>\r\n      <Modal\r\n        title={<h3 className='textmode mgb-0'>更改价格</h3>}\r\n        visible={isModalVisible}\r\n        onCancel={handleCancel}\r\n        footer={<div />}\r\n        centered\r\n      >\r\n        <Form form={form} className='input-sell' layout='vertical'>\r\n          <Row gutter={[5, 10]}>\r\n            <Col xs={{ span: 24 }} md={{ span: is1155 ? 17 : 24 }}>\r\n              <div className='ant-col ant-form-item-label'>\r\n                <label htmlFor='price' className='ant-form-item-required' title='Price'>\r\n                  价格\r\n                </label>\r\n              </div>\r\n              <Input.Group compact label='Price'>\r\n                <Form.Item\r\n                  name={['price']}\r\n                  rules={[{ required: true, message: '请输入价格' }]}\r\n                  className='input-price'\r\n                >\r\n                  <InputNumber\r\n                    style={{ width: '460px', borderRadius: '0px' }}\r\n                    min='0.01'\r\n                    size='large'\r\n                    className='search-style'\r\n                    formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                    placeholder='请输入最新价格'\r\n                    addonAfter={chainId === 4 ? 'ETH' : 'BNB'}\r\n                  />\r\n                </Form.Item>\r\n              </Input.Group>\r\n            </Col>\r\n            {is1155 ? (\r\n              <Col xs={{ span: 24 }} md={{ span: 7 }}>\r\n                <Input.Group>\r\n                  <Form.Item\r\n                    required\r\n                    name={['amount']}\r\n                    label='Amount'\r\n                    className='input-amount-sell'\r\n                  >\r\n                    <InputNumber\r\n                      min='1'\r\n                      size='large'\r\n                      defaultValue={!!orderDetail ? orderDetail.amount : 0}\r\n                      formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n                      placeholder='Amount'\r\n                      disabled\r\n                    />\r\n                  </Form.Item>\r\n                </Input.Group>\r\n              </Col>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Row>\r\n        </Form>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', width: '100%', marginTop: '40px' }}>\r\n          <Button\r\n            style={{ width: '210px', height: '42px', background: '#fff', borderRadius: '10px', border: '1px solid #6080b4', color: '#6080b4' }}\r\n            size='large' onClick={handleCancel} className='btn-cancel-sell'>\r\n            取消\r\n          </Button>\r\n          {update === '1' ? <Space key='update' style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={() => handleOk()} type=\"primary\" loading={isLoading} style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff' }}>\r\n              {!!isLoading ? '更改中' : '更改价格'}\r\n            </Button>\r\n          </Space> : update === '2' ? <Space key='tryAgain' style={{ display: 'flex', flexDirection: 'column', height: '60px' }}>\r\n            <Button onClick={() => handleOk()} type=\"primary\" style={{ width: '210px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', color: '#fff', marginLeft: '20px' }}>\r\n              再试一次\r\n            </Button>\r\n            <div style={{ color: 'red' }}>错误：您在钱包中拒绝支付</div>\r\n          </Space> : null}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useRef } from 'react';\r\n\r\nfunction useInterval(callback, delay) {\r\n  const savedCallback = useRef();\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  });\r\n\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current();\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay);\r\n      return () => clearInterval(id);\r\n    }\r\n  }, [delay]);\r\n}\r\n\r\nexport default useInterval;\r\n","import Sell from 'Components/Sell';\r\n// import Buy from 'Components/Buy';\r\nimport Cancel from 'Components/Cancel';\r\nimport Transfer from 'Components/Transfer';\r\nimport UpdatePrice from 'Components/UpdatePrice';\r\nimport { setBalance } from 'Store/actions';\r\nimport store from 'Store/index';\r\nimport useInterval from 'Utils/useInterval';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function RenderSwitch({\r\n  status,\r\n  token,\r\n  orderDetail,\r\n  is1155,\r\n  available,\r\n  web3,\r\n  getOwners1155,\r\n  chainId,\r\n}) {\r\n  const { walletAddress } = useSelector((state) => state);\r\n\r\n  useInterval(() => {\r\n    if (!!walletAddress) {\r\n      store.dispatch(setBalance(walletAddress));\r\n    }\r\n  }, 3000);\r\n  // 3 卖家已上架\r\n  switch (status) {\r\n    case 3:\r\n      return (\r\n        <div className='PE'>\r\n          <div className='actions-btn'>\r\n            <UpdatePrice\r\n              orderDetail={orderDetail}\r\n              token={token}\r\n              is1155={is1155}\r\n              available={available}\r\n              getOwners1155={getOwners1155}\r\n            />\r\n            <div className='cAFwWB' />\r\n            <Cancel orderDetail={orderDetail} getOwners1155={getOwners1155} chainId={chainId} />\r\n          </div>\r\n        </div>\r\n      );\r\n    // 2 卖家未上架\r\n    case 2:\r\n      return (\r\n        <div className='PE'>\r\n          <div className='actions-btn' style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Sell\r\n              token={token}\r\n              is1155={is1155}\r\n              available={available}\r\n              getOwners1155={getOwners1155}\r\n            />\r\n            <div className='cAFwWB' />\r\n            <Transfer\r\n              token={token}\r\n              is1155={is1155}\r\n              available={available}\r\n              web3={web3}\r\n              getOwners1155={getOwners1155}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    // 1 买家\r\n    case 1:\r\n      return (\r\n        <></>\r\n      );\r\n    default:\r\n      return <div></div>;\r\n  }\r\n}\r\n","import { InputNumber, Modal, Form, Input, Button } from 'antd';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { balanceOf } from 'Utils/helper';\r\nimport './index.scss';\r\n\r\nexport default function ModalBuy1155({ visible, orderDetail, buy, setCheckout1155 }) {\r\n  const { web3, balance, walletAddress } = useSelector((state) => state);\r\n  const [form] = Form.useForm();\r\n  const [totalPayment, setTotalPayment] = useState(\r\n    !!orderDetail ? parseFloat(web3.utils.fromWei(orderDetail.price, 'ether')) : 0\r\n  );\r\n  const [amount, setAmount] = useState(1);\r\n  const [insufficient, setInsufficient] = useState(false);\r\n\r\n  const fetchBalance = useCallback(\r\n    async (order) => {\r\n      if (!order) return;\r\n      if (order.tokenPayment === '0x0000000000000000000000000000000000000000') {\r\n        if (order.price > parseInt(balance * 1e18)) {\r\n          setInsufficient(true);\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n      } else {\r\n        let _tokenBal = await balanceOf(order.tokenPayment, walletAddress);\r\n        if (order.price > parseInt(_tokenBal)) {\r\n          setInsufficient(true);\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n      }\r\n    },\r\n    [balance, walletAddress]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!!walletAddress && !!orderDetail)\r\n      fetchBalance({\r\n        ...orderDetail,\r\n        amount,\r\n        price: parseInt(amount) * parseFloat(orderDetail.price),\r\n      });\r\n  }, [fetchBalance, balance, orderDetail, walletAddress, amount]);\r\n\r\n  const handleCancel = () => {\r\n    setCheckout1155(false);\r\n  };\r\n\r\n  const handleOk = async () => {\r\n    const values = await form.validateFields();\r\n    if (!!values && values.amount >= 1) {\r\n      buy({ ...orderDetail, amount: values.amount });\r\n    }\r\n  };\r\n\r\n  const handleChangeAmout = (value) => {\r\n    value = !value ? 1 : value;\r\n    setAmount(value);\r\n    fetchBalance({\r\n      ...orderDetail,\r\n      amount: value,\r\n      price: parseInt(value) * parseFloat(orderDetail.price),\r\n    });\r\n    setTotalPayment(parseInt(value) * parseFloat(web3.utils.fromWei(orderDetail.price, 'ether')));\r\n  };\r\n\r\n  const checkAmount = async (_, value) => {\r\n    if (!value) {\r\n      return Promise.reject(new Error('Enter amount'));\r\n    } else if (parseInt(value) > parseInt(orderDetail.amount) - parseInt(orderDetail.soldAmount)) {\r\n      return Promise.reject(new Error('Amount greater available'));\r\n    } else {\r\n      return Promise.resolve();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={\r\n        <p className='textmode mgb-0' style={{ fontSize: '28px', fontWeight: '900' }}>\r\n          Checkout\r\n        </p>\r\n      }\r\n      visible={visible}\r\n      footer={[\r\n        <Button key='cancel' shape='round' size='large' onClick={() => handleCancel()}>\r\n          Cancel\r\n        </Button>,\r\n        !insufficient ? (\r\n          <Button\r\n            key='payment'\r\n            type='primary'\r\n            shape='round'\r\n            size='large'\r\n            onClick={() => handleOk()}\r\n          >\r\n            Payment\r\n          </Button>\r\n        ) : (\r\n          <Button key='insufficient' type='primary' shape='round' size='large' disabled>\r\n            Insufficient\r\n          </Button>\r\n        ),\r\n      ]}\r\n      centered\r\n      width={550}\r\n      onCancel={handleCancel}\r\n    >\r\n      <p className='textmode mgb-0' style={{ fontSize: '14px', fontWeight: '900' }}>\r\n        Choose the amount of order you want to buy\r\n      </p>\r\n      <Form form={form} className='input-checkout-1155' layout='vertical'>\r\n        <Input.Group>\r\n          <Form.Item\r\n            required\r\n            name={['amount']}\r\n            rules={[{ validator: checkAmount }]}\r\n            label={`Enter amount. ${!!orderDetail ? parseInt(orderDetail.amount) - parseInt(orderDetail.soldAmount) : 0\r\n              } available`}\r\n            className='input-amount-checkout1155'\r\n          >\r\n            <InputNumber\r\n              min='1'\r\n              size='large'\r\n              formatter={(value) => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              onChange={handleChangeAmout}\r\n              placeholder='Amount'\r\n            />\r\n          </Form.Item>\r\n        </Input.Group>\r\n        <Input.Group>\r\n          <Form.Item label='Total payment'>\r\n            <Input\r\n              disabled\r\n              size='large'\r\n              value={`${totalPayment}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n              suffix=\"BNB\"\r\n            />\r\n          </Form.Item>\r\n        </Input.Group>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import 'Views/DetailNFT/index.scss';\r\nimport './index.scss';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { Button, Modal } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { buyNft, approveToken } from 'Store/actions';\r\nimport ModalBuy1155 from 'Components/ModalBuy1155';\r\nimport { balanceOf, allowance } from 'Utils/helper';\r\nimport { connectWeb3Modal } from 'Connections/web3Modal';\r\nimport { useHistory } from 'react-router';\r\n\r\nexport default function BuySmall({ token, orderDetail, is1155, id, addressToken, getOwners1155, setOrderDetail }) {\r\n  let history = useHistory();\r\n  const [insufficient, setInsufficient] = useState(false);\r\n  const { balance, chainId, walletAddress, allowanceToken, web3, buyError } = useSelector((state) => state);\r\n  const [approvedToken, setApprovedToken] = useState(false);\r\n  const [Checkout1155, setCheckout1155] = useState(false);\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [buying, setBuying] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [money, setMoney] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const getBalance = async () => {\r\n      let balance = await web3.eth.getBalance(walletAddress);\r\n      setMoney(balance);\r\n    }\r\n    if(walletAddress) {\r\n      getBalance();\r\n    }\r\n    //4001用户拒绝交易   4000用户确认交易    1交易成功\r\n    if (buyError === '4001') {\r\n      setIsLoading(false);\r\n      setBuying(true);\r\n    } else if (buyError === '4000') {\r\n      setBuying(false);\r\n    } else if (buyError === '1') {\r\n      setOrderDetail(null);\r\n      setIsLoading(false);\r\n      setIsModalVisible(false);\r\n    }\r\n  }, [buyError, setOrderDetail, walletAddress, web3.eth])\r\n\r\n  const handleOk = () => {\r\n    setIsLoading(true);\r\n    setBuying(false);\r\n    buy(orderDetail);\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n    setIsLoading(false);\r\n    setBuying(false);\r\n  };\r\n\r\n  const fetchBalance = useCallback(\r\n    async (order) => {\r\n      if (!order) return;\r\n      if (order.tokenPayment === '0x0000000000000000000000000000000000000000') {\r\n        setApprovedToken(true);\r\n        if (order.price > parseInt(balance * 1e18)) {\r\n          setInsufficient(true);\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n      } else {\r\n        let allowanceToken = await allowance(order.tokenPayment, walletAddress, chainId);\r\n        let _tokenBal = await balanceOf(order.tokenPayment, walletAddress);\r\n        if (order.price > parseInt(_tokenBal)) {\r\n          setInsufficient(true);\r\n        } else {\r\n          setInsufficient(false);\r\n        }\r\n        if (order.price <= parseInt(allowanceToken)) {\r\n          setApprovedToken(true);\r\n        } else {\r\n          setApprovedToken(false);\r\n        }\r\n      }\r\n    },\r\n    [balance, walletAddress, chainId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!!walletAddress) fetchBalance(orderDetail);\r\n  }, [fetchBalance, walletAddress, allowanceToken, orderDetail]);\r\n\r\n  const buy = async (order) => {\r\n    if (!order) return;\r\n    let result = await dispatch(buyNft(order, is1155));\r\n    if (!!result.status && !!result.link) {\r\n      if (!!is1155) {\r\n        await getOwners1155();\r\n      }\r\n      history.push({\r\n        pathname: `/token/${chainId}/${addressToken}/${id}/null`,\r\n      });\r\n    }\r\n  };\r\n\r\n  const approve = async () => {\r\n    if (!orderDetail) return;\r\n    await dispatch(approveToken(orderDetail));\r\n  };\r\n\r\n  const checkout1155 = async () => {\r\n    setCheckout1155(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!!walletAddress ? (\r\n        <>\r\n          <Modal\r\n            title={<h3 className='textmode mgb-0'>购买</h3>}\r\n            visible={isModalVisible}\r\n            onCancel={handleCancel}\r\n            centered\r\n            footer={[\r\n              <Button\r\n                style={{ width: '280px', height: '42px', background: '#6080b4', borderRadius: '10px', border: 'none', marginBottom: '10px' }}\r\n                key='buy'\r\n                loading={isLoading}\r\n                type='primary'\r\n                shape='round'\r\n                size='large'\r\n                onClick={() => handleOk()}\r\n              >\r\n                {!!isLoading ? '支付中' : '购买'}\r\n              </Button>, <div key='red' style={{ color: 'red', marginTop: '5px', display: `${!!buying ? 'block' : 'none'}` }}>错误：支付失败</div>\r\n            ]}\r\n          >\r\n            <div className='sell-img' style={{ borderTop: '1px solid rgba(96,128,180,0.09)', borderBottom: '1px solid rgba(96,128,180,0.09)', padding: '45px 0', display: 'flex', alignItems: 'center' }}>\r\n              <img alt='img-nft' src={token.image} />\r\n              <div>\r\n                <div className='textmode'>{token.name}</div>\r\n                <div style={{ color: 'rgba(0,0,0,0.50)' }}>{token.nameCollection}</div>\r\n                <div className='textmode'>单价: <span style={{ fontWeight: '600', fontSize: '16px' }}>{web3.utils.fromWei(orderDetail.price.toString(), 'ether')}</span>{' '}{chainId === 4 ? 'ETH' : 'BNB'}</div>\r\n              </div>\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', marginTop: '10px' }}>账户余额:<span>{web3.utils.fromWei(money.toString(), 'ether').slice(0, 6)}{' '}{chainId === 4 ? 'ETH' : 'BNB'}</span></div>\r\n          </Modal>\r\n          <ModalBuy1155\r\n            visible={Checkout1155}\r\n            orderDetail={orderDetail}\r\n            buy={buy}\r\n            insufficient={insufficient}\r\n            setCheckout1155={setCheckout1155}\r\n          />\r\n          {approvedToken ? (\r\n            insufficient ? (\r\n              <Button type='text' disabled shape='round' size='small'>\r\n                余额不足\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                className=\"buy-btn\"\r\n                type='text'\r\n                shape='round'\r\n                size='small'\r\n                onClick={() => (is1155 ? checkout1155() : setIsModalVisible(true))}\r\n              >\r\n                购买\r\n              </Button>\r\n            )\r\n          ) : (\r\n            <Button type='text' shape='round' size='small' onClick={approve}>\r\n              授权\r\n            </Button>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Button\r\n            style={{ color: '#6080B4', fontWeight: 'bold', fontSize: '15px' }}\r\n            type='text' shape='round' size='small' onClick={connectWeb3Modal}>\r\n            购买\r\n          </Button>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { /* Button,  message, */  Grid, Image } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\nimport { useCallback, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams, Link, useHistory } from 'react-router-dom';\r\nimport IconLoading from 'Components/IconLoading';\r\nimport helperGetNFTDetails from './helperGetNFTDetails';\r\nimport helperGetOwner1155 from './helperGetOwner1155';\r\nimport helperStatusActions721 from './helperStatusActions721';\r\nimport helperStatusActions1155Order from './DetailsNftOrder/helperStatusActions1155Order';\r\nimport helperStatusActions1155Profile from './DetailsNftProfile/helperStatusActions1155Profile';\r\nimport RenderSwitch from './RenderSwitch';\r\nimport BuySmall from 'Components/BuySmall';\r\nimport { getPriceBNB, getPriceETH } from 'Utils/helper';\r\nimport abiERC721 from 'Contracts/ERC721.json';\r\n// import IconCoppy from 'Components/IconCoppy';\r\nimport { getRootExplorer } from 'Utils/getRootExplorer';\r\nimport { setAvailableSellOrder } from 'Store/actions';\r\nimport moment from 'moment';\r\n\r\nimport './index.scss';\r\nimport { selectChain } from 'Connections/web3Modal';\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nexport default function DetailNFT() {\r\n  // 获取NFT详情信息\r\n  const {\r\n    web3,\r\n    walletAddress,\r\n    sellOrderList,\r\n    availableSellOrder721,\r\n    market,\r\n    chainId,\r\n    nftList,\r\n    convertErc1155Tokens,\r\n    availableSellOrder1155,\r\n    erc1155Tokens,\r\n    infoCollections,\r\n  } = useSelector((state) => state);\r\n  const { chainID, addressToken, id, sellID } = useParams();\r\n  const { lg } = useBreakpoint();\r\n\r\n  const dispatch = useDispatch();\r\n  let history = useHistory();\r\n\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const [is1155, setIs1155] = useState(false);\r\n  const [orderDetail, setOrderDetail] = useState();\r\n  const [status, setStatus] = useState(1);\r\n  const [owners, setOwners] = useState([]);\r\n  const [ownersOnSale, setOwnersOnSale] = useState([]);\r\n  const [available, setAvailable] = useState(1);\r\n  // const [totalSupply, setTotalSupply] = useState(1);\r\n  const [getUsd, setGetUsd] = useState(null);\r\n  const [useStatus, setUseStatus] = useState(true);// 设置状态 用来阻止内存泄漏\r\n\r\n  // 检查route的chainId\r\n  useEffect(() => {\r\n    if (parseInt(chainId) !== parseInt(chainID)) selectChain(chainID, walletAddress);\r\n  }, [walletAddress, chainId, chainID]);\r\n\r\n  useEffect(() => {\r\n    const fetchSetAvailableOrdersNew = async () => {\r\n      await dispatch(setAvailableSellOrder());\r\n    };\r\n    fetchSetAvailableOrdersNew();\r\n    setTimeout(() => {\r\n      fetchSetAvailableOrdersNew();\r\n      fetchSetAvailableOrdersNew();\r\n    }, 500);\r\n  }, [dispatch]);\r\n\r\n  // Get detail nft by TokenURI for both 721 and 1155\r\n  useEffect(() => {\r\n    helperGetNFTDetails(web3, nftList, addressToken, id, erc1155Tokens, setAvailable, setToken);\r\n  }, [web3, nftList, addressToken, id, erc1155Tokens, infoCollections]);\r\n\r\n  // Modules getOwners1155 to other file so short index file\r\n  const getOwners1155 = useCallback(async () => {\r\n    if (!!market) {\r\n      helperGetOwner1155(\r\n        convertErc1155Tokens,\r\n        addressToken,\r\n        id,\r\n        chainId,\r\n        market,\r\n        // setTotalSupply,\r\n        setOwners,\r\n        setOwnersOnSale\r\n      );\r\n    }\r\n  }, [convertErc1155Tokens, addressToken, id, chainId, market]);\r\n\r\n  // Check status action sell, transfer, cancel and buy\r\n  const statusActions = useCallback(async () => {\r\n    if (web3 && sellOrderList && availableSellOrder721 && nftList) {\r\n      let is1155 = await nftList.methods.isERC1155(addressToken).call();\r\n      //  Process ERC1155\r\n      if (is1155) {\r\n        getOwners1155();\r\n        setIs1155(true);\r\n        if (Number.isInteger(parseInt(sellID)) && sellID !== 'null')\r\n          helperStatusActions1155Order(\r\n            availableSellOrder721,\r\n            availableSellOrder1155,\r\n            nftList,\r\n            sellOrderList,\r\n            walletAddress,\r\n            web3,\r\n            sellID,\r\n            setStatus,\r\n            setOrderDetail,\r\n            history\r\n          );\r\n        else\r\n          helperStatusActions1155Profile(\r\n            walletAddress,\r\n            setStatus,\r\n            addressToken,\r\n            id,\r\n            chainId,\r\n            web3,\r\n          );\r\n      } else {\r\n        //  Process ERC721\r\n        helperStatusActions721(\r\n          addressToken,\r\n          availableSellOrder721,\r\n          id,\r\n          market,\r\n          nftList,\r\n          sellOrderList,\r\n          walletAddress,\r\n          web3,\r\n          setStatus,\r\n          setOwners,\r\n          setOwnersOnSale,\r\n          setOrderDetail,\r\n          history,\r\n          sellID\r\n        );\r\n      }\r\n    }\r\n  }, [\r\n    addressToken,\r\n    availableSellOrder721,\r\n    availableSellOrder1155,\r\n    id,\r\n    market,\r\n    nftList,\r\n    sellOrderList,\r\n    walletAddress,\r\n    web3,\r\n    sellID,\r\n    getOwners1155,\r\n    chainId,\r\n    history,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    statusActions();\r\n  }, [statusActions]);\r\n\r\n  const getCountPrice = useCallback(async () => {\r\n    if (!!orderDetail && chainId) {\r\n      let price = await web3.utils.fromWei(orderDetail.price, 'ether');\r\n      let countPrice;\r\n      if (chainId === 4) {\r\n        countPrice = await getPriceETH(price);\r\n      } else {\r\n        countPrice = await getPriceBNB(price);\r\n      }\r\n      setGetUsd(countPrice);\r\n    }\r\n  }, [orderDetail, web3.utils, chainId])\r\n\r\n  useEffect(() => {\r\n    if (!getUsd && useStatus) {\r\n      getCountPrice();\r\n    }\r\n    // 阻止useEffect内存泄漏\r\n    return () => {\r\n      setUseStatus(false)\r\n    }\r\n  }, [getCountPrice, getUsd, useStatus]);\r\n\r\n  const getMetadata = useCallback(async () => {\r\n    if (!!addressToken && !!id) {\r\n      const nft = new web3.eth.Contract(abiERC721.abi, addressToken);\r\n      let tokenUri = await nft.methods.tokenURI(id).call();\r\n      setMetadata(tokenUri);\r\n    }\r\n  }, [web3, addressToken, id]);\r\n\r\n  useEffect(() => {\r\n    getMetadata();\r\n  }, [getMetadata]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', background: '#f7f8fb' }}>\r\n      <div className='detail-page center'>\r\n        <div className='body-page'>\r\n          {!!token ? (\r\n            <div className='detail-main'>\r\n              {lg ? (\r\n                <div className='info-wrap-left'>\r\n                  <div className='expand-img-nft'>\r\n                    <div className='image-label center'>\r\n                      <Image alt='img-nft' src={token.image} />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='description-nft'>\r\n                    <div className='content-properties'>\r\n                      <div className='title-tab-properties'>\r\n                        <h3 className='nft-h3'>简介</h3>\r\n                      </div>\r\n\r\n                      <div className='detail-des textmode'>\r\n                        {token.description}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='properties-nft'>\r\n                    <div className='content-properties'>\r\n                      <div className='title-tab-properties'>\r\n                        <h3 className='nft-h3'>属性</h3>\r\n                      </div>\r\n                      <div className='list-properties'>\r\n                        <div className='items-properties'>\r\n                          {!!token.attributes\r\n                            ? token.attributes.map((attr, i) => (\r\n                              <div className='item-properties' key={i}>\r\n                                <div className='name-properties'>{attr.trait_type}</div>\r\n                                <div className='value-properties textmode'>\r\n                                  {!!attr.display_type &&\r\n                                    attr.display_type.toLowerCase() === 'date' &&\r\n                                    !!moment(attr.value).isValid()\r\n                                    ? moment(\r\n                                      attr.value.toString().length < 13\r\n                                        ? attr.value * 1000\r\n                                        : attr.value\r\n                                    ).format('DD-MM-YYYY')\r\n                                    : attr.value}\r\n                                </div>\r\n                              </div>\r\n                            ))\r\n                            : null}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : null}\r\n\r\n              <div className='info-wrap-right'>\r\n                <div className='info-order-nft'>\r\n                  <div className='detail-title'>\r\n                    <h1>{token.name}</h1>\r\n                  </div>\r\n                  {sellID !== 'null' ? (<div className='show-price'>\r\n                    <div>{!!orderDetail ? `${web3.utils.fromWei(orderDetail.price, 'ether') + `${chainId === 4 ? ' ETH' : ' BNB'}`}` : <LoadingOutlined className='textmode' style={{ fontSize: '24px' }} />}</div>\r\n                    <div className='price'>{!!orderDetail ? `≈$ ${getUsd}` : ''}</div>\r\n                  </div>) : null}\r\n                  <div className='collections-nft'>\r\n                    <div style={{ fontSize: '16px' }}>\r\n                      <div className=\"textBlack\">作者<span style={{ color: 'rgba(0,0,0,0.30)' }}>（10% 版税）</span></div>\r\n                      {/* <Link to={`/collection/${chainId}/${addressToken.toLowerCase()}`}> */}\r\n                      {token.nameCollection}\r\n                      {/* </Link> */}\r\n                    </div>\r\n                    <div style={{ margin: '0 45px' }}>\r\n                      <div className=\"textBlack\">作品集</div>\r\n                      {/*todo walletAddress应该为作者钱包地址 */}\r\n                      <Link to={`/collection/detail/${addressToken.toLowerCase()}/${walletAddress}`}>\r\n                        {token.nameCollection}\r\n                      </Link>\r\n                    </div>\r\n                    <div>\r\n                      <div className=\"textBlack\">持有者</div>\r\n                      {owners.map((owner, index) => (\r\n                        <div key={index} className='avatar-link-available'>\r\n                          <div className='link-and-available'>\r\n                            <Link\r\n                              to={`/profile/index/${chainId}/${owner.owner.toLowerCase()}`}\r\n                              className='owner'\r\n                            >\r\n                              <strong>\r\n                                {`${owner.owner.slice(0, 8)}...${owner.owner.slice(\r\n                                  owner.owner.length - 6,\r\n                                  owner.owner.length\r\n                                )}`}\r\n                              </strong>\r\n                            </Link>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className='purchase-nft'>\r\n                  <h3 className=\"nft-h3\">出售列表</h3>\r\n                  <div>\r\n                    <div className='order-title'>\r\n                      <span className='width100'>单价</span><span className='width100'>数量</span><span className='width100'>卖家</span>\r\n                    </div>\r\n                    <div className='order-List'>\r\n                      <span className='width100'>\r\n                        {!!orderDetail && sellID !== 'null' ? (\r\n                          <div className='title-and-price'>\r\n                            <span className='price-eth color-black'>\r\n                              {web3.utils.fromWei(orderDetail.price, 'ether')}{chainId === 4 ? ' ETH' : ' BNB'}\r\n                            </span>\r\n                          </div>\r\n                        ) : (\r\n                          <>--</>\r\n                        )}\r\n                      </span>\r\n                      <span className='width100'>{!!orderDetail && sellID !== 'null' ? (\r\n                        <div className='color-black'>\r\n                          {!!ownersOnSale ? ownersOnSale[0].value : 1}\r\n                        </div>\r\n                      ) : (\r\n                        <>--</>\r\n                      )}</span>\r\n                      <span className='width100'>{!!orderDetail && sellID !== 'null' ? (\r\n                        <div>\r\n                          <Link\r\n                            to={`/profile/index/${chainId}/${orderDetail.seller.toLowerCase()}`}\r\n                            className='owner'\r\n                          >\r\n                            <strong style={{ color: '#6080B4', fontWeight: '400' }}>\r\n                              {`${orderDetail.seller.slice(0, 8)}...${orderDetail.seller.slice(\r\n                                orderDetail.seller.length - 6,\r\n                                orderDetail.seller.length\r\n                              )}`}\r\n                            </strong>\r\n                          </Link>\r\n\r\n                        </div>\r\n                      ) : (\r\n                        <>--</>\r\n                      )}</span>\r\n                      <span className='width100' style={{ textAlign: 'end' }}>\r\n                        {!walletAddress ||\r\n                          (!!walletAddress && orderDetail && sellID !== 'null' &&\r\n                            orderDetail.seller.toLowerCase() !== walletAddress.toLowerCase()) ? (\r\n                          <BuySmall\r\n                            token={token}\r\n                            orderDetail={orderDetail}\r\n                            is1155={is1155}\r\n                            id={id}\r\n                            addressToken={addressToken}\r\n                            getOwners1155={getOwners1155}\r\n                            setOrderDetail={setOrderDetail}\r\n                          />\r\n                        ) : null}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className='style-purchase'>\r\n                    <div className='actions-nft'>\r\n                      <RenderSwitch\r\n                        status={status}\r\n                        token={token}\r\n                        orderDetail={orderDetail}\r\n                        is1155={is1155}\r\n                        available={available}\r\n                        web3={web3}\r\n                        chainId={chainId}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className='nft-details'>\r\n                  <h3 className=\"nft-h3\">详情</h3>\r\n                  <div className='flex-between mb15'>\r\n                    <div className='color-black'>合约地址</div>\r\n                    <div>\r\n                      <a\r\n                        href={`${getRootExplorer(chainId)}/address/${addressToken}`}\r\n                        target='_blank'\r\n                        rel='noreferrer'\r\n                        className='href-to-address-contract'\r\n                      >\r\n                        {lg\r\n                          ? addressToken\r\n                          : `${addressToken.slice(0, 8)}...${addressToken.slice(\r\n                            addressToken.length - 6,\r\n                            addressToken.length\r\n                          )}`}\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  <div className='flex-between mb15'>\r\n                    <div className='color-black'>Token ID</div>\r\n                    <div className='color-black'>{id}</div>\r\n                  </div>\r\n                  <div className='flex-between mb15'>\r\n                    <div className='color-black'>NFT标准</div>\r\n                    <div className='color-black'>ERC-721</div>\r\n                  </div>\r\n                  <div className='flex-between'>\r\n                    <div className='color-black'>元数据</div>\r\n                    <div className='href-to-address-contract'>\r\n                      <a\r\n                        href={metadata}\r\n                        target='_blank'\r\n                        rel='noreferrer'\r\n                        className='href-to-address-contract'\r\n                      >\r\n                        IPFS\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className='center' style={{ width: '100%', minHeight: '200px' }}>\r\n              <IconLoading />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}